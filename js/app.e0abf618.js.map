{"version":3,"file":"js/app.e0abf618.js","mappings":"oFAEM,SAAUA,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMC,GAAsBC,EAAAA,EAAAA,IAAkB,YAE9C,OAAQC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAaH,EACrC,C,sFCNA,MAAMI,EAAiB,GACvB,IAAK,IAAIC,GAAI,EAAGA,GAAI,IAAKA,KACvBD,EAAKC,KAAMA,GAAI,GAAK,IAAM,IAAMA,GAAEC,SAAS,IAEvC,SAAUC,IAEd,MAAMC,EAAqB,WAAhBC,KAAKC,SAAwB,EAClCC,EAAqB,WAAhBF,KAAKC,SAAwB,EAClCE,EAAqB,WAAhBH,KAAKC,SAAwB,EAClCG,EAAqB,WAAhBJ,KAAKC,SAAwB,EAClCH,EAAOH,EAAU,IAALI,GAAaJ,EAAKI,GAAM,EAAI,KAAQJ,EAAKI,GAAM,GAAK,KAAQJ,EAAKI,GAAM,GAAK,KAAQ,IAAMJ,EAAU,IAALO,GAAaP,EAAKO,GAAM,EAAI,KAAQ,IAAMP,EAAKO,GAAM,GAAK,GAAO,IAAQP,EAAKO,GAAM,GAAK,KAAQ,IAAMP,EAAU,GAALQ,EAAY,KAAQR,EAAKQ,GAAM,EAAI,KAAQ,IAAMR,EAAKQ,GAAM,GAAK,KAAQR,EAAKQ,GAAM,GAAK,KAAQR,EAAU,IAALS,GAAaT,EAAKS,GAAM,EAAI,KAAQT,EAAKS,GAAM,GAAK,KAAQT,EAAKS,GAAM,GAAK,KAE/Y,OAAON,EAAKO,aACd,CCRM,SAAUC,EAASC,GACvB,OAAe,OAARA,GAA+B,kBAARA,CAChC,CCHA,MAAMC,EAAM,CAACC,EAA0BC,EAAYC,KACjD,GAAIL,EAASK,GACX,IACEA,EAAQC,KAAKC,UAAUF,E,CACvB,M,CAIJG,OAAOL,GAAaM,QAAQL,EAAKC,EAAM,EAGnCK,EAAM,CAAIP,EAA0BC,KACxC,IAAIC,EAAQG,OAAOL,GAAaQ,QAAQP,GACxC,GAAIC,EACF,IACEA,EAAQC,KAAKM,MAAMP,E,CACnB,M,CAIJ,OAAOA,CAAU,EAONQ,EAAqBT,GAAgBM,EAAO,eAAgBN,GAC5DU,EAAW,CAACV,EAAaC,IAAeH,EAAI,eAAgBE,EAAKC,GCvBjEU,EAAwFC,OAAO,gBAC/FC,EAA8DD,OAAO,UACrEE,EAA8DF,OAAO,UAErEG,EAA8DH,OAAO,gBAErEI,EAAsFJ,OAAO,oBAC7FK,EAA6DL,OAAO,UACpEM,EAAsDN,OAAO,UAE7DO,EAIAP,OAAO,4BAEPQ,EAAsFR,OAAO,YAE7FS,EAA+CT,OAAO,UAErD,SAAUU,IACtB,MAAMC,GAAQC,EAAAA,EAAAA,IAA4C,CAAC,IAC3DC,EAAAA,EAAAA,IAAQd,EAA4BY,GAEpC,MAAMG,EAAWC,IACfJ,EAAMtB,MAAM0B,EAAKC,IAAMD,CAAI,GAE7BF,EAAAA,EAAAA,IAAQZ,EAAkBa,GAE1B,MAAMG,EAAcC,WACXP,EAAMtB,MAAM6B,EAAO,GAE5BL,EAAAA,EAAAA,IAAQX,EAAqBe,GAE7B,MAAME,GAAaP,EAAAA,EAAAA,IAAiD,CAAC,IACrEC,EAAAA,EAAAA,IAAQL,EAAqBW,GAE7B,MAAMC,GAAmBC,EAAAA,EAAAA,KAAS,KAChC,MAAMD,EAA2D,CAAC,EAQlE,OANAE,OAAOC,QAAQJ,EAAW9B,OAAOmC,SAC/B,EAAEN,EAAQO,MACRL,EAAiBF,GAAUO,EAAQC,cAAcC,WAA6C,IAI3FP,CAAgB,IAGnBQ,GAA0BhB,EAAAA,EAAAA,IAAyB,CAAC,IAC1DC,EAAAA,EAAAA,IAAQ,8BAA+Be,GAEvC,MAAMC,GAAcjB,EAAAA,EAAAA,IAAY,KAChCC,EAAAA,EAAAA,IAAQV,EAAkC0B,GAE1C,MAAMC,GAAiClB,EAAAA,EAAAA,IAAyB,CAAC,IACjEC,EAAAA,EAAAA,IAAQT,EAA6C0B,GAErD,MAAMC,EAAWC,IACfH,EAAYxC,MAAM4C,KAAKD,GACvBJ,EAAwBvC,MAAM2C,EAAKhB,IAAM,CACvCA,GAAIgB,EAAKhB,GACTkB,KAAM,CACJC,KAAMH,EAAKE,KAAKE,GAAGlB,OACnBmB,KAAML,EAAKE,KAAKG,MAElBC,GAAI,CACFH,KAAMH,EAAKM,GAAGF,GAAGlB,OACjBmB,KAAML,EAAKM,GAAGD,MAEjB,GAEHxB,EAAAA,EAAAA,IAAQP,EAAiByB,GAEzB,MAAMQ,EAAcC,IAClB,MAAMC,EAAcZ,EAAYxC,MAAMqD,WAAUV,GAAQA,EAAKhB,KAAOwB,KAC7DG,GAAcd,EAAYxC,MAAMuD,OAAOH,EAAa,UAEpDb,EAAwBvC,MAAMmD,GAErClB,OAAOuB,OAAOf,EAA+BzC,OAAOmC,SAClDsB,IACE,IAAK,IAAIxE,EAAI,EAAGA,EAAIwE,EAAGC,GAAGC,QACpBF,EAAGC,GAAGzE,GAAG0C,KAAOwB,EAIpBlE,IAHEwE,EAAGC,GAAGH,OAAOtE,EAAG,GAKpB,IAAK,IAAIA,EAAI,EAAGA,EAAIwE,EAAGG,IAAID,QACrBF,EAAGG,IAAI3E,GAAG0C,KAAOwB,EAIrBlE,IAHEwE,EAAGG,IAAIL,OAAOtE,EAAG,E,IAOzBqE,EAAWL,GAAGF,GAAGc,mBAAmBP,EAAW,GAEjD9B,EAAAA,EAAAA,IAAQR,EAAoBkC,GAE5B,MAAMY,EAAkC,CACtCC,EACAC,EACAC,KAEKxB,EAA+BzC,OAAMkE,EAAAA,EAAAA,IAAMF,GAAWjB,GAAGlB,UAC5DY,EAA+BzC,OAAMkE,EAAAA,EAAAA,IAAMF,GAAWjB,GAAGlB,QAAU,CACjE6B,GAAI,GACJE,IAAK,KAGTnB,EAA+BzC,OAAMkE,EAAAA,EAAAA,IAAMF,GAAWjB,GAAGlB,QAAQ+B,IAAIhB,KAAKmB,GAErEtB,EAA+BzC,OAAMkE,EAAAA,EAAAA,IAAMD,GAASlB,GAAGlB,UAC1DY,EAA+BzC,OAAMkE,EAAAA,EAAAA,IAAMD,GAASlB,GAAGlB,QAAU,CAC/D6B,GAAI,GACJE,IAAK,KAGTnB,EAA+BzC,OAAMkE,EAAAA,EAAAA,IAAMD,GAAQlB,GAAGlB,QAAQ6B,GAAGd,KAAKmB,EAAW,GAEnFvC,EAAAA,EAAAA,IAAQN,EAA+C4C,GAEvD,MAAMK,EAAa,KACjB,MAAMC,EAAQ,CACZ9C,MAAOA,EAAMtB,MACbqE,UAAWtC,EAAiB/B,MAC5BsE,MAAO/B,EAAwBvC,OAE3BuE,EAAU,CACdC,KAAMC,EAAAA,GACNC,QAASD,EAAAA,IAELE,EAAW,CACfC,OAAQ,UACRC,YAAaC,OAAO,IAAIC,MACxBC,aAAcF,OAAO,IAAIC,OAG3BtE,EAAS,aAAc,CACrBtB,KAAMA,IACNiF,QACAG,UACAI,YACA,GAEJnD,EAAAA,EAAAA,IAAQJ,EAAoB+C,EAC9B,CC1JO,MAAMc,EAA8DtE,OAAO,WACrEuE,EAA+EvE,OAAO,UAErF,SAAUwE,IACtB,MAAMC,GAAmB7D,EAAAA,EAAAA,IAAmB,OAC5CC,EAAAA,EAAAA,IAAQyD,EAA2BG,GAEnC,MAAMC,GAAe9D,EAAAA,EAAAA,IAAwC,OAC7DC,EAAAA,EAAAA,IAAQ0D,EAAuBG,EACjC,CCTO,MAAMC,EAET3E,OAAO,UAEG,SAAUwE,IACtB,MAAMI,GAAehE,EAAAA,EAAAA,IAAkC,MACjDiE,EAAmB9D,IAAyC6D,EAAavF,MAAQ0B,CAAI,GAE3FF,EAAAA,EAAAA,IAAQ8D,EAAsB,CAC5BC,EACAC,GAEJ,CCbO,MAAMC,EAAiF9E,OAAO,iBACxF+E,EAAuF/E,OAAO,mBAE7F,SAAUgF,IACtB,MAAMC,GAAcC,EAAAA,EAAAA,OACpBrE,EAAAA,EAAAA,IACEiE,EACAG,GAGF,MAAME,EAAkB/C,IACtB6C,EAAY5F,MAAQ+C,CAAE,GAExBvB,EAAAA,EAAAA,IACEkE,EACAI,EAEJ,CCfc,SAAUC,IACtB,CAAC1E,EAAa8D,EAAca,EAAYC,GAAS9D,SAAQ+D,GAAMA,KACjE,C,cCLA,MACMC,EAAa,CAAEC,MAAO,YAEtB,SAAU/H,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAM0H,GAA0BxH,EAAAA,EAAAA,IAAkB,gBAC5CyH,GAAwBzH,EAAAA,EAAAA,IAAkB,cAC1C0H,GAAgC1H,EAAAA,EAAAA,IAAkB,sBAClD2H,GAAgC3H,EAAAA,EAAAA,IAAkB,sBAClD4H,GAAkC5H,EAAAA,EAAAA,IAAkB,wBAE1D,OAAQC,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAOP,EAAY,EAC3DQ,EAAAA,EAAAA,IAAaN,EAAyB,CACpCD,MAAO,eACPQ,OAAOC,EAAAA,EAAAA,IAAgB,CACrBC,OAAQ,GAAGxI,EAAKyI,wBAEjB,KAAM,EAAG,CAAC,WACbC,EAAAA,EAAAA,GAAoB,MAAO,CACzBZ,MAAO,iBACPQ,OAAOC,EAAAA,EAAAA,IAAgB,CACrBI,IAAK,GAAG3I,EAAKyI,wBAEd,EACDJ,EAAAA,EAAAA,IAAaL,EAAuB,CAClCF,MAAO,aACPQ,OAAOC,EAAAA,EAAAA,IAAgB,CACrBK,KAAM5I,EAAK6I,wBAA0B,KACrCC,MAAO,eAAe9I,EAAK+I,6BAA6B/I,EAAK6I,+BAE/DG,eAAgB/I,EAAO,KAAOA,EAAO,GAAMgJ,IACzCjJ,EAAKwH,eAAeyB,EAAMC,UAAUC,MAAM,IAE3C,KAAM,EAAG,CAAC,WACbd,EAAAA,EAAAA,IAAaJ,EAA+B,CAC1CH,MAAO,qBACPQ,OAAOC,EAAAA,EAAAA,IAAgB,CACrBK,KAAM,EACNQ,MAAO,eAAepJ,EAAK6I,gCAE5B,KAAM,EAAG,CAAC,WACbR,EAAAA,EAAAA,IAAaH,EAA+B,CAC1CJ,MAAO,qBACPQ,OAAOC,EAAAA,EAAAA,IAAgB,CACrBa,MAAO,EACPR,KAAM,eAAe5I,EAAK+I,8BAE3B,KAAM,EAAG,CAAC,WACbV,EAAAA,EAAAA,IAAaF,EAAiC,CAC5CL,MAAO,uBACPQ,MAAO,CACLQ,MAAO,QACPN,OAAQ,QACRa,OAAQ,MACRD,MAAO,UAGV,IAEP,CC1DA,MACMvB,EAAa,CAAE5E,IAAK,kBACpBqG,EAAa,CACjBlD,QAAS,MACTmD,MAAO,6BACP,cAAe,+BACfC,EAAG,MACHC,EAAG,MACHC,QAAS,gBACT,YAAa,WACb5B,MAAO,oBAEH6B,EAAa,CAAE7B,MAAO,SACtB8B,EAAa,CAAC,KAEd,SAAU7J,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMwJ,GAAqBtJ,EAAAA,EAAAA,IAAkB,WACvCuJ,GAAqBvJ,EAAAA,EAAAA,IAAkB,WAE7C,OAAQC,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAOP,EAAY,GAC1DrH,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAOkB,EAAY,GACnD9I,EAAAA,EAAAA,KAAW,IAAO4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYhK,EAAKgD,OAAQI,KACvE5C,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAaoJ,EAAoB,CACrDI,SAAS,EACThH,IAAKjD,EAAKkK,cACVzI,IAAK2B,EAAKC,GACV8G,GAAI/G,EAAK+G,GACT,UAAW/G,EAAKC,GAChB+G,YAAapK,EAAKqK,gBAClBC,WAAYtK,EAAKuK,eACjBC,cAAexK,EAAKyK,kBACpBC,aAAc1K,EAAK2K,iBACnBC,oBAAqB5K,EAAK6K,wBAC1B,iBACA7K,EAAKmE,+BAA+Bf,EAAKC,KAAOrD,EAAK8K,oBAErDC,WAAY/K,EAAKgL,eACjBC,SAAU7H,EAAK6H,SACf,oBAAsBC,GAAkB9H,EAAK6H,SAAYC,GACxD,KAAM,EAAG,CAAC,KAAM,UAAW,cAAe,aAAc,gBAAiB,eAAgB,sBAAuB,iBAAkB,aAAc,WAAY,yBAC7J,QACH1K,EAAAA,EAAAA,KAAW,IAAO4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYhK,EAAKkE,aAAcG,KAC7E7D,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAaqJ,EAAoB,CACrDrI,IAAK4C,EAAKhB,GACV,UAAWgB,EAAKhB,GAChB,mBAAoBgB,EAAK8G,eACzB5G,KAAMF,EAAKE,KACXI,GAAIN,EAAKM,GACTyG,SAAUpL,EAAK4E,YACd,KAAM,EAAG,CAAC,UAAW,mBAAoB,OAAQ,KAAM,gBACxD,OACJ8D,EAAAA,EAAAA,GAAoB,IAAKiB,EAAY,EACnCjB,EAAAA,EAAAA,GAAoB,OAAQ,CAC1BZ,MAAO,aACPuD,EAAGrL,EAAKsL,YACP,KAAM,EAAG1B,GACX5J,EAAKuL,gBACD/K,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAaoJ,EAAoB,CAC9CpI,IAAK,EACLwB,IAAK,eACLqF,MAAO,CAAC,QAAU,OAClB6B,GAAInK,EAAKuL,cACThI,OAAQ,IACR0H,SAAUjL,EAAKwL,kBACf,oBAAqBvL,EAAO,KAAOA,EAAO,GAAMiL,GAAkBlL,EAAKwL,kBAAqBN,GAC5FO,cAAezL,EAAK8K,qBACnB,KAAM,EAAG,CAAC,KAAM,WAAY,oBAC/BY,EAAAA,EAAAA,IAAoB,IAAI,SAG/B,IACL,C,gBCvEA,MACM7D,EAAa,CAAC,aACdyB,EAAa,CAAExB,MAAO,kBAEtB8B,EAAa,CAAE9B,MAAO,iBACtB6D,EAAa,CACjBC,UAAW,sBACX9D,MAAO,wBAGH,SAAU/H,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMwL,GAAyBtL,EAAAA,EAAAA,IAAkB,eAC3CuL,GAAwBvL,EAAAA,EAAAA,IAAkB,cAC1CwL,GAAyBxL,EAAAA,EAAAA,IAAkB,eAC3CyL,GAAiCzL,EAAAA,EAAAA,IAAkB,uBACnD0L,GAA4C1L,EAAAA,EAAAA,IAAkB,kCAC9D2L,GAA0C3L,EAAAA,EAAAA,IAAkB,gCAC5D4L,GAA2C5L,EAAAA,EAAAA,IAAkB,iCAEnE,OAAQC,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,IAAK,CAC7CN,OAAOsE,EAAAA,EAAAA,IAAgB,CAAC,UAAW,CACjC,mBAAoBpM,EAAKqM,aAE3BC,YAAarM,EAAO,KAAOA,EAAO,IAAKsM,EAAAA,EAAAA,KAE3C,IAAIC,IAAUxM,EAAKyM,qBAAuBzM,EAAKyM,uBAAuBD,IAAQ,CAAC,UAC3EZ,UAAW,aAAa5L,EAAKiL,SAAS,OAAOjL,EAAKiL,SAAS,MAC3DhI,IAAK,YACJ,GACAzC,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,gBAAiBkB,EAAY,EAC9DZ,EAAAA,EAAAA,GAAoB,MAAO,CACzBZ,MAAO,gBACPyB,MAAO,+BACPmD,QAASzM,EAAO,KAAOA,EAAO,IAAKsM,EAAAA,EAAAA,KAE3C,IAAIC,IAAUxM,EAAK2M,qBAAuB3M,EAAK2M,uBAAuBH,IAAQ,CAAC,QAAQ,WAC9E,EAOGd,EAAAA,EAAAA,IAAoB,IAAI,IAC5BhD,EAAAA,EAAAA,GAAoB,MAAOkB,EAAY,EACrClB,EAAAA,EAAAA,GAAoB,KAAM,CACxBZ,MAAO,WACP,iBAAkB,MAClBQ,OAAOC,EAAAA,EAAAA,IAAgB,CACrBO,MAAU,EAAI9I,EAAK4M,QAAZ,KACPpE,OAAY,EAAIxI,EAAK4M,QAAb,KACRC,YAAa,GAAI7M,EAAK8M,qBAExB,eAAgB,SAChB7J,IAAKjD,EAAK+M,aACVC,aAAc/M,EAAO,KAAOA,EAAO,GAE/C,IAAIuM,IAAUxM,EAAKiN,sBAAwBjN,EAAKiN,wBAAwBT,KAC3D,KAAM,KACT9D,EAAAA,EAAAA,GAAoB,OAAQiD,GAAYuB,EAAAA,EAAAA,IAAiBlN,EAAKmK,IAAK,KAEpE,CAAC,cAAUgD,GAAWC,SAASpN,EAAKqN,GAAGrN,EAAKmK,IAAImD,QAC5C9M,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAaoL,EAAwB,CAClDpK,IAAK,EACL0I,GAAInK,EAAKmK,GACT,UAAWnK,EAAKuD,OAChBkI,cAAezL,EAAKyL,cACpBxI,IAAK,iBACJ,KAAM,EAAG,CAAC,KAAM,UAAW,mBAC7B,CAAC,SAASmK,SAASpN,EAAKqN,GAAGrN,EAAKmK,IAAImD,QAClC9M,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAaqL,EAAuB,CACjDrK,IAAK,EACL0I,GAAInK,EAAKmK,GACT,UAAWnK,EAAKuD,OAChBkI,cAAezL,EAAKyL,cACpBxI,IAAK,iBACJ,KAAM,EAAG,CAAC,KAAM,UAAW,mBAC7B,CAAC,UAAUmK,SAASpN,EAAKqN,GAAGrN,EAAKmK,IAAImD,QACnC9M,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAasL,EAAwB,CAClDtK,IAAK,EACL0I,GAAInK,EAAKmK,GACT,UAAWnK,EAAKuD,OAChBkI,cAAezL,EAAKyL,cACpBxI,IAAK,iBACJ,KAAM,EAAG,CAAC,KAAM,UAAW,mBAC7B,CAAC,kBAAkBmK,SAASpN,EAAKqN,GAAGrN,EAAKmK,IAAImD,QAC3C9M,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAauL,EAAgC,CAC1DvK,IAAK,EACL0I,GAAInK,EAAKmK,GACT,UAAWnK,EAAKuD,OAChBkI,cAAezL,EAAKyL,cACpBxI,IAAK,iBACJ,KAAM,EAAG,CAAC,KAAM,UAAW,mBAC7B,CAAC,6BAA6BmK,SAASpN,EAAKqN,GAAGrN,EAAKmK,IAAImD,QACtD9M,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAawL,EAA2C,CACrExK,IAAK,EACL0I,GAAInK,EAAKmK,GACT,UAAWnK,EAAKuD,OAChBkI,cAAezL,EAAKyL,cACpBxI,IAAK,iBACJ,KAAM,EAAG,CAAC,KAAM,UAAW,mBAC7B,CAAC,2BAA2BmK,SAASpN,EAAKqN,GAAGrN,EAAKmK,IAAImD,QACpD9M,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAayL,EAAyC,CACnEzK,IAAK,EACL0I,GAAInK,EAAKmK,GACT,UAAWnK,EAAKuD,OAChBkI,cAAezL,EAAKyL,cACpBxI,IAAK,iBACJ,KAAM,EAAG,CAAC,KAAM,UAAW,mBAC7B,CAAC,4BAA4BmK,SAASpN,EAAKqN,GAAGrN,EAAKmK,IAAImD,QACrD9M,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAa0L,EAA0C,CACpE1K,IAAK,EACL0I,GAAInK,EAAKmK,GACT,UAAWnK,EAAKuD,OAChBkI,cAAezL,EAAKyL,cACpBxI,IAAK,iBACJ,KAAM,EAAG,CAAC,KAAM,UAAW,oBAC9ByI,EAAAA,EAAAA,IAAoB,IAAI,SAG3C,GAAI7D,EACT,CCzHA,MAAM0F,EAAmB,SAASC,EAAgBC,GAChD,MAAMC,EAAQD,GAAUC,OAAS,MAAa,GAGxCC,EAAOF,GAAUE,MAAQ,MAAa,GACtCC,EAAKH,GAAUG,IAAM,MAAa,GAElCC,EAAWL,EAAGM,OAEpBJ,EAAMF,EAAI,CAAEK,aACZ,MAAME,EAA0BP,IAC9B,OAAQA,EAAGF,MACT,IAAK,YAQHK,EAAKH,EAAI,CACPK,aAEF,MAEF,IAAK,UACHxH,SAAS2H,oBAAoB,YAAaD,GAC1C1H,SAAS2H,oBAAoB,UAAWD,GACxCH,EAAGJ,EAAI,CACLK,aAEF,MACD,EAGLxH,SAAS4H,iBAAiB,YAAaF,GACvC1H,SAAS4H,iBAAiB,UAAWF,EACvC,EAEA,QCvCO,MAAMG,EAAsC,CACjDZ,KAAM,SACNa,MAAO,CAAC,GAGGC,EAAoC,CAC/Cd,KAAM,SACNa,MAAO,CAAC,GAGGE,EAAyC,CACpDf,KAAM,SACNa,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,GAErBC,aAAc,CACZC,aAAc,uBAEhBC,MAAO,CACLD,aAAc,QAEhBE,QAAS,CACPpB,KAAM,SACNkB,aAAc,GAEhBG,KAAM,CACJrB,KAAM,SACNsB,MAAO,CAAC,EAAG,GACXJ,aAAc,GAEhBK,QAAS,CACPvB,KAAM,SACNkB,aAAc,GAEhBM,QAAS,CACPxB,KAAM,SACNkB,aAAc,GAEhBO,SAAU,CACRzB,KAAM,OACNkB,aAAc,YACdQ,KAAM,CAAC,YAAa,OAAQ,SAE9BC,iBAAkB,CAChB3B,KAAM,SACNkB,aAAc,GAEhBU,cAAe,CACb5B,KAAM,OACNkB,aAAc,OACdQ,KAAM,CAAC,OAAQ,YAKRG,EAAqC,CAChD7B,KAAM,SACNa,MAAO,CACLb,KAAM,CACJA,KAAM,OACNkB,aAAc,eACdQ,KAAM,CACJ,CACEI,MAAO,eACP1N,MAAO,gBACN,CACD0N,MAAO,aACP1N,MAAO,gBAIb2N,cAAe,CACb/B,KAAM,SACNkB,aAAc,KAEhBc,WAAY,CACVhC,KAAM,SACNkB,aAAc,EACdI,MAAO,CAAC,EAAG,MAEbW,YAAa,CACXf,aAAc,SACdQ,KAAM,CAAC,SAAU,aAEnBQ,KAAM,CACJlC,KAAM,SACNkB,aAAc,OAKPiB,GAAqC,CAChDnC,KAAM,SACNa,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,GAErBoB,GAAI,CACFpC,KAAM,UAERqC,GAAI,CACFrC,KAAM,UAERsC,aAAc,CACZtC,KAAM,UAERkC,KAAM,CAAC,EACP,cAAe,CAAC,EAChB,gBAAiB,CAAC,IAITK,GAAgC,CAC3CvC,KAAM,QACNa,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,KAKZwB,GAAiC,CAC5CxC,KAAM,SACNa,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,GAErBoB,GAAI,CACFpC,KAAM,UAERqC,GAAI,CACFrC,KAAM,YAKCyC,GAAiD,CAC5DzC,KAAM,SACN0C,IAAK,gBACL7B,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,GAErBhB,KAAM,CACJgB,mBAAmB,EACnB2B,YAAY,EACZzB,aAAc,UAEhBtJ,OAAQ,CACNsJ,aAAc,CACZ,EAAG,EAAG,EAAG,EAAG,EACZ,EAAG,EAAG,EAAG,EAAG,EACZ,EAAG,EAAG,EAAG,EAAG,EACZ,EAAG,EAAG,EAAG,EAAG,GACZ0B,KAAK,QAIAC,GAA8C,CACzD7C,KAAM,4BACNa,MAAO,CAAC,GAGGiC,GAAmD,CAC9DJ,IAAK,gBACL1C,KAAM,SACNa,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,GAErBhB,KAAM,CACJgB,mBAAmB,EACnB2B,YAAY,EACZzB,aAAc,YAEhBtJ,OAAQ,CACNsJ,aAAc,OAIP6B,GAAoD,CAC/DL,IAAK,gBACL1C,KAAM,SACNa,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,GAErBhB,KAAM,CACJgB,mBAAmB,EACnB2B,YAAY,EACZzB,aAAc,aAEhBtJ,OAAQ,CACNsJ,aAAc,OAIP8B,GAA2D,CACtEN,IAAK,gBACL1C,KAAM,SACNa,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,GAErBhB,KAAM,CACJgB,mBAAmB,EACnB2B,YAAY,EACZzB,aAAc,oBAEhBtJ,OAAQ,CAAC,IAKAqL,GAA+B,CAC1CjD,KAAM,SACNa,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,KAKZkC,GAA0C,CACrDlD,KAAM,SACNa,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,GAErBmC,IAAK,CACHnC,mBAAmB,GAErBoC,MAAO,CAAC,EACRC,iBAAkB,CAAC,EACnBC,iBAAkB,CAAC,IAIVC,GAAgC,CAC3CvD,KAAM,SACNa,MAAO,CACL2C,KAAM,CAAC,IAIEC,GAAgC,CAC3CzD,KAAM,SACNa,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,GAErBmC,IAAK,CACHnC,mBAAmB,GAErB0C,KAAM,CACJxC,aAAc,SACdQ,KAAM,CACJ,SAAU,WAAY,SAAU,UAAW,SAAU,UAAW,cAAe,aAAc,aAAc,aAAc,aAAc,YACvI,MAAO,aAAc,QAAS,iBAMzBiC,GAAkD,CAC7D3D,KAAM,SACN0C,IAAK,cACL7B,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,GAErBmC,IAAK,CACHnC,mBAAmB,GAErB4C,SAAU,CACRlC,KAAM,CACJ,OAAQ,KAAM,MAAO,OAAQ,MAAO,cAM/BmC,GAA+C,CAC1D7D,KAAM,SACN0C,IAAK,cACL7B,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,GAErBmC,IAAK,CACHnC,mBAAmB,GAErB4C,SAAU,CACR5C,mBAAmB,EACnB2B,YAAY,EACZzB,aAAc,cAEhB4C,GAAI,CACF9D,KAAM,SACNkB,aAAc,IAEhB6C,GAAI,CACF/D,KAAM,SACNkB,aAAc,IAEhB8C,GAAI,CACFhE,KAAM,SACNkB,aAAc,IAEhB+C,GAAI,CACFjE,KAAM,SACNkB,aAAc,MAKPgD,GAAsC,CACjDlE,KAAM,SACNa,MAAO,CACL,cAAe,CAAC,EAEhB,gBAAiB,CACfb,KAAM,YAKCmE,GAA6C,CACxDnE,KAAM,SACNa,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,GAErBsB,aAAc,CACZtC,KAAM,UAERyB,SAAU,CACRzB,KAAM,OACN0B,KAAM,CACJ,YACA,OACA,QAEFR,aAAc,UAKPkD,GAA2C,CACtDpE,KAAM,SACNa,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,GAErB4C,SAAU,CACRlC,KAAM,CACJ,QACA,UAEFR,aAAc,SAEhBmD,OAAQ,CACNrE,KAAM,SACNkB,aAAc,KAKPoD,GAAiE,CAC5EtE,KAAM,0BACNa,MAAO,CACL/I,GAAI,CACFkJ,mBAAmB,GAErBuD,EAAG,CACDvD,mBAAmB,GAErBwD,EAAG,CACDxD,mBAAmB,GAErByD,EAAG,CACDzD,mBAAmB,GAErB0D,EAAG,CACD1D,mBAAmB,KAKZ2D,GAAmE,CAC9E3E,KAAM,2BACNa,MAAO,CACLb,KAAM,CACJkB,aAAc,WACdF,mBAAmB,EACnB2B,YAAY,KAKLiC,GAAgE,CAC3E5E,KAAM,2BACNa,MAAO,CACLb,KAAM,CACJkB,aAAc,QACdF,mBAAmB,EACnB2B,YAAY,GAEdkC,YAAa,CACX3D,aAAc,aAKP4D,GAA2E,CACtF9E,KAAM,2BACNa,MAAO,CACLb,KAAM,CACJkB,aAAc,SACdQ,KAAM,CACJ,SACA,aAGJqD,MAAO,CACL/E,KAAM,SACNkB,aAAc,GAEhB8D,UAAW,CACThF,KAAM,SACNkB,aAAc,KAKP+D,GAAgE,CAC3EjF,KAAM,2BACNa,MAAO,CACLb,KAAM,CACJkB,aAAc,QACdF,mBAAmB,EACnB2B,YAAY,GAEduC,UAAW,CACTlF,KAAM,SACNkB,aAAc,GAEhBiE,SAAU,CACRnF,KAAM,SACNkB,aAAc,GAEhBkE,OAAQ,CACNpF,KAAM,SACNkB,aAAc,KAKPmE,GAAsC,CACjDrF,KAAM,iBACNa,MAAO,CACLzM,MAAO,CACL4L,KAAM,UAKZ,QACEY,gBACAE,cACAC,mBACAc,eACAM,gBACAI,WACAC,YACAC,4BACAI,yBACAC,8BACAC,+BACAC,sCACAC,UACAC,qBACAK,WACAE,WACAE,uBACAE,oBACAK,WACAC,kBACAC,gBAEAE,uBACAK,wBACAC,qBACAE,gCACAG,qBAEAI,kBCzcK,MAAMC,GAAoEvQ,OAAO,kBCtClF,SAAUwQ,GAAcC,GAC5B,OAAOA,EAAGC,QAAQC,QACpB,CAEM,SAAUC,GAASH,GACvB,MAAO,CAAC,KAAM,OAAO1F,SAAS0F,EAAGC,QAAQC,SAC3C,CAEM,SAAUE,GAAUjK,GACxB,MAAM,MACJkK,EAAO7F,KAAM0C,GAIX/G,EAEJ,IAAImK,EAAgBnK,EAAMmK,SAE1B,MAAMC,EAAShN,SAASiN,gBAAgB,6BAA8BtD,GAgBtE,OAfAmD,GAASxP,OAAO4P,KAAKJ,GAAOtP,SAAQpC,IAClC,CAAC,SAAU,UAAU2L,gBAAgB+F,IAAQ1R,KAAS+R,OAAOL,IAAQ1R,IAAM4D,QAAUgO,EAAOI,aAAahS,EAAK0R,IAAQ1R,GAAK,IAGrG,kBAAb2R,GAAsC,OAAbA,EAC7BM,MAAMC,QAAQP,KACjBA,EAAW,CAACA,IAGdA,EAAW,IAGZA,GAAY,IAAIvP,SAAS+P,IACxBP,EAAOQ,OAAOX,GAAUU,GAAO,IAE1BP,CACT,CAEO,MAAMS,GAAgBC,IAC3B,MAAMC,EAA+C,IAAIC,IACnDC,EAA6D,IAAID,IAEvEF,EAAMlQ,SAAQQ,IACZ,MAAO8P,EAAQC,GAAQ,CAAC/P,EAAKE,KAAKE,GAAIJ,EAAKM,GAAGF,IAEzCuP,EAASK,IAAIF,KAChBH,EAASzS,IAAI4S,EAAQ,GACrBD,EAAM3S,IAAI4S,EAAQ,KAEfH,EAASK,IAAID,KAChBJ,EAASzS,IAAI6S,EAAM,GACnBF,EAAM3S,IAAI6S,EAAM,KAElBJ,EAASzS,IAAI6S,EAAOJ,EAASjS,IAAIqS,GAAmB,GACpDF,EAAMnS,IAAIoS,GAAS7P,KAAK8P,EAAK,IAG/B,MAAME,EAAiC,GAAUC,EAAiC,GAClF,IAAK,MAAM9S,KAAOuS,EACD,IAAXvS,EAAI,IACN6S,EAAMhQ,KAAK7C,EAAI,IAGnB,MAAO6S,EAAMjP,OAAQ,CACnB,MAAMmP,EAAMF,EAAMG,QAClBF,EAAOjQ,KAAKkQ,GAEZ,MAAME,EAAYR,EAAMnS,IAAIyS,GAE5BE,EAAU7Q,SAAQ8Q,IAChBX,EAASzS,IAAIoT,EAAOX,EAASjS,IAAI4S,GAAmB,GACzB,IAAvBX,EAASjS,IAAI4S,IACfL,EAAMhQ,KAAKqQ,E,IAIjB,OAAOJ,CAAM,EAEFK,GAAO,IAAIC,KAA6B,EC9E/ChN,GAAa,CACjBpG,IAAK,EACLqG,MAAO,eAEHwB,GAAa,CAAC,gBACdK,GAAa,CAAE7B,MAAO,sBACtB8B,GAAa,CAAE9B,MAAO,aAEtB,SAAU/H,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQG,EAAAA,EAAAA,KAAW,IAAO4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYhK,EAAKqN,GAAGrN,EAAKmK,IAAIgE,OAAO,CAACwG,EAAMlT,MAChGjB,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,CAAEtI,IAAKA,GAAO,EAC5C,IAApBkT,EAAK1E,aACDzP,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAOP,GAAY,EACpDa,EAAAA,EAAAA,GAAoB,KAAM,CACxBZ,MAAO,UACPQ,OAAOC,EAAAA,EAAAA,IAAgB,CAC3BO,MAAU,EAAI9I,EAAK4M,QAAZ,KACPpE,OAAY,EAAIxI,EAAK4M,QAAb,KACRC,YAAa,GAAI7M,EAAK8M,qBAElB,iBAAkB,KAClBgI,EAAG,KACH,eAAgBrT,EAChBwI,SAAS,EACThH,IAAKjD,EAAK+M,aACVC,aAAc/M,EAAO,KAAOA,EAAO,GAEjD,IAAIuM,IAAUxM,EAAKiN,sBAAwBjN,EAAKiN,wBAAwBT,KACzD,KAAM,GAAIlD,KACbZ,EAAAA,EAAAA,GAAoB,QAASiB,GAAY,EACvCjB,EAAAA,EAAAA,GAAoB,OAAQkB,IAAYsD,EAAAA,EAAAA,IAAiBzL,GAAM,SAGnEiK,EAAAA,EAAAA,IAAoB,IAAI,IAC3B,OACD,IACN,CClCA,YACE,MAAMhG,GAAWqP,EAAAA,EAAAA,IAAyC,YACpDpP,GAASoP,EAAAA,EAAAA,IAAyC,UAElDC,GAAW/R,EAAAA,EAAAA,MAEXgS,GAAYhS,EAAAA,EAAAA,IAAwB,IACpC8J,EAAgB+F,IACpBA,GAAMmC,EAAUvT,MAAM4C,KAAKwO,EAAG,GAEhCoC,EAAAA,EAAAA,KAAe,KAAQD,EAAUvT,MAAQ,EAAE,IAE3C,MAAMyT,GAAiBJ,EAAAA,EAAAA,IAAqC,kBACtDK,GAAwBL,EAAAA,EAAAA,IAAqC,yBAE7D9H,GAAuB8H,EAAAA,EAAAA,IAAmC,wBAC1DM,GAAiB3R,EAAAA,EAAAA,KAAiB,KACtC,MAAM4R,EAAS,sBACTrM,GAAQsM,EAAAA,EAAAA,GAAE,SAAU,CAAElS,GAAI,WAAa+R,GAAuB1T,OAAS,IAAI8T,KAAI,CAACb,EAAMc,IAAUd,EAAKe,iBAAiBf,EAAMc,MAC5HE,EACV,iHAEQzC,GAAUjK,GAAO2M,ouFAqCrB,OAAON,EAASO,mBAAmBF,EAAS,IAG9C,MAAO,CACLjQ,WACAC,SACAqP,WACAC,YACAlI,eACAoI,iBACAlI,uBACAoI,iBAEH,EC7EM,MAAMxM,GAA0B,IAC1BE,GAAwB,IACxBN,GAAmB,GAGnBmE,GAAU,GACVE,GAAiB,EAGjBgJ,GAAgB,IAGhBC,GAAgB,ECA7B,QAAeC,EAAAA,EAAAA,IAAgB,CAC7B9P,KAAM,aACNiN,MAAO,CACLhJ,GAAI,CACFmD,KAAMkG,OACNyC,UAAU,GAEZ1S,OAAQ,CACN+J,KAAMkG,OACNyC,UAAU,GAEZxK,cAAe,CACb6B,KAAM3J,OACNsS,UAAU,IAGdC,MAAM/C,GACJ,MAAM,SACJzN,EAAQ,OACRC,EAAM,SACNqP,EAAQ,aACRjI,EAAY,eACZoI,EAAc,qBACdlI,EAAoB,eACpBoI,GACEc,KAEEnS,GAAcf,EAAAA,EAAAA,IAAiC,CAAC,GAEhDmT,GAAmB1S,EAAAA,EAAAA,KAAsC,KAC7D,MAAM2S,EAA2C,CAAC,EAKlD,OAHAlD,EAAM1H,cAAcrG,GAAGvB,SAAQyS,IAC7BD,EAAYC,EAAE3R,GAAGD,MAAQ4R,EAAE/R,KAAKE,GAAG8R,kBAAkBD,EAAE/R,KAAKG,KAAK,IAE5D2R,CAAW,IAGdE,GAAoB7S,EAAAA,EAAAA,KAAsC,KAAM,IACjEM,EAAYtC,SACZ0U,EAAiB1U,MACpB6S,OAAQpB,EAAM5P,WAGVmS,EAAmB,CAACf,EAA6Bc,KACrD,MAAMtL,EAAKwK,EAAKxK,IACV,kBAAEoM,GAAsB5B,EAExB6B,EAAyC,CAAC,EAChD7S,OAAO4P,KAAKgD,GAAqB,CAAC,GAAG1S,SAAQpC,SACZ0L,IAA3BoJ,EAAkB9U,KACpB+U,EAAU/U,GAAO8U,EAAkB9U,IAAQ,IAEzC+U,EAAUpR,KAAOoR,EAAUjC,eACtBiC,EAAUpR,GAGjBzB,OAAO8S,UAAUC,eAAeC,KAAKtJ,GAAGlD,GAAIgE,MAAO,QAAUqI,EAAUpR,KAEvEoR,EAAUpR,GAAK,iBAGfzB,OAAO8S,UAAUC,eAAeC,KAAKtJ,GAAGlD,GAAIgE,MAAO,SAAWqI,EAAU/F,MAExE+F,EAAU/F,IAAM,gB,IAGpB,MAAMT,EAAO3C,GAAGlD,GAAY6F,KAAO7F,EACnC,OAAOoL,EAAAA,EAAAA,GAAEvF,EAAKwG,EAAU,EAK1B,GADAI,QAAQC,IAAIxJ,GAAG8F,EAAMhJ,KACjB,CAAC,cAAUgD,GAAWC,SAASC,GAAG8F,EAAMhJ,IAAImD,MAAO,CACrD,MAAM,MAAEa,GAAUd,GAAG8F,EAAMhJ,IAC3BxG,OAAO4P,KAAKpF,GAAOtK,SAAQpC,IAEtB,CAAC,SAAU,SAAuB2L,SAASe,EAAM1M,GAAK6L,MAEvDtJ,EAAYtC,MAAMD,GAAO0M,EAAM1M,GAAK+M,cAAgB,EAEpDxK,EAAYtC,MAAMD,GAAO0M,EAAM1M,GAAK+M,cAAgB,E,IAI1D,MAAO,CACL5B,QAAO,GACPE,eAAc,GAEdpH,WAEAsP,WAEAjI,eACA/I,cACAoS,mBACAG,oBACAO,mBAAoBlC,GACpBrP,iBAAkBqP,GAElB3H,uBACAI,GAAE,GACF8H,iBAEAE,iBACAK,mBAEJ,I,WChHF,MAAMqB,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCPA,MAAMC,GAAeC,KAAMC,EAAAA,EAAAA,IAAa,mBAAmBD,EAAEA,KAAIE,EAAAA,EAAAA,MAAcF,GACzEpP,GAAa,CAAC,gBACdyB,GAA2B0N,IAAa,KAAmBtO,EAAAA,EAAAA,GAAoB,QAAS,CAAEZ,MAAO,sBAAwB,EAChHY,EAAAA,EAAAA,GAAoB,OAAQ,CAAEZ,MAAO,aAAe,QAC/D,KAEE,SAAU/H,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQG,EAAAA,EAAAA,KAAW,IAAO4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYhK,EAAKgE,aAAa,CAAC2Q,EAAMc,MAC1FjV,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAO,CAC/CN,MAAO,cACPrG,IAAKgU,GACJ,EACD/M,EAAAA,EAAAA,GAAoB,KAAM,CACxBZ,MAAO,UACPQ,OAAOC,EAAAA,EAAAA,IAAgB,CACvBO,MAAU,EAAI9I,EAAK4M,QAAZ,KACPpE,OAAY,EAAIxI,EAAK4M,QAAb,KACRC,YAAa,GAAI7M,EAAK8M,qBAEtB,iBAAkB,KAClBgI,EAAG,KACH,eAAgBW,EAChBxL,SAAS,EACThH,IAAKjD,EAAK+M,aACVC,aAAc/M,EAAO,KAAOA,EAAO,GAE3C,IAAIuM,IAAUxM,EAAKiN,sBAAwBjN,EAAKiN,wBAAwBT,KAC/D,KAAM,GAAI3E,IACbyB,QAEA,IACN,CCtBA,QAAe0M,EAAAA,EAAAA,IAAgB,CAC7B9P,KAAM,YACNiN,MAAO,CACLhJ,GAAI,CACFmD,KAAMkG,OACNyC,UAAU,GAEZ1S,OAAQ,CACN+J,KAAMkG,OACNyC,UAAU,GAEZxK,cAAe,CACb6B,KAAM3J,OACNsS,UAAU,IAGdC,MAAM/C,GACJ,MAAM,OACJxN,EAAM,SACND,EAAQ,SACRsP,EAAQ,aACRjI,EAAY,eACZoI,EAAc,qBACdlI,EAAoB,eACpBoI,GACEc,KASEnS,GAAcf,EAAAA,EAAAA,IAAc,CAAC,KAE7BsT,GAAoB7S,EAAAA,EAAAA,KAAsC,KAAM,CACpE6Q,OAAQpB,EAAM5P,WAGV6T,GAAWC,EAAAA,EAAAA,MAAsBC,QAAQnO,MACzC2N,EAAqB,KACzBF,QAAQC,IAAIlR,GAAQjE,MAAOgE,GAAUhE,OAErC,MAAM,KAAEgD,GAAS,CAACiB,GAAQjE,MAAOgE,GAAUhE,OAAO6V,MAAKpS,GAAMA,GAAIV,KAAO2S,IAClE3B,EAAQjP,OAAO9B,GAErBV,EAAYtC,MAAM+T,GAAS/P,EAAUhE,MAAM+C,GAAGlB,OACzCS,EAAYtC,MAAM+T,EAAQ,KAC7BzR,EAAYtC,MAAM+T,EAAQ,GAAK,G,EAG7BlQ,EAAoBiS,IACxB,MAAM,KAAE9S,GAAS8S,EAAY7S,GAC7BX,EAAYtC,MAAM8E,OAAO9B,IAAS,EAAE,EAGhCgR,EAAmB,KACvB,MAAM,GAAEvL,EAAE,OAAE5G,GAAW4P,EACvB,OAAOoC,EAAAA,EAAAA,GAAEpL,EAAI,CACXoK,OAAQhR,IACPqC,EAAAA,EAAAA,IAAM5B,GAAayT,QAAOA,KAAYA,IAAQjC,KAAKjB,IAC7CgB,EAAAA,EAAAA,GAAE,cAAe,CAAEnQ,GAAImP,MAC7B,EAGL,MAAO,CACL3H,QAAO,GACPE,eAAc,GAEdpH,WAEAsP,WAEAjI,eACA/I,cACAuS,oBACAO,qBACAvR,mBAEA0H,uBACAkI,iBAEAE,iBACAK,mBAEJ,IC1FF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCPM,SAAU3V,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQG,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAC5C,CCMA,QAAe4N,EAAAA,EAAAA,IAAgB,CAC7B9P,KAAM,aACNiN,MAAO,CACLhJ,GAAI,CACFmD,KAAMkG,OACNyC,UAAU,GAEZ1S,OAAQ,CACN+J,KAAMkG,OACNyC,UAAU,GAEZxK,cAAe,CACb6B,KAAM3J,OACNsS,UAAU,IAGdC,MAAM/C,GACJ,MAAM,SACJzN,EAAQ,SACRsP,EAAQ,aACRjI,EAAY,qBACZE,EAAoB,eACpBoI,GACEc,KAEEI,GAAoBmB,EAAAA,EAAAA,IAAsC,CAC9DnD,OAAQpB,EAAMhJ,KAIVuL,EAAmB,KAChBH,EAAAA,EAAAA,GAAE,WAAY,CACnBnQ,GAAI+N,EAAMhJ,KAId,MAAO,CACLyC,QAAO,GACPE,eAAc,GAEdpH,WAEAsP,WAEAjI,eACAwJ,oBAEAtJ,uBAEAoI,iBACAK,mBAEJ,ICvDF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCPM,SAAU3V,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAOsX,EAAAA,EAAAA,MAAiBnX,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,QAAS,CACjE,sBAAuBnI,EAAO,KAAOA,EAAO,GAAMiL,GAAkBlL,EAAKgE,YAAYtC,MAASwJ,IAC7F,KAAM,MAAO,CACd,CACE0M,EAAAA,GACA5X,EAAKgE,YAAYtC,WACjB,EACA,CAAEmW,MAAM,KAGd,CCHA,QAAe7B,EAAAA,EAAAA,IAAgB,CAC7B9P,KAAM,aACNiN,MAAO,CACLhJ,GAAI,CACFmD,KAAMkG,OACNyC,UAAU,GAEZ1S,OAAQ,CACN+J,KAAMkG,OACNyC,UAAU,GAEZxK,cAAe,CACb6B,KAAM3J,OACNsS,UAAU,IAGdC,MAAM/C,GACJ,MAAM,SACJzN,EAAQ,SACRsP,EAAQ,aACRjI,EAAY,qBACZE,EAAoB,eACpBoI,GACEc,KAEEnS,GAAcf,EAAAA,EAAAA,IAAiC,CACnDvB,MAAO,KAGH6U,GAAoB7S,EAAAA,EAAAA,KAAsC,KACvD,CACL6Q,QAAQ3O,EAAAA,EAAAA,IAAM5B,GAAatC,UAKzBgU,EAAmB,IAAoB,KAE7C,MAAO,CACL9I,QAAO,GACPE,eAAc,GAEdpH,WAEAsP,WAEAjI,eACAwJ,oBAEAtJ,uBAEAoI,iBACAK,mBAEA1R,cAEJ,IC3DF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCPA,MACM6D,GAAa,CAAC,uBAEd,SAAU9H,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQG,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAO,KAAM,GACpD5H,EAAAA,EAAAA,KAAW,IAAO4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYhK,EAAKgE,aAAa,CAAC8T,EAAGrC,KACjFkC,EAAAA,EAAAA,MAAiBnX,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,QAAS,CACjE3G,IAAKgU,EACL,sBAAwBvK,GAAkBlL,EAAKgE,YAAYyR,GAAUvK,EACrEpD,MAAO,SACN,KAAM,EAAGD,KAAc,CACxB,CAAC+P,EAAAA,GAAa5X,EAAKgE,YAAYyR,QAE/B,OAER,CCPA,QAAeO,EAAAA,EAAAA,IAAgB,CAC7B9P,KAAM,aACNiN,MAAO,CACLhJ,GAAI,CACFmD,KAAMkG,OACNyC,UAAU,GAEZ1S,OAAQ,CACN+J,KAAMkG,OACNyC,UAAU,GAEZxK,cAAe,CACb6B,KAAM3J,OACNsS,UAAU,IAGdC,MAAM/C,GACJ,MAAM,SACJzN,EAAQ,SACRsP,EAAQ,aACRjI,EAAY,qBACZE,EAAoB,eACpBoI,GACEc,KAEEnS,GAAcf,EAAAA,EAAAA,IAClB,MACE,MAAM8U,EAAM,IAAIrE,MAAM,IAKtB,OAHAqE,EAAIC,KAAK,GACTD,EAAI,GAAKA,EAAI,GAAKA,EAAI,IAAMA,EAAI,IAAM,EAE/BA,CACR,EAPD,IAUIxB,GAAoB7S,EAAAA,EAAAA,KACxB,KAAM,CACJ6Q,OAAQvQ,EAAYtC,MAAMwO,KAAK,SAI7BwF,EAAmB,IAAoB,KAE7C,MAAO,CACL9I,QAAO,GACPE,eAAc,GAEdpH,WAEAsP,WAEAjI,eAEA/I,cACAuS,oBAEAtJ,uBAEAoI,iBACAK,mBAEJ,ICjEF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCPA,MACM7N,GAAa,CACjBpG,IAAK,EACLqG,MAAO,eAEHwB,GAAa,CAAC,gBACdK,GAAa,CAAE7B,MAAO,sBACtB8B,GAAa,CAAE9B,MAAO,aAEtB,SAAU/H,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQG,EAAAA,EAAAA,KAAW,IAAO4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYhK,EAAKqN,GAAGrN,EAAKmK,IAAIgE,OAAO,CAACwG,EAAMlT,MAChGjB,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,CAAEtI,IAAKA,GAAO,EAC5C,IAApBkT,EAAK1E,aACDzP,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAOP,GAAY,EACpDa,EAAAA,EAAAA,GAAoB,KAAM,CACxBZ,MAAO,UACPQ,OAAOC,EAAAA,EAAAA,IAAgB,CAC3BO,MAAU,EAAI9I,EAAK4M,QAAZ,KACPpE,OAAY,EAAIxI,EAAK4M,QAAb,KACRC,YAAa,GAAI7M,EAAK8M,qBAElB,iBAAkB,KAClBgI,EAAG,KACH,eAAgBrT,EAChBwI,SAAS,EACThH,IAAKjD,EAAK+M,aACVC,aAAc/M,EAAO,KAAOA,EAAO,GAEjD,IAAIuM,IAAUxM,EAAKiN,sBAAwBjN,EAAKiN,wBAAwBT,KACzD,KAAM,GAAIlD,KACbZ,EAAAA,EAAAA,GAAoB,QAASiB,GAAY,EACvCjB,EAAAA,EAAAA,GAAoB,OAAQkB,IAAYsD,EAAAA,EAAAA,IAAiBzL,GAAM,SAGnEiK,EAAAA,EAAAA,IAAoB,IAAI,IAC3B,OACD,IACN,CCzBA,QAAesK,EAAAA,EAAAA,IAAgB,CAC7B9P,KAAM,aACNiN,MAAO,CACLhJ,GAAI,CACFmD,KAAMkG,OACNyC,UAAU,GAEZ1S,OAAQ,CACN+J,KAAMkG,OACNyC,UAAU,GAEZxK,cAAe,CACb6B,KAAM3J,OACNsS,UAAU,IAGdC,MAAM/C,GACJ,MAAM,SACJzN,EAAQ,OACRC,EAAM,SACNqP,EAAQ,aACRjI,EAAY,eACZoI,EAAc,qBACdlI,EAAoB,eACpBoI,GACEc,KAEEnS,GAAcf,EAAAA,EAAAA,IAAiC,CAAC,GAEhDmT,GAAmB1S,EAAAA,EAAAA,KAAsC,KAC7D,MAAM2S,EAA2C,CAAC,EAKlD,OAHAlD,EAAM1H,cAAcrG,GAAGvB,SAAQyS,IAC7BD,EAAYC,EAAE3R,GAAGD,MAAQ4R,EAAE/R,KAAKE,GAAG8R,kBAAkBD,EAAE/R,KAAKG,KAAK,IAE5D2R,CAAW,IAGdE,GAAoB7S,EAAAA,EAAAA,KAAsC,KAAM,CACpE0B,GAAIgR,EAAiB1U,MAAM0D,GAC3BmP,OAAQpB,EAAM5P,WAGVC,GAAauR,EAAAA,EAAAA,IAAOlS,GACpB6S,EAAoBf,IACxB,MAAMxK,EAAKwK,EAAKxK,IACV,kBAAEoM,GAAsB5B,EAExB6B,EAAyC,CAAC,EAChD7S,OAAO4P,KAAKgD,GAAqB,CAAC,GAAG1S,SAAQpC,SACZ0L,IAA3BoJ,EAAkB9U,KACpB+U,EAAU/U,GAAO8U,EAAkB9U,IAAQ,IAEzC+U,EAAUpR,KAAOoR,EAAUjC,eACtBiC,EAAUpR,GAGjBzB,OAAO8S,UAAUC,eAAeC,KAAKtJ,GAAGlD,GAAIgE,MAAO,QAAUqI,EAAUpR,KAEvEoR,EAAUpR,GAAK,iBAGfzB,OAAO8S,UAAUC,eAAeC,KAAKtJ,GAAGlD,GAAIgE,MAAO,SAAWqI,EAAU/F,MAExE+F,EAAU/F,IAAM,gB,IAGpB,MAAMT,EAAO3C,GAAGlD,GAAY6F,KAAO7F,EAE7B8N,EAAoB,CACxBpG,EAAG,CAAEvE,KAAM,YACXwE,EAAG,CAAExE,KAAM,YACXyE,EAAG,CAAEzE,KAAM,YACX0E,EAAG,CAAE1E,KAAM,aAcb,OAXA3J,OAAO4P,KAAK0E,GAAmBpU,SAAQpC,IACjC2U,EAAiB1U,MAAMD,IACzBkC,OAAOuU,OACJD,EAA0BxW,GAC3B+B,EAAW9B,MACT0U,EAAiB1U,MAAMD,IACvB8U,kB,KAKDhB,EAAAA,EAAAA,GACLvF,EACAwG,EACA7S,OAAOC,QAAQqU,GAAmBzC,KAAI,EAAE/T,EAAKC,MACpC6T,EAAAA,EAAAA,GACL,SAAS9T,IACTC,KAGL,EAKH,GADAkV,QAAQC,IAAIxJ,GAAG8F,EAAMhJ,KACjB,CAAC,cAAUgD,GAAWC,SAASC,GAAG8F,EAAMhJ,IAAImD,MAAO,CACrD,MAAM,MAAEa,GAAUd,GAAG8F,EAAMhJ,IAC3BxG,OAAO4P,KAAKpF,GAAOtK,SAAQpC,IAEtB,CAAC,SAAU,SAAuB2L,SAASe,EAAM1M,GAAK6L,MAEvDtJ,EAAYtC,MAAMD,GAAO0M,EAAM1M,GAAK+M,cAAgB,EAEpDxK,EAAYtC,MAAMD,GAAO0M,EAAM1M,GAAK+M,cAAgB,E,IAI1D,MAAO,CACL5B,QAAO,GACPE,eAAc,GAEdpH,WAEAsP,WAEAjI,eACA/I,cACAoS,mBACAG,oBACAO,mBAAoBlC,GACpBrP,iBAAkBqP,GAElB3H,uBACAI,GAAE,GACF8H,iBAEAE,iBACAK,mBAEJ,IC9IF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCPA,MACM7N,GAAa,CACjBpG,IAAK,EACLqG,MAAO,eAEHwB,GAAa,CAAC,gBACdK,GAAa,CAAE7B,MAAO,sBACtB8B,GAAa,CAAE9B,MAAO,aAEtB,SAAU/H,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQG,EAAAA,EAAAA,KAAW,IAAO4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYhK,EAAKqN,GAAGrN,EAAKmK,IAAIgE,OAAO,CAACwG,EAAMlT,MAChGjB,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,CAAEtI,IAAKA,GAAO,EAC5C,IAApBkT,EAAK1E,aACDzP,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAOP,GAAY,EACpDa,EAAAA,EAAAA,GAAoB,KAAM,CACxBZ,MAAO,UACPQ,OAAOC,EAAAA,EAAAA,IAAgB,CAC3BO,MAAU,EAAI9I,EAAK4M,QAAZ,KACPpE,OAAY,EAAIxI,EAAK4M,QAAb,KACRC,YAAa,GAAI7M,EAAK8M,qBAElB,iBAAkB,KAClBgI,EAAG,KACH,eAAgBrT,EAChBwI,SAAS,EACThH,IAAKjD,EAAK+M,aACVC,aAAc/M,EAAO,KAAOA,EAAO,GAEjD,IAAIuM,IAAUxM,EAAKiN,sBAAwBjN,EAAKiN,wBAAwBT,KACzD,KAAM,GAAIlD,KACbZ,EAAAA,EAAAA,GAAoB,QAASiB,GAAY,EACvCjB,EAAAA,EAAAA,GAAoB,OAAQkB,IAAYsD,EAAAA,EAAAA,IAAiBzL,GAAM,SAGnEiK,EAAAA,EAAAA,IAAoB,IAAI,IAC3B,OACD,IACN,CCzBA,QAAesK,EAAAA,EAAAA,IAAgB,CAC7B9P,KAAM,aACNiN,MAAO,CACLhJ,GAAI,CACFmD,KAAMkG,OACNyC,UAAU,GAEZ1S,OAAQ,CACN+J,KAAMkG,OACNyC,UAAU,GAEZxK,cAAe,CACb6B,KAAM3J,OACNsS,UAAU,IAGdC,MAAM/C,GACJ,MAAM,SACJzN,EAAQ,OACRC,EAAM,SACNqP,EAAQ,aACRjI,EAAY,eACZoI,EAAc,qBACdlI,EAAoB,eACpBoI,GACEc,KAEEnS,GAAcf,EAAAA,EAAAA,IAAiC,CAAC,GAEhDmT,GAAmB1S,EAAAA,EAAAA,KAAsC,KAC7D,MAAM2S,EAA2C,CAAC,EAKlD,OAHAlD,EAAM1H,cAAcrG,GAAGvB,SAAQyS,IAC7BD,EAAYC,EAAE3R,GAAGD,MAAQ4R,EAAE/R,KAAKE,GAAG8R,kBAAkBD,EAAE/R,KAAKG,KAAK,IAE5D2R,CAAW,IAGdE,GAAoB7S,EAAAA,EAAAA,KAAsC,KAAM,CAEpE4J,KAAOD,GAAG8F,EAAMhJ,IAAIgE,MAAcb,KAAKkB,gBACpCxK,EAAYtC,SACZ0U,EAAiB1U,MACpB6S,OAAQpB,EAAM5P,WAGVmS,EAAmB,IAAoB,KAI7C,GADAkB,QAAQC,IAAIxJ,GAAG8F,EAAMhJ,KACjB,CAAC,cAAUgD,GAAWC,SAASC,GAAG8F,EAAMhJ,IAAImD,MAAO,CACrD,MAAM,MAAEa,GAAUd,GAAG8F,EAAMhJ,IAC3BxG,OAAO4P,KAAKpF,GAAOtK,SAAQpC,IAEtB,CAAC,SAAU,SAAuB2L,SAASe,EAAM1M,GAAK6L,MAEvDtJ,EAAYtC,MAAMD,GAAO0M,EAAM1M,GAAK+M,cAAgB,EAEpDxK,EAAYtC,MAAMD,GAAO0M,EAAM1M,GAAK+M,cAAgB,E,IAI1D,MAAO,CACL5B,QAAO,GACPE,eAAc,GAEdpH,WAEAsP,WAEAjI,eACA/I,cACAoS,mBACAG,oBACAO,mBAAoBlC,GACpBrP,iBAAkBqP,GAElB3H,uBACAI,GAAE,GACF8H,iBAEAE,iBACAK,mBAEJ,IC3FF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCWA,MAAMyC,IAEFnC,EAAAA,EAAAA,IAAgB,CAClBoC,WAAY,CAAEC,WAAU,GAAEC,UAAS,GAAEC,WAAU,GAAEC,kBAAiB,GAAEC,0BAAyB,GAAEC,0BAAyB,GAAEC,2BAA0BA,IACpJzS,KAAM,SACNiN,MAAO,CACLhJ,GAAI,CACFmD,KAAMkG,OACNyC,UAAU,GAEZ1S,OAAQ,CACN+J,KAAMkG,OACNyC,UAAU,GAEZxK,cAAe,CACb6B,KAAM3J,OACNsS,UAAU,GAEZhL,SAAU,CACRqC,KAAMoG,MACNuC,UAAU,IAGdC,MAAM/C,GAAO,KAAEyF,IACb,MAAMnU,GAAK4S,EAAAA,EAAAA,MAAsBlO,MAE3B0P,GAAgB9D,EAAAA,EAAAA,IAAOnC,IAEvBlN,GAAWqP,EAAAA,EAAAA,IAA6B,YACxCpP,GAASoP,EAAAA,EAAAA,IAA6B,UAEtCC,GAAW/R,EAAAA,EAAAA,MAEX6V,GAA0B7V,EAAAA,EAAAA,IAAI,CAAC,EAAG,IAElCgS,GAAYhS,EAAAA,EAAAA,IAAwB,IACpC8J,EAAgB+F,IACpBA,GAAMmC,EAAUvT,MAAM4C,KAAKwO,EAAG,GAEhCoC,EAAAA,EAAAA,KAAe,KAAQD,EAAUvT,MAAQ,EAAE,IAE3C,MAAMqC,GAAgBd,EAAAA,EAAAA,MAEhBoS,GAAiB3R,EAAAA,EAAAA,KAAiB,IAC/BK,EAAcrC,OAAO2T,gBAAkB,KAO1CkB,GAAoB7S,EAAAA,EAAAA,KAAS,IAC1BK,EAAcrC,OAAO6U,mBAAqB,CAAC,IAK9Cb,GAAmBhS,EAAAA,EAAAA,KAAS,IACzBK,EAAcrC,OAAOgU,mBAGxBoB,GAAqBpT,EAAAA,EAAAA,KAAS,IAC3BK,EAAcrC,OAAOoV,oBAAsB,MAAa,KAE3DvR,GAAmB7B,EAAAA,EAAAA,KAAS,IACzBK,EAAcrC,OAAO6D,kBAAoB,MAAa,KAGzDwT,GAAiBhE,EAAAA,EAAAA,IAAO,kBACxBtI,EAAsB,SAASe,GACnCD,EAAiBC,EAAI,CACnBE,MAAMF,GAAI,SAAEK,IAEV,GAAIoF,GAASpF,GAEX+K,EAAK,aAAc,CAAEpL,KAAIK,WAAUpJ,WAC9B,CAEL,MAAMuU,EAAmBhE,EAAStT,OAAOuX,wBAEzCH,EAAwBpX,MAAQ,CAC9B8L,EAAG0L,MAAQF,GAAiBpQ,KAAOmQ,EAAerX,MAAMyX,WACxD3L,EAAG4L,MAAQJ,GAAiBrQ,IAAMoQ,EAAerX,MAAM2X,U,CAG7D,EACA1L,KAAKH,GAAI,SAAEK,IAET,GAAIoF,GAASpF,GAEX+K,EAAK,YAAa,CAAEpL,KAAIK,WAAUpJ,WAC7B,CAEL,MAAM6U,EAAc,CAClB9L,EAAG0L,MAAQJ,EAAwBpX,MAAM,GAAKmX,EAAcnX,MAAMkH,KAClE4E,EAAG4L,MAAQN,EAAwBpX,MAAM,GAAKmX,EAAcnX,MAAMiH,KAEpEiQ,EAAK,kBAAmBU,IACxBC,EAAAA,EAAAA,KAAS,KACP,MAAMP,EAAmBhE,EAAStT,OAAOuX,wBACzCH,EAAwBpX,MAAQ,CAC9B8L,EAAG0L,MAAQF,GAAiBpQ,KAAOmQ,EAAerX,MAAMyX,WACxD3L,EAAG4L,MAAQJ,GAAiBrQ,IAAMoQ,EAAerX,MAAM2X,WAEzDT,EAAK,YAAazF,EAAM1H,cAAc,G,CAG5C,EACAmC,GAAGJ,GAAI,SAAEK,IAEHoF,GAASpF,KAGToF,GAASzF,EAAGM,SACZpI,GAAUhE,OACViE,GAAQjE,MAIRkX,EAAK,eAAgB,CAAEpL,KAAIK,WAAUpJ,OAGrCmU,EAAK,cAAe,CAAEpL,KAAIK,WAAUpJ,QAIxCqU,EAAwBpX,MAAQ,CAAC,EAAG,EACtC,GAEJ,EAEM8X,EAAqB,SAAShM,GAC7B9H,GAAUhE,QACfkX,EAAK,qBAAsB,CAAEpL,KAAI/I,GAAI,KAAMoJ,SAAU,OACrDL,EAAGM,QAAQE,oBAAoB,WAAYwL,GAC7C,EACMvM,EAAuB,SAASO,GAC/B9H,GAAUhE,QACfkX,EAAK,qBAAsB,CAAEpL,KAAI/I,KAAIoJ,SAAUL,EAAGM,SAClDN,EAAGM,QAAQG,iBAAiB,WAAYuL,GAC1C,GACAtW,EAAAA,EAAAA,IAAQ,uBAAwB+J,GAGhC,MAAMkI,GAAiBzR,EAAAA,EAAAA,KAAkC,KACvD,MAAMyR,EAAiB,IAAIsE,IACrBC,EAAajV,IACjB0Q,EAAewE,IAAIlV,GAEnBA,EAAGgH,cAAcrG,GAAGvB,SAAS8Q,IAC3B+E,EAAU/E,EAAKpQ,KAAKE,GAAG,GACvB,EAKJ,OAFAiV,EAAUjV,GAEH,IAAI0Q,EAAe,KAE5BjS,EAAAA,EAAAA,IAAQ,iBAAkBiS,GAE1B,MAAMC,GAAwB1R,EAAAA,EAAAA,KAAkC,KAC9D,MAAMkW,EAAqB,GAK3B,OAJAzE,GAAgBzT,MAAMmC,SAAQ8Q,IAC5BiF,EAAWtV,QAAQqQ,EAAKlJ,cAAcrG,GAAG,IAGvCwU,EAAWvU,OACNyO,GAAa8F,GAEb,CAACnV,E,KAGZvB,EAAAA,EAAAA,IAAQ,wBAAyBkS,GAEjC,MAAOnO,EAAcC,IAAmB6N,EAAAA,EAAAA,IAAO/N,GACzC2F,EAAsB,KAC1BzF,EAAgBzC,EAAG,EAEf4H,GAAY3I,EAAAA,EAAAA,KAAS,IAAMuD,EAAavF,QAAU+C,IAExD,MAAO,CACLmI,QAAO,GACPE,eAAc,GAEdpH,WAEAsP,WAEAjI,eAEAN,sBACAQ,uBACAI,GAAE,GACF8H,iBACA2B,qBACAvR,mBAEAxB,gBACAsR,iBACAkB,oBACAb,mBACAN,wBAEAnO,eACA0F,sBACAN,YAEJ,IAGF,UC/NA,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,UCPA,MACMxE,GAAa,CAAC,KACdyB,GAAa,CACjB7H,IAAK,EACLqG,MAAO,qBAEH6B,GAAa,CAAC,KAAM,MAEpB,SAAU5J,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQG,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,IAAK,CAC7CN,OAAOsE,EAAAA,EAAAA,IAAgB,CAAC,cAAe,CAAE,uBAAwBpM,EAAK6Z,WACtEC,QAAS7Z,EAAO,KAAOA,EAAO,GAAMiL,GAAiBlL,EAAK6Z,SAAU,GACpEE,OAAQ9Z,EAAO,KAAOA,EAAO,GAAMiL,GAAiBlL,EAAK6Z,SAAU,IAClE,EACDnR,EAAAA,EAAAA,GAAoB,OAAQ,CAC1BZ,OAAOsE,EAAAA,EAAAA,IAAgB,CAAC,mBAAoB,CAAE,4BAA6BpM,EAAK6Z,WAChFvR,OAAOC,EAAAA,EAAAA,IAAgB,CAAEyR,YAAa,GAAGha,EAAK+V,oBAC9C1K,EAAGrL,EAAKia,MACRvN,QAASzM,EAAO,KAAOA,EAAO,GAEpC,IAAIuM,IAAUxM,EAAKka,iBAAmBla,EAAKka,mBAAmB1N,IACxDvJ,IAAK,WACJ,KAAM,GAAI4E,IACZ7H,EAAK6Z,UACDrZ,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,IAAKkB,GAAY,EAClDZ,EAAAA,EAAAA,GAAoB,SAAU,CAC5BoM,EAAG,KACHqF,GAAIna,EAAKsW,EAAE,GACX8D,GAAIpa,EAAKsW,EAAE,GACX+D,MAAO,OACPvS,MAAO,SACP4E,QAASzM,EAAO,KAAOA,EAAO,GAAMiL,GAAiBlL,EAAKsa,MAAM,SAAUta,EAAK6E,UAC9E,KAAM,EAAG8E,QAEd+B,EAAAA,EAAAA,IAAoB,IAAI,IAC3B,GACL,CChCA,QAAesK,EAAAA,EAAAA,IAAgB,CAC7B9P,KAAM,SACNiN,MAAO,CACLhI,eAAgB,CACdmC,KAAMoG,MACNuC,UAAU,GAEZpR,OAAQ,CACNyI,KAAMkG,OACNyC,UAAU,GAEZ1R,KAAM,CACJ+I,KAAM3J,OACNsS,UAAU,GAEZtR,GAAI,CACF2I,KAAM3J,OACNsS,UAAU,IAGdC,MAAM/C,GACJ,MAAM8G,GAAQvW,EAAAA,EAAAA,KAAS,KACrB,MAAM6W,EAAQpH,EAAMhI,eACpB,MAAO,OACToP,EAAM,OAAOA,EAAM,SACnBA,EAAM,OAAOA,EAAM,OAAOA,EAAM,OAAOA,EAAM,OAAOA,EAAM,OAAOA,EAAM,IAAI,IAErEC,GAAUvX,EAAAA,EAAAA,IAAyB,MAEnC4W,GAAU5W,EAAAA,EAAAA,KAAI,GACdqT,GAAI5S,EAAAA,EAAAA,KAAS,KACZuW,EAAMvY,MACNmY,EAAQnY,MACb,MAAM,EAAE8H,EAAC,EAAEC,GAAM+Q,EAAQ9Y,OAAO+Y,iBAAiBD,EAAQ9Y,OAAOgZ,iBAAmB,IAAM,CAAElR,EAAG,EAAGC,EAAG,GACpG,MAAO,CAACD,EAAGC,EAAE,IAGTyQ,EAAmB1M,IACvBoJ,QAAQC,IAAIrJ,EAAG,EAGXmN,EAAkBnN,IACtBoJ,QAAQC,IAAIrJ,EAAG,EAEjB,MAAO,CACLuI,cAAa,GAEb8D,UACAW,UACAP,QACA3D,IACA4D,kBACAS,iBAEJ,ICrDF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCPA,SAASC,GAAUvW,GACjB,MAAM,GAAEM,EAAE,KAAEJ,GAASF,EACrB,IAAIwW,GAAU,EACd,MAAMnB,EAAanV,IACjB,GAAII,EAAGF,KAAOF,EAAKE,GAInB,IAAK,IAAI9D,EAAI,EAAGA,EAAI4D,EAAKE,GAAGgH,cAAcrG,GAAGC,OAAQ1E,IAAK,CACxD,GAAIka,EAAS,MACb,MAAMlG,EAAOpQ,EAAKE,GAAGgH,cAAcrG,GAAGzE,GACtC+Y,EAAU/E,EAAKpQ,K,MANfsW,GAAU,C,EAUd,OADAnB,EAAUnV,GACHsW,CACT,CAEA,SAASC,GAAmBzW,GAC1B,MAAM,GAAEM,EAAE,KAAEJ,GAASF,EAEf0W,EAAkBpW,EAAGF,GAAGgH,cAAcrG,GAAGqS,QAAQpT,GAGnDM,EAAGD,OAASL,EAAKM,GAAGD,MAAQC,EAAGF,KAAOJ,EAAKM,GAAGF,KAIlD,OAAOsW,EAAgB1V,OAAS,CAClC,CAEM,SAAU2V,GAAyB3W,GAEvC,GAAIA,EAAKE,KAAKE,KAAOJ,EAAKM,GAAGF,GAC3B,MAAM,IAAIwW,UAAU,SAGtB,GAAI5W,EAAKE,KAAKuO,IAAIC,QAAQC,WAAa3O,EAAKM,GAAGmO,IAAIC,QAAQC,SACzD,MAAM,IAAIiI,UAAU,SAGtB,GAAIH,GAAmBzW,GACrB,MAAM,IAAI4W,UAAU,WAGtB,GAAIL,GAAUvW,GACZ,MAAM,IAAI4W,UAAU,UAEtBrE,QAAQC,IACNxS,EAAKM,GAAGF,GAAGgH,cAAcrG,GAAG,IACxBb,KAAKE,GAAGgH,cAAcrG,GAAG,IACzBb,KAAKE,GAAGgH,cAAcrG,GAE9B,CCpDO8V,eAAeC,KACpB,OAAO,IAAIC,SAAQC,IACjBC,YACE,KACED,EACEnZ,EAAS,eAAe4D,MAAM9C,OAAS,CAAC,EACzC,GAEH,IACD,GAEL,CAEOkY,eAAeK,KACpB,OAAO,IAAIH,SAAQC,IACjBC,YACE,KACED,EACEnZ,EAAS,eAAe4D,MAAMC,WAAa,CAAC,EAC7C,GAEH,IACD,GAEL,CAEOmV,eAAeM,KACpB,OAAO,IAAIJ,SAAQC,IACjBC,YACE,KACED,EACEnZ,EAAS,eAAe4D,MAAME,OAAS,CAAC,EACzC,GAEH,IAAI,GAEV,CCtCc,SAAUyV,KACtB,MAAMC,GAASnU,EAAAA,EAAAA,IAAmC,MAC5C9C,GAAK4S,EAAAA,EAAAA,MAAsBlO,MAEjC,IAAIwS,EAA4B,IAAIC,gBAAe,EAAEC,GAAQC,KAI3DJ,EAAOha,MAAQma,EAAM/N,OAAOmL,wBAC5BrC,QAAQC,IAAI6E,EAAOha,MAAM,IAU3B,OARAqa,EAAAA,EAAAA,KAAU,KACRJ,EAAIK,QAAQvX,EAAGwX,MACfC,EAAAA,EAAAA,KAAgB,KACdP,EAAIQ,YAAY,IAElBR,EAAK,IAAI,IAGJ,CACLD,SAEJ,CCIA,QAAe1F,EAAAA,EAAAA,IAAgB,CAC7B9P,KAAM,YACNkS,WAAY,CACVD,OAAM,GACNiE,OAAMA,IAERlG,QACE,MAAM6C,GAAiBxR,EAAAA,EAAAA,OACvBrE,EAAAA,EAAAA,IAAQ,iBAAkB6V,GAE1B,MAAMF,EAAgB4C,KAAiBC,QACvCxY,EAAAA,EAAAA,IAAQ0P,GAAwBiG,GAEhC,MAAM3U,GAAc6Q,EAAAA,EAAAA,IAAOvS,GACrB4B,GAAU2Q,EAAAA,EAAAA,IAAOpS,GACjBiC,GAAamQ,EAAAA,EAAAA,IAAOrS,GAEpBM,GAAQ+R,EAAAA,EAAAA,IAAO3S,GAEf+B,GAAiC4Q,EAAAA,EAAAA,IAAOtS,GACxC+C,GAAkCuP,EAAAA,EAAAA,IAAOnS,GAEzCY,GAAauR,EAAAA,EAAAA,IAAOlS,GACpBqH,EAAiBjH,IACjBA,IACFO,EAAW9B,MAAMuB,EAAIM,QAAUN,E,GAGnCiS,EAAAA,EAAAA,KAAe,KAAQ1R,EAAW9B,MAAQ,CAAC,CAAC,IAK5C,MAAM2a,GAAsBpZ,EAAAA,EAAAA,IAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAChDqI,GAAa5H,EAAAA,EAAAA,KAAS,KAC1B,MAAM6W,EAAQ8B,EAAoB3a,MAClC,MAAO,OACT6Y,EAAM,OAAOA,EAAM,SACnBA,EAAM,OAAOA,EAAM,OAAOA,EAAM,OAAOA,EAAM,OAAOA,EAAM,OAAOA,EAAM,IAAI,IAGrE7U,GAAWzC,EAAAA,EAAAA,IAA4C,MACvD0C,GAAS1C,EAAAA,EAAAA,IAA4C,OAC3DC,EAAAA,EAAAA,IAAQ,WAAYwC,IACpBxC,EAAAA,EAAAA,IAAQ,SAAUyC,GAOlB,MAAM0E,EAAkB,EAEpBwD,WACApJ,SAQF,MAAMqO,EAAKjF,EACXnI,EAAShE,MAAQ,CACf+C,KACAC,KAAMmJ,EAASkF,SAASuJ,QAAU,GAClCxJ,GAAIjF,GAEN,MAAM0O,EAAQ,CACZzJ,EAAGmG,wBAAwBzP,EAC3BsJ,EAAGmG,wBAAwBxP,GAGH,OAAtBoJ,GAAcC,KAChBuJ,EAAoB3a,MAAQ,CAC1B6a,EAAM,GACNA,EAAM,GAAK3P,GACX2P,EAAM,GAAKzG,GAAgBlJ,GAC3B2P,EAAM,GAAK3P,GAEX2P,EAAM,GAAKzG,GAAgBlJ,GAC3B2P,EAAM,GAAK3P,GACX2P,EAAM,GACNA,EAAM,GAAK3P,IACX4I,KAAI,CAACc,EAAG3V,IAAMA,EAAI,IAAM,EAAI2V,EAAIyC,EAAerX,MAAOyX,WAAaN,EAAcnX,MAAMkH,KAAO0N,EAAIyC,EAAerX,MAAO2X,UAAYR,EAAcnX,MAAMiH,OAElI,QAAtBkK,GAAcC,KAChBuJ,EAAoB3a,MAAQ,CAC1B6a,EAAM,GAAK,EAAI3P,GACf2P,EAAM,GAAK3P,GACX2P,EAAM,GAAKzG,GAAgBlJ,GAC3B2P,EAAM,GAAK3P,GAEX2P,EAAM,GAAKzG,GAAgBlJ,GAC3B2P,EAAM,GACNA,EAAM,GACNA,EAAM,IACN/G,KAAI,CAACc,EAAG3V,IAAMA,EAAI,IAAM,EAAI2V,EAAIyC,EAAerX,MAAOyX,WAAaN,EAAcnX,MAAMkH,KAAO0N,EAAIyC,EAAerX,MAAO2X,UAAYR,EAAcnX,MAAMiH,M,EAQxJ4B,EAAiB,EAEnBiD,KACAK,eAQ8B,OAA5BgF,GAAchF,KAChBwO,EAAoB3a,MAAQ,CAC1B8L,EAAG0L,MAAO1L,EAAG4L,MAAO5L,EAAG0L,MAAQpD,GAAetI,EAAG4L,SAC9CiD,EAAoB3a,MAAM8a,MAAM,IACnChH,KAAI,CAACc,EAAG3V,IACJA,GAAK,EACHA,EAAI,IAAM,EACL2V,EAAIyC,EAAerX,MAAOyX,WAAaN,EAAcnX,MAAMkH,KAE3D0N,EAAIyC,EAAerX,MAAO2X,UAAYR,EAAcnX,MAAMiH,IAG5D2N,KAImB,QAA5BzD,GAAchF,KAChBwO,EAAoB3a,MAAQ,IACvB2a,EAAoB3a,MAAM8a,MAAM,EAAG,GACtChP,EAAG0L,MAAQpD,GAAetI,EAAG4L,MAAO5L,EAAG0L,MAAO1L,EAAG4L,OACjD5D,KAAI,CAACc,EAAG3V,IACJA,GAAK,EACHA,EAAI,IAAM,EACL2V,EAAIyC,EAAerX,MAAOyX,WAAaN,EAAcnX,MAAMkH,KAE3D0N,EAAIyC,EAAerX,MAAO2X,UAAYR,EAAcnX,MAAMiH,IAG5D2N,I,EAST7L,EAAoB,EAEtB+C,KACAK,eAQF,MAAMiF,EAAKtF,EAAGM,OACRyO,EAAQ,CACZzJ,EAAGmG,wBAAwBzP,EAC3BsJ,EAAGmG,wBAAwBxP,GAE7B,IAEIhE,EAFA0F,EAA2B,GAIC,OAA5B0H,GAAchF,KAChB1C,EAAiB,CACfoR,EAAM,GAAK,EAAI3P,GACf2P,EAAM,GAAK3P,GACX2P,EAAM,GAAKzG,GAAgBlJ,GAC3B2P,EAAM,GAAK3P,MACRyP,EAAoB3a,MAAM8a,MAAM,IACnChH,KAAI,CAACc,EAAG3V,IACJA,GAAK,EACHA,EAAI,IAAM,EACL2V,EAAIyC,EAAerX,MAAOyX,WAAaN,EAAcnX,MAAMkH,KAE3D0N,EAAIyC,EAAerX,MAAO2X,UAAYR,EAAcnX,MAAMiH,IAG5D2N,IAIX7Q,EAAa,CACX0F,iBACA9H,GAAIxC,IACJ8D,GAAIe,EAAShE,MACb6C,KAAMoB,EAAOjE,QAIe,QAA5BmR,GAAchF,KAChB1C,EAAiB,IACZkR,EAAoB3a,MAAM8a,MAAM,EAAG,GACtCD,EAAM,GAAKzG,GAAgBlJ,GAC3B2P,EAAM,GAAK3P,GACX2P,EAAM,GACNA,EAAM,GAAK3P,IACX4I,KAAI,CAACc,EAAG3V,IACJA,GAAK,EACHA,EAAI,IAAM,EACL2V,EAAIyC,EAAerX,MAAOyX,WAAaN,EAAcnX,MAAMkH,KAE3D0N,EAAIyC,EAAerX,MAAO2X,UAAYR,EAAcnX,MAAMiH,IAG5D2N,IAGX7Q,EAAa,CACX0F,iBACA9H,GAAIxC,IACJ0D,KAAMmB,EAAShE,MACfiD,GAAIgB,EAAOjE,QAIf,IACEsZ,GAAyBvV,GACzBrB,EAAQqB,GAGwB,QAA5BoN,GAAchF,IAChBrI,EACEC,EACAC,EACAC,GAEFA,EAAOjE,OAAO+C,IAAIqS,yBAGlBtR,EACEC,EACAE,EACAD,GAEFA,EAAShE,OAAO+C,IAAIqS,uB,CAEtB,MAAO2F,GACP7F,QAAQ8F,MAAMD,E,CAEhB/W,EAAShE,MAAQ,KACjBiE,EAAOjE,MAAQ,KACf2a,EAAoB3a,MAAMsW,KAAK,EAAE,EAM7BrN,EAAmB,KACvBiM,QAAQC,IAAI,YACZnR,EAAShE,MAAQ,KACjBiE,EAAOjE,MAAQ,KACf2a,EAAoB3a,MAAMsW,KAAK,EAAE,EAM7BnN,EAA0B,EAAGpG,KAAIoJ,WAAUL,SAC/C7H,EAAOjE,MAAQ,CACb+C,GAAIA,EACJC,KAAO8I,EAAGM,QAA6BiF,SAASuJ,QAAU,GAC1DxJ,GAAIjF,EACL,EAMG7C,EAAkB+I,IACtBA,EAAMzO,IAAIzB,SAAQ8Q,IAChB,MAAM4H,EAAQ,CACZ5H,EAAKpQ,KAAKuO,IAAImG,wBAAwBzP,GAAK,EAC3CmL,EAAKpQ,KAAKuO,IAAImG,wBAAwBxP,GAAK,GAE7CkL,EAAKxJ,eAAiB,CACpBoR,EAAM,GAAK,EAAI3P,GACf2P,EAAM,GAAK3P,GACX2P,EAAM,GAAKzG,GAAgBlJ,GAC3B2P,EAAM,GAAK3P,MACR+H,EAAKxJ,eAAeqR,MAAM,IAC7BhH,KAAI,CAACc,EAAG3V,IACJA,GAAK,EACHA,EAAI,IAAM,EACL2V,EAAIyC,EAAerX,MAAOyX,WAAaN,EAAcnX,MAAMkH,KAE3D0N,EAAIyC,EAAerX,MAAO2X,UAAYR,EAAcnX,MAAMiH,IAG5D2N,GAET,IAEJvC,EAAM3O,GAAGvB,SAAQ8Q,IACf,MAAM4H,EAAQ,CACZ5H,EAAKhQ,GAAGmO,IAAImG,wBAAwBzP,GAAK,EACzCmL,EAAKhQ,GAAGmO,IAAImG,wBAAwBxP,GAAK,GAE3CkL,EAAKxJ,eAAiB,IACjBwJ,EAAKxJ,eAAeqR,MAAM,EAAG,GAChCD,EAAM,GAAKzG,GAAgBlJ,GAC3B2P,EAAM,GAAK3P,GACX2P,EAAM,GACNA,EAAM,GAAK3P,IACX4I,KAAI,CAACc,EAAG3V,IACJA,GAAK,EACHA,EAAI,IAAM,EACL2V,EAAIyC,EAAerX,MAAOyX,WAAaN,EAAcnX,MAAMkH,KAE3D0N,EAAIyC,EAAerX,MAAO2X,UAAYR,EAAcnX,MAAMiH,IAG5D2N,GAET,GACF,EAMEvP,GAAegO,EAAAA,EAAAA,IAAOnO,GAEtB2E,GAAgBwJ,EAAAA,EAAAA,IAAOpO,GACvB6E,GAAoBvI,EAAAA,EAAAA,IAAI,CAAC,EAAG,IAE5B6H,GAAsB4M,EAAAA,EAAAA,IAAS,CACnCtS,GAAI,GACJE,IAAK,KAGDqX,GAAW5H,EAAAA,EAAAA,IAAOzS,GAElBsa,EAAiC1B,UACrC,MAAOlY,EAAO6Z,EAAgB7W,SAAeoV,QAAQ0B,IACnD,CACE3B,KACAI,KACAC,OAGJ7X,OAAOuB,OAAOlC,GACXa,SAAQsB,IACPwX,EAASxX,EAAG,UAGVoU,EAAAA,EAAAA,MACN5V,OAAOC,QAAQiZ,GAAgBhZ,SAAQ,EAAEN,EAAQwZ,GAAgBtH,KAC/D9R,OAAO4P,KAAKwJ,GAAelZ,SAASpC,IAGhC,EACEub,EAAAA,EAAAA,IAAOxZ,EAAW9B,MAAM6B,GAAQQ,cAAcC,YAAavC,GACtC,YAArBuB,EAAMO,GAAQ4G,IACdiD,UAAS,KAEV5J,EAAW9B,MAAM6B,GAAQQ,cAAcC,YAAoBvC,GAAOsb,EAActb,G,GAEnF,UAGE8X,EAAAA,EAAAA,MACN5V,OAAOuB,OAAOc,GACXwP,KAAIrQ,IACH,MAAM8X,EAAQpb,OAAOqb,gBAAgB/X,GAErC8X,EAAM1Y,KAAKE,GAAKjB,EAAW9B,MAAMyD,EAAGZ,KAAKC,MACzCyY,EAAM1Y,KAAKuO,GAAKmK,EAAM1Y,KAAKE,GAAGwX,IAAIkB,cAAc,kBAAkBhY,EAAGZ,KAAKG,UAC1E,MAAM0Y,EAAgB,CACpBH,EAAM1Y,KAAKuO,GAAImG,wBAAwBzP,EACvCyT,EAAM1Y,KAAKuO,GAAImG,wBAAwBxP,GAGzCwT,EAAMtY,GAAGF,GAAKjB,EAAW9B,MAAMyD,EAAGR,GAAGH,MACrCyY,EAAMtY,GAAGmO,GAAKmK,EAAMtY,GAAGF,GAAGwX,IAAIkB,cAAc,kBAAkBhY,EAAGR,GAAGD,UACpE,MAAM2Y,EAAc,CAClBJ,EAAMtY,GAAGmO,GAAImG,wBAAwBzP,EACrCyT,EAAMtY,GAAGmO,GAAImG,wBAAwBxP,GAevC,OAZAwT,EAAM9R,eAAiB,CACrBiS,EAAc,GAAK,EAAIxQ,GACvBwQ,EAAc,GAAKxQ,GACnBwQ,EAAc,GAAKtH,GAAgBlJ,GACnCwQ,EAAc,GAAKxQ,GAEnByQ,EAAY,GAAKvH,GAAgBlJ,GACjCyQ,EAAY,GAAKzQ,GACjByQ,EAAY,GACZA,EAAY,GAAKzQ,IACjB4I,KAAI,CAACc,EAAG3V,IAAMA,EAAI,IAAM,EAAI2V,EAAIyC,EAAerX,MAAOyX,WAAaN,EAAcnX,MAAMkH,KAAO0N,EAAIyC,EAAerX,MAAO2X,UAAYR,EAAcnX,MAAMiH,MAEnJsU,CAAK,IAEbpZ,SAAQsB,IACP,IACE6V,GAAyB7V,GACzBf,EAAQe,GACRK,EACEL,EACAA,EAAGZ,KACHY,EAAGR,IAELgB,EAAOjE,MAAQyD,EAAGR,GAClBe,EAAShE,MAAQyD,EAAGZ,KACpBY,EAAGR,GAAGF,IAAIqS,sB,CACV,MAAO2F,GACP7F,QAAQ8F,MAAMD,E,CAEhB/W,EAAShE,MAAQ,KACjBiE,EAAOjE,MAAQ,IAAI,GACnB,EAON,OAJAqa,EAAAA,EAAAA,KAAU,KACRa,GAAgC,IAG3B,CACL7D,iBACAF,gBAEAvN,aACAvE,eACAwE,gBACAC,oBAEAxI,QACAkH,gBAEAhG,cAEAmG,kBACAE,iBACAE,oBACAE,mBACAE,0BACAG,iBAEAtF,WACAC,SAEAmF,sBACA3G,iCACAS,aAEJ,IC5dF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,UCPA,MACMiD,GAAa,CAAEC,MAAO,sBACtBwB,GAAa,CAAExB,MAAO,aACtB6B,GAAa,CAAC,eAEd,SAAU5J,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQG,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAOP,GAAY,GAC1DrH,EAAAA,EAAAA,KAAW,IAAO4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYhK,EAAKsd,WAAW,CAACC,EAAO9H,MAClFjV,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAO,CAAE3G,IAAKgU,GAAS,EAC/D/M,EAAAA,EAAAA,GAAoB,KAAM,MAAMwE,EAAAA,EAAAA,IAAiBlN,EAAKsd,UAAUjD,OAAQ,IACxE3R,EAAAA,EAAAA,GAAoB,KAAMY,GAAY,GACnC9I,EAAAA,EAAAA,KAAW,IAAO4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYuT,EAAMnK,UAAU,CAACoK,EAAM/H,MACjFjV,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,KAAM,CAC9C3G,IAAKgU,EACLnJ,YAAckB,GAAOxN,EAAKyd,oBAAoBjQ,EAAIgQ,KACjDtQ,EAAAA,EAAAA,IAAiBsQ,EAAKnD,OAAQ,GAAI1Q,OACnC,aAGN,OAER,CCXA,MAAM2T,GAAY,CAChB,CACEjD,MAAO,KACPjH,SAAUzP,OAAO4P,KAAKlG,IAAImI,KAAIb,IAAQ,CACpC0F,MAAO1F,QAKb,QAAeqB,EAAAA,EAAAA,IAAgB,CAC7B9P,KAAM,mBACNgQ,MAAM/C,GAAO,KAAEyF,IACb,MAAMtR,GAAcyN,EAAAA,EAAAA,IAAO5N,GACrB0R,GAAgBnV,EAAAA,EAAAA,KAAS,IACtB4D,EAAY5F,MAAMmX,gBAGrB9R,GAAegO,EAAAA,EAAAA,IAAOnO,GACtBE,GAAmBiO,EAAAA,EAAAA,IAAOpO,GAC1BgW,GAAW5H,EAAAA,EAAAA,IAAOzS,GAElBmb,EAAsB,SAASjQ,EAAgBgQ,GACnDjQ,EAAiBC,EAAI,CACnBE,MAAMF,GAAI,SAAEK,IACV/G,EAAiBpF,MAAQ8b,EAAKnD,OAC9Bd,EAAAA,EAAAA,KACE,IAAMxS,EAAarF,MAAO4Y,MACxB,kBACA,CAAC9M,EAAGkQ,QAAUpW,EAAY5F,MAAMua,IAAI9C,WAAaN,EAAcnX,MAAMkH,KAAM4E,EAAGmQ,QAAUrW,EAAY5F,MAAMua,IAAI5C,UAAYR,EAAcnX,MAAMiH,OAGpJ,EACAgF,KAAKH,GAAI,SAAEK,IACT+I,QAAQC,IAAI9P,EAAarF,OACzBqF,EAAarF,MAAO4Y,MAClB,kBACA,CAAC9M,EAAGkQ,QAAUpW,EAAY5F,MAAMua,IAAI9C,WAAaN,EAAcnX,MAAMkH,KAAM4E,EAAGmQ,QAAUrW,EAAY5F,MAAMua,IAAI5C,UAAYR,EAAcnX,MAAMiH,KAGlJ,EACAiF,GAAGJ,GAAI,SAAEK,IACP8O,EAAS,CACPxS,GAAIqT,EAAKnD,MACThX,GAAIxC,IACJoK,SAAU,CAACuC,EAAGkQ,QAAUpW,EAAY5F,MAAMua,IAAI9C,WAAaN,EAAcnX,MAAMkH,KAAM4E,EAAGmQ,QAAUrW,EAAY5F,MAAMua,IAAI5C,UAAYR,EAAcnX,MAAMiH,OAE1J7B,EAAiBpF,MAAQ,IAE3B,GAEJ,EACA,MAAO,CACL+b,sBACAH,aACAzU,wBAAuBA,GAE3B,IC7DF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCPA,MACMhB,GAAa,CAAEsC,GAAI,WAEnB,SAAUpK,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMud,GAAuBrd,EAAAA,EAAAA,IAAkB,aAE/C,OAAQC,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAO,CAC/CN,MAAO,qBACPQ,OAAOC,EAAAA,EAAAA,IAAgB,CAACO,MAAO9I,EAAK+I,sBAAsB,QACzD,EACDL,EAAAA,EAAAA,GAAoB,OAAQb,GAAY,GACrCrH,EAAAA,EAAAA,KAAW,IAAO4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYhK,EAAK6d,gBAAgB1P,OAAO,CAAC2P,EAAMrc,MAC7FjB,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAamd,EAAsB,CACvDnc,IAAKA,EACLsc,OAAQD,EACR,WAAYrc,GACX,KAAM,EAAG,CAAC,SAAU,gBACrB,SAEL,EACL,CCnBA,MAAMuV,GAAeC,KAAMC,EAAAA,EAAAA,IAAa,mBAAmBD,EAAEA,KAAIE,EAAAA,EAAAA,MAAcF,GACzEpP,GAAa,CAAEpG,IAAK,GACpB6H,GAA2B0N,IAAa,KAAmBtO,EAAAA,EAAAA,GAAoB,KAAM,KAAM,MAAO,KAClGiB,GAAa,CAAC,SACdC,GAAa,CAAC,MAAO,OAQ3B,QAA4BoU,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,WACR9K,MAAO,CACP4K,OAAQ,CACNzQ,KAAM3J,QAERua,QAAS,CACP5Q,KAAMkG,SAGR0C,MAAMiI,GAER,MAAMhL,EAAQgL,EAGRD,GAAUxa,EAAAA,EAAAA,KAAS,IAAMyP,EAAM+K,WAE9BjX,IAAgB8N,EAAAA,EAAAA,IAAO/N,GAExBhD,GAAcN,EAAAA,EAAAA,KAAS,KACpBkC,EAAAA,EAAAA,IAAMqB,IAAelD,cAAcC,aAAe,CAAC,IAGtDoS,GAAmB1S,EAAAA,EAAAA,KAAS,KACzBkC,EAAAA,EAAAA,IAAMqB,IAAelD,cAAcqS,kBAAoB,CAAC,IAG3DgI,GAA8B1a,EAAAA,EAAAA,KAAS,KACpCsZ,EAAAA,EAAAA,KAAOpX,EAAAA,EAAAA,IAAMwQ,GAAmB8H,EAAQxc,SAG3C2c,EAA8B,CAACjI,EAA0B8H,IACtD9H,EAGHkI,GAA4B5a,EAAAA,EAAAA,KAAS,KAClC,CACL6a,UAAU3Y,EAAAA,EAAAA,IAAMwY,GAChB1c,OAAOkE,EAAAA,EAAAA,IAAMwY,GAA+BC,EAA4BjI,EAAiB1U,OAAMkE,EAAAA,EAAAA,IAAMsY,KAAWtY,EAAAA,EAAAA,IAAMsY,IAAYla,EAAYtC,OAAMkE,EAAAA,EAAAA,IAAMsY,IAC1JM,SAAWhR,IACTA,EAAGiR,kBACHza,EAAYtC,OAAMkE,EAAAA,EAAAA,IAAMsY,IAAa1Q,EAAGM,OAA4BpM,KAAK,MAK/E,MAAO,CAAC1B,EAAUC,KAC8B,IAAtCke,EAAQJ,QAAQzP,oBACnB9N,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAOP,GAAY,EACpDa,EAAAA,EAAAA,GAAoB,QAAS,MAAMwE,EAAAA,EAAAA,KAAiBwR,EAAAA,EAAAA,IAAOR,IAAW,GACtE5U,GAC0B,SAAzB6U,EAAQJ,QAAQzQ,MAAoB6Q,EAAQJ,QAAQzQ,KAqBvB,WAAzB6Q,EAAQJ,QAAQzQ,OACd9M,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,CAAEtI,IAAK,GAAK,CACvDiS,MAAMC,QAAQwK,EAAQJ,QAAQnP,SAC1BpO,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,SAASuW,EAAAA,EAAAA,IAAY,CACtDld,IAAK,EACL0I,GAAI,WACJmD,KAAM,QACNsR,IAAKT,EAAQJ,OAAOnP,MAAM,GAC1BiQ,IAAKV,EAAQJ,OAAOnP,MAAM,KACzB8P,EAAAA,EAAAA,IAAOJ,IAA6B,KAAM,GAAI1U,OAChDpJ,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,SAASuW,EAAAA,EAAAA,IAAY,CACtDld,IAAK,EACL0I,GAAI,WACJmD,KAAM,SACNwR,KAAM,OACLJ,EAAAA,EAAAA,IAAOJ,IAA6B,KAAM,MAChD,MACH5S,EAAAA,EAAAA,IAAoB,IAAI,KArCzBlL,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,CAAEtI,IAAK,GAAK,CACvDiS,MAAMC,QAAQwK,EAAQJ,QAAQ/O,QAC1BxO,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,UAAUuW,EAAAA,EAAAA,IAAY,CACvDld,IAAK,EACL0I,GAAI,cACHuU,EAAAA,EAAAA,IAAOJ,IAA6B,GACpC9d,EAAAA,EAAAA,KAAW,IAAO4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYmU,EAAQJ,OAAO/O,MAAO+P,KAChFve,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,SAAU,CAClD3G,IAAMsd,GAA4B,kBAAXA,EAAuBA,EAAOrd,MAAQqd,EAC7Drd,MAAQqd,GAA4B,kBAAXA,EAAuBA,EAAOrd,MAAQqd,IAC9D7R,EAAAA,EAAAA,IAAkB6R,GAA4B,kBAAXA,EAAuBA,EAAO3P,MAAQ2P,GAAS,EAAGpV,OACtF,OACH,OACFnJ,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,SAASuW,EAAAA,EAAAA,IAAY,CACtDld,IAAK,EACL0I,GAAI,WACJmD,KAAM,OACNwR,KAAM,OACLJ,EAAAA,EAAAA,IAAOJ,IAA6B,KAAM,MAChD,SAoBT5S,EAAAA,EAAAA,IAAoB,IAAI,EAE9B,ICtGA,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCEA,IAAesK,EAAAA,EAAAA,IAAgB,CAC7B9P,KAAM,mBACNkS,WAAY,CAAE4G,SAAQA,IACtB9I,MAAM/C,GAAO,KAAEyF,IACb,MAAO3R,IAAgB8N,EAAAA,EAAAA,IAAO/N,GAExB6W,GAAkBna,EAAAA,EAAAA,KAAS,KAE7BkC,EAAAA,EAAAA,IAAMqB,KAAiBrB,EAAAA,EAAAA,IAAMqB,IAAekD,GAErCkD,IAAGzH,EAAAA,EAAAA,IAAMqB,GAAekD,IAExB,CAAC,IAIZ,MAAO,CACLpB,sBAAqB,GAErB9B,eACA4W,kBAEJ,ICzBF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCPA,MAAM7G,GAAeC,KAAMC,EAAAA,EAAAA,IAAa,mBAAmBD,EAAEA,KAAIE,EAAAA,EAAAA,MAAcF,GACzEpP,GAAa,CAAEC,MAAO,wBACtBwB,GAAa,CAAC,OACdK,GAA2BqN,IAAa,KAAmBtO,EAAAA,EAAAA,GAAoB,MAAO,CAAEZ,MAAO,+BAAiC,MAAO,KAEvI,SAAU/H,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAM4e,GAAwB1e,EAAAA,EAAAA,IAAkB,cAEhD,OAAQC,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAOP,GAAY,EAC3DQ,EAAAA,EAAAA,IAAa4W,EAAuB,CAAE,eAAgB,sBACtDvW,EAAAA,EAAAA,GAAoB,MAAO,CACzBJ,OAAOC,EAAAA,EAAAA,IAAgB,CACrBkP,OAAQ,2BAEV3P,MAAO,oCACN,EACDY,EAAAA,EAAAA,GAAoB,MAAO,CAAEwW,IAAKlf,EAAKmf,gBAAkB,KAAM,EAAG7V,KACjE,GACHK,IAEJ,CCpBA,MACM9B,GAAa,CAAEC,MAAO,cACtBwB,GAAa,CAAC,MAEd,SAAUvJ,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQG,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAOP,GAAY,GAC1DrH,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAO,KAAM,EAC9CM,EAAAA,EAAAA,GAAoB,OAAQ,KAAM,EAChCA,EAAAA,EAAAA,GAAoB,SAAU,CAAErF,GAAIrD,EAAKof,YAAc,GACpD5e,EAAAA,EAAAA,KAAW,IAAO4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYhK,EAAKqf,+BAA+B,CAACtf,EAAQ0V,MACvGjV,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,KAAa6e,EAAAA,EAAAA,IAAyBvf,GAAS,CAAE0B,IAAKgU,OAC1E,OACH,EAAGnM,UAId,CCdA,QAAe0M,EAAAA,EAAAA,IAAgB,CAC7B9P,KAAM,QACNiN,MAAO,CACLiM,WAAY,CACV9R,KAAMkG,SAGV0C,QACE,MAAOjP,IAAgB8N,EAAAA,EAAAA,IAAO/N,GACxBqY,GAAgC3b,EAAAA,EAAAA,KAAS,KAC7C,MAAM6b,EAAwBtY,EAAavF,MAAQuF,EAAavF,MAAO0T,sBAAwB,GAE/F,OAAOmK,EAAsB/J,KAAIrQ,GACxB,IAAMA,EAAGuQ,iBAAiBvQ,IACjC,IAGJ,MAAO,CACL8B,eACAoY,gCAEJ,IClBF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCLA,IAAerJ,EAAAA,EAAAA,IAAgB,CAC7B9P,KAAM,qBACNkS,WAAY,CAAEoH,UAASA,IACvBtJ,QACE,MAAMiJ,GAAiBlc,EAAAA,EAAAA,IAAI,iCAE3B,MAAO,CACLkc,iBAEJ,ICNF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCNA,MACMtX,GAAa,CAAEC,MAAO,YACtBwB,GAAa,CAAEhB,MAAO,CACpBmX,UAAW,SAEb9V,GAAa,CAAE7B,MAAO,+BACtB8B,GAAa,CAAC,eAAgB,gBAC9B+B,GAAa,CACjB7D,MAAO,eACPQ,MAAO,CACK2C,SAAU,WACVtC,IAAK,OACLC,KAAM,IAGd8W,GAAa,CAAC,eAAgB,eAAgB,WAC9CC,GAAa,CAAEle,IAAK,GACpBme,IAA0BC,EAAAA,EAAAA,IAAmB,8UAA2V,GAM9Y,QAA4B7B,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,aACR/H,MAAMiI,GAER,MAAM2B,GAAwB7c,EAAAA,EAAAA,IAA0B,CAAC,GACnD8c,EAAoB1c,IACxByc,EAAsBpe,MAAM2B,IAAM,CAAI,EAElC2c,EAAoB3c,WACjByc,EAAsBpe,MAAM2B,EAAG,EAGlCwC,GAAakP,EAAAA,EAAAA,IAAOjS,GAEpBmd,GAAevc,EAAAA,EAAAA,KAAS,IAAM,CAClC,CACEL,GAAI,OACJ+L,MAAO,OACP8Q,QAAS,CAKP,CACE7c,GAAI,OACJ+L,MAAO,OACP1C,UACE7G,GACF,KAYN,CACExC,GAAI,OACJ+L,MAAO,OACP8Q,QAAS,CAKP,CACE7c,GAAI,kCACJ+L,MAAO,kCACP1C,UACE7K,OAAOse,KAAK,0CACd,GAEF,CACE9c,GAAI,8BACJ+L,MAAO,8BACP1C,UACE7K,OAAOse,KAAK,kEACd,GAEF,CACE9c,GAAI,8BACJiK,KAAM,MAER,CACEjK,GAAI,QACJ+L,MAAO,QACP1C,UACE7K,OAAOse,KAAK,6DACd,GAEF,CACE9c,GAAI,4BACJ+L,MAAO,4BACP1C,UACE7K,OAAOse,KAAK,wBACd,QAMR,MAAO,CAACngB,EAAUC,MACRO,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAOP,GAAY,EAC3Da,EAAAA,EAAAA,GAAoB,MAAOY,GAAY,EACrCZ,EAAAA,EAAAA,GAAoB,KAAMiB,GAAY,GACnCnJ,EAAAA,EAAAA,KAAW,IAAO4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,KAAY0U,EAAAA,EAAAA,IAAOuB,IAAgBG,KACjF5f,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,KAAM,CAC9C3G,IAAK2e,EAAK/c,GACVyE,OAAOsE,EAAAA,EAAAA,IAAgB,CAAC,kBAAmB,CAC3C,0BAA2B0T,EAAsBpe,MAAM0e,EAAK/c,OAE5D2J,aAAe9B,GAAiB6U,EAAiBK,EAAK/c,IACtDgd,aAAenV,GAAiB8U,EAAiBI,EAAK/c,KACrD,EACDqF,EAAAA,EAAAA,GAAoB,MAAO,MAAMwE,EAAAA,EAAAA,IAAiBkT,EAAKhR,OAAQ,IAC/DuI,EAAAA,EAAAA,KAAgBjP,EAAAA,EAAAA,GAAoB,KAAMiD,GAAY,GACnDnL,EAAAA,EAAAA,KAAW,IAAO4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYoW,EAAKF,SAAUA,KACzE1f,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,KAAM,CAC9C3G,IAAKye,EAAQ7c,GACbyE,OAAOsE,EAAAA,EAAAA,IAAgB,CAAC,eAAgB,CAC1C,uBAAwB0T,EAAsBpe,MAAMwe,EAAQ7c,IAC5D,sBAAwC,OAAjB6c,EAAQ5S,QAE7BN,aAAe9B,GAAiB6U,EAAiBG,EAAQ7c,IACzDgd,aAAenV,GAAiB8U,EAAiBE,EAAQ7c,IACzDiJ,YAAarM,EAAO,KAAOA,EAAO,IAAKsM,EAAAA,EAAAA,KAAe,QAAU,CAAC,aACjEG,SAASH,EAAAA,EAAAA,KAAe,KAC1B2T,EAAQxT,YACRoT,EAAsBpe,MAAQ,CAAC,CAAC,GAC/B,CAAC,aACC,CACiB,OAAjBwe,EAAQ5S,OACJ9M,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB,MAAOuX,OACzCnf,EAAAA,EAAAA,OAAc4H,EAAAA,EAAAA,IAAoB2B,EAAAA,GAAW,CAAEtI,IAAK,GAAK,EACxD6e,EAAAA,EAAAA,KAAiBpT,EAAAA,EAAAA,IAAiBgT,EAAQ9Q,OAAQ,IACjD,MACN,GAAIsQ,OACL,OACH,KAAM,CACP,CAACa,EAAAA,GAAQT,EAAsBpe,MAAM0e,EAAK/c,QAE3C,GAAIuG,OACL,UAGRgW,KAGJ,ICvJA,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCGA,IAAe5J,EAAAA,EAAAA,IAAgB,CAC7B9P,KAAM,UACNkS,WAAY,CACVoI,WAAU,GACVC,UAAS,GACTC,iBAAgB,GAChBC,iBAAgB,GAChBC,mBAAkBA,IAEpB1K,QACE,MAAM1O,GAAiBuN,EAAAA,EAAAA,IAAO3N,GAC9B,MAAO,CACLI,iBAEAqB,wBAAuB,GACvBE,sBAAqB,GACrBN,iBAAgBA,GAEpB,ICtBF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,UCJA,IAAeuN,EAAAA,EAAAA,IAAgB,CAC7B9P,KAAM,MACNkS,WAAY,CACVyI,QAAOA,IAET3K,QACEzO,GACF,ICLF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS1H,KAEpE,WCJA+gB,EAAAA,EAAAA,IAAUC,IACPC,MAAM,O,GCLLC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBhU,IAAjBiU,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CAGjDE,QAAS,CAAC,GAOX,OAHAE,EAAoBJ,GAAUG,EAAQA,EAAOD,QAASH,GAG/CI,EAAOD,OACf,CAGAH,EAAoBM,EAAID,E,WCzBxB,IAAIE,EAAW,GACfP,EAAoBQ,EAAI,SAASnN,EAAQoN,EAAU/Z,EAAIga,GACtD,IAAGD,EAAH,CAMA,IAAIE,EAAeC,IACnB,IAASnhB,EAAI,EAAGA,EAAI8gB,EAASpc,OAAQ1E,IAAK,CACrCghB,EAAWF,EAAS9gB,GAAG,GACvBiH,EAAK6Z,EAAS9gB,GAAG,GACjBihB,EAAWH,EAAS9gB,GAAG,GAE3B,IAJA,IAGIohB,GAAY,EACPC,EAAI,EAAGA,EAAIL,EAAStc,OAAQ2c,MACpB,EAAXJ,GAAsBC,GAAgBD,IAAaje,OAAO4P,KAAK2N,EAAoBQ,GAAGO,OAAM,SAASxgB,GAAO,OAAOyf,EAAoBQ,EAAEjgB,GAAKkgB,EAASK,GAAK,IAChKL,EAAS1c,OAAO+c,IAAK,IAErBD,GAAY,EACTH,EAAWC,IAAcA,EAAeD,IAG7C,GAAGG,EAAW,CACbN,EAASxc,OAAOtE,IAAK,GACrB,IAAImU,EAAIlN,SACEuF,IAAN2H,IAAiBP,EAASO,EAC/B,CACD,CACA,OAAOP,CArBP,CAJCqN,EAAWA,GAAY,EACvB,IAAI,IAAIjhB,EAAI8gB,EAASpc,OAAQ1E,EAAI,GAAK8gB,EAAS9gB,EAAI,GAAG,GAAKihB,EAAUjhB,IAAK8gB,EAAS9gB,GAAK8gB,EAAS9gB,EAAI,GACrG8gB,EAAS9gB,GAAK,CAACghB,EAAU/Z,EAAIga,EAwB/B,C,eC5BAV,EAAoB7V,EAAI,SAASgW,EAASa,GACzC,IAAI,IAAIzgB,KAAOygB,EACXhB,EAAoBiB,EAAED,EAAYzgB,KAASyf,EAAoBiB,EAAEd,EAAS5f,IAC5EkC,OAAOye,eAAef,EAAS5f,EAAK,CAAE4gB,YAAY,EAAMtgB,IAAKmgB,EAAWzgB,IAG3E,C,eCPAyf,EAAoBoB,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOC,MAAQ,IAAIC,SAAS,cAAb,EAGhB,CAFE,MAAOC,GACR,GAAsB,kBAAX7gB,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxBqf,EAAoBiB,EAAI,SAAS7gB,EAAKqhB,GAAQ,OAAOhf,OAAO8S,UAAUC,eAAeC,KAAKrV,EAAKqhB,EAAO,C,eCKtG,IAAIC,EAAkB,CACrB,IAAK,GAaN1B,EAAoBQ,EAAEM,EAAI,SAASa,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4BC,GAC/D,IAKI7B,EAAU0B,EALVlB,EAAWqB,EAAK,GAChBC,EAAcD,EAAK,GACnBE,EAAUF,EAAK,GAGIriB,EAAI,EAC3B,GAAGghB,EAASwB,MAAK,SAAS9f,GAAM,OAA+B,IAAxBuf,EAAgBvf,EAAW,IAAI,CACrE,IAAI8d,KAAY8B,EACZ/B,EAAoBiB,EAAEc,EAAa9B,KACrCD,EAAoBM,EAAEL,GAAY8B,EAAY9B,IAGhD,GAAG+B,EAAS,IAAI3O,EAAS2O,EAAQhC,EAClC,CAEA,IADG6B,GAA4BA,EAA2BC,GACrDriB,EAAIghB,EAAStc,OAAQ1E,IACzBkiB,EAAUlB,EAAShhB,GAChBugB,EAAoBiB,EAAES,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAO3B,EAAoBQ,EAAEnN,EAC9B,EAEI6O,EAAqBC,KAAK,yCAA2CA,KAAK,0CAA4C,GAC1HD,EAAmBvf,QAAQif,EAAqBQ,KAAK,KAAM,IAC3DF,EAAmB9e,KAAOwe,EAAqBQ,KAAK,KAAMF,EAAmB9e,KAAKgf,KAAKF,G,IC/CvF,IAAIG,EAAsBrC,EAAoBQ,OAAEvU,EAAW,CAAC,MAAM,WAAa,OAAO+T,EAAoB,KAAO,IACjHqC,EAAsBrC,EAAoBQ,EAAE6B,E","sources":["webpack://gogoend-node-link-builder/./src/App.vue?f947","webpack://gogoend-node-link-builder/./src/utils/uuid.ts","webpack://gogoend-node-link-builder/./src/utils/type-check.ts","webpack://gogoend-node-link-builder/./src/utils/storage.ts","webpack://gogoend-node-link-builder/./src/store/canvasStuff.ts","webpack://gogoend-node-link-builder/./src/store/draggingNode.ts","webpack://gogoend-node-link-builder/./src/store/focusState.ts","webpack://gogoend-node-link-builder/./src/store/vmStore.ts","webpack://gogoend-node-link-builder/./src/store/index.ts","webpack://gogoend-node-link-builder/./src/views/AppMain/index.vue?6475","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/index.vue?0662","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/index.vue?dcfd","webpack://gogoend-node-link-builder/./src/utils/mouse-event-helper.ts","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/fe-definition-config.ts","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/type.ts","webpack://gogoend-node-link-builder/./src/utils/index.ts","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/NormalNode.vue?9b6c","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/hooks/useIoNode.ts","webpack://gogoend-node-link-builder/./src/config/ui.ts","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/NormalNode.vue?74b1","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/NormalNode.vue","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/MergeNode.vue?bc35","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/MergeNode.vue?1407","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/MergeNode.vue","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/SourceNode.vue?ae84","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/SourceNode.vue?66be","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/SourceNode.vue","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/StringLiteralNode.vue?dcc4","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/StringLiteralNode.vue?8e32","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/StringLiteralNode.vue","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/MatrixInFeColorMatrixNode.vue?0a32","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/MatrixInFeColorMatrixNode.vue?9015","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/MatrixInFeColorMatrixNode.vue","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/ComponentTransferRootNode.vue?ecbe","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/ComponentTransferRootNode.vue?f1fc","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/ComponentTransferRootNode.vue","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/ComponentTransferChildNode.vue?7209","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/ComponentTransferChildNode.vue?920b","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/ComponentTransferChildNode.vue","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/index.vue?1d33","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/index.vue","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoPath/index.vue?01d4","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoPath/index.vue?1d7f","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/components/IoPath/index.vue","webpack://gogoend-node-link-builder/./src/utils/link-validator.ts","webpack://gogoend-node-link-builder/./src/api/graph/index.ts","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/hooks/useLayoutCache.ts","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/index.vue?b987","webpack://gogoend-node-link-builder/./src/views/AppMain/components/SvgCanvas/index.vue","webpack://gogoend-node-link-builder/./src/views/AppMain/components/NodeLibraryPanel/index.vue?f43f","webpack://gogoend-node-link-builder/./src/views/AppMain/components/NodeLibraryPanel/index.vue?42a7","webpack://gogoend-node-link-builder/./src/views/AppMain/components/NodeLibraryPanel/index.vue","webpack://gogoend-node-link-builder/./src/views/AppMain/components/StuffConfigPanel/index.vue?d3de","webpack://gogoend-node-link-builder/./src/views/AppMain/components/StuffConfigPanel/components/FormItem.vue?5bdb","webpack://gogoend-node-link-builder/./src/views/AppMain/components/StuffConfigPanel/components/FormItem.vue","webpack://gogoend-node-link-builder/./src/views/AppMain/components/StuffConfigPanel/index.vue?0011","webpack://gogoend-node-link-builder/./src/views/AppMain/components/StuffConfigPanel/index.vue","webpack://gogoend-node-link-builder/./src/views/AppMain/components/OutputPreviewPanel/index.vue?6e76","webpack://gogoend-node-link-builder/./src/views/AppMain/components/OutputPreviewPanel/components/FilterDef.vue?3584","webpack://gogoend-node-link-builder/./src/views/AppMain/components/OutputPreviewPanel/components/FilterDef.vue?af7e","webpack://gogoend-node-link-builder/./src/views/AppMain/components/OutputPreviewPanel/components/FilterDef.vue","webpack://gogoend-node-link-builder/./src/views/AppMain/components/OutputPreviewPanel/index.vue?0b35","webpack://gogoend-node-link-builder/./src/views/AppMain/components/OutputPreviewPanel/index.vue","webpack://gogoend-node-link-builder/./src/views/AppMain/components/TopMenuBar.vue?4bbc","webpack://gogoend-node-link-builder/./src/views/AppMain/components/TopMenuBar.vue","webpack://gogoend-node-link-builder/./src/views/AppMain/index.vue?a1a3","webpack://gogoend-node-link-builder/./src/views/AppMain/index.vue","webpack://gogoend-node-link-builder/./src/App.vue?847a","webpack://gogoend-node-link-builder/./src/App.vue","webpack://gogoend-node-link-builder/./src/main.ts","webpack://gogoend-node-link-builder/webpack/bootstrap","webpack://gogoend-node-link-builder/webpack/runtime/chunk loaded","webpack://gogoend-node-link-builder/webpack/runtime/define property getters","webpack://gogoend-node-link-builder/webpack/runtime/global","webpack://gogoend-node-link-builder/webpack/runtime/hasOwnProperty shorthand","webpack://gogoend-node-link-builder/webpack/runtime/jsonp chunk loading","webpack://gogoend-node-link-builder/webpack/startup"],"sourcesContent":["import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_app_main = _resolveComponent(\"app-main\")!\n\n  return (_openBlock(), _createBlock(_component_app_main))\n}","const _lut: string[] = []\nfor (let i = 0; i < 256; i++) {\n  _lut[i] = (i < 16 ? '0' : '') + i.toString(16)\n}\nexport function uuid(): string {\n  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n  const d0 = Math.random() * 0xffffffff | 0\n  const d1 = Math.random() * 0xffffffff | 0\n  const d2 = Math.random() * 0xffffffff | 0\n  const d3 = Math.random() * 0xffffffff | 0\n  const uuid = _lut[d0 & 0xff] + _lut[d0 >> 8 & 0xff] + _lut[d0 >> 16 & 0xff] + _lut[d0 >> 24 & 0xff] + '-' + _lut[d1 & 0xff] + _lut[d1 >> 8 & 0xff] + '-' + _lut[d1 >> 16 & 0x0f | 0x40] + _lut[d1 >> 24 & 0xff] + '-' + _lut[d2 & 0x3f | 0x80] + _lut[d2 >> 8 & 0xff] + '-' + _lut[d2 >> 16 & 0xff] + _lut[d2 >> 24 & 0xff] + _lut[d3 & 0xff] + _lut[d3 >> 8 & 0xff] + _lut[d3 >> 16 & 0xff] + _lut[d3 >> 24 & 0xff] // .toUpperCase() here flattens concatenated strings to save heap memory space.\n\n  return uuid.toUpperCase()\n}\n","/**\n * Quick object check - this is primarily used to tell\n * Objects from primitive values when we know the value\n * is a JSON-compliant type.\n */\nexport function isObject(obj: unknown) {\n  return obj !== null && typeof obj === 'object'\n}\n\n/**\n * Strict object type check. Only returns true\n * for plain JavaScript objects.\n */\nexport function isPlainObject(obj: any): obj is Record<string, any> {\n  return Object.prototype.toString.call(obj) === '[object Object]'\n}\n","import { isObject } from './type-check'\n\ntype StorageType = 'localStorage' | 'sessionStorage'\n\nconst set = (storageName: StorageType, key:string, value: any) => {\n  if (isObject(value)) {\n    try {\n      value = JSON.stringify(value)\n    } catch {\n      void 0\n    }\n  }\n  window[storageName].setItem(key, value)\n}\n\nconst get = <T>(storageName: StorageType, key:string) => {\n  let value = window[storageName].getItem(key) as any\n  if (value) {\n    try {\n      value = JSON.parse(value)\n    } catch {\n      void 0\n    }\n  }\n  return value as T\n}\n\nconst remove = (storageName: StorageType, key:string) => {\n  window[storageName].removeItem(key)\n}\n\nexport const getLocal = <T = any>(key: string) => get<T>('localStorage', key)\nexport const setLocal = (key: string, value: any) => set('localStorage', key, value)\nexport const removeLocal = (key: string) => remove('localStorage', key)\n\nexport const getSession = <T = any>(key: string) => get<T>('sessionStorage', key)\nexport const setSession = (key: string, value: any) => set('sessionStorage', key, value)\nexport const removeSession = (key: string) => remove('sessionStorage', key)\n","import { NodeInStore } from '@/schema/IoNode'\nimport { Path } from '@/views/AppMain/components/SvgCanvas/type'\nimport { Ref, ref, InjectionKey, provide, unref, computed } from 'vue'\nimport IoNode from '@/views/AppMain/components/SvgCanvas/components/IoNode/index.vue'\n\nimport packageInfo from '../../package.json'\nimport { uuid } from '../utils/uuid'\nimport { setLocal } from '@/utils/storage'\n\nexport const ALL_NODES_ON_CANVAS_SYMBOL: InjectionKey<Ref<Record<NodeInStore['id'], NodeInStore>>> = Symbol('Canvas上的所有节点')\nexport const ADD_NODES_SYMBOL: InjectionKey<(node: NodeInStore) => void> = Symbol('添加节点函数')\nexport const REMOVE_NODES_SYMBOL: InjectionKey<(nodeId: string) => void> = Symbol('移除节点函数')\n\nexport const ALL_LINKED_PATH_ON_CANVAS_SYMBOL: InjectionKey<Ref<Path[]>> = Symbol('Canvas上的所有连线')\n\nexport const RELATIVE_PATH_MAP_INDEXED_BY_NODE_ID_SYMBOL: InjectionKey<Ref<Record<string, any>>> = Symbol('节点对应所有出、入连线的映射关系')\nexport const REMOVE_PATH_SYMBOL: InjectionKey<(pathId: string) => void> = Symbol('删除连线函数')\nexport const ADD_PATH_SYMBOL: InjectionKey<(path: Path) => void> = Symbol('添加连线函数')\n\nexport const ADD_RELATION_IN_MAP_INDEXED_BY_NODE_ID_SYMBOL: InjectionKey<(\n  linkedPath: any,\n  fromPort: any,\n  toPort: any\n) => void> = Symbol('向 节点id->出、入连线 的映射中添加连线关系')\n\nexport const NODE_REF_MAP_SYMBOL: InjectionKey<Ref<Record<string, InstanceType<typeof IoNode>>>> = Symbol('Node组件映射')\n\nexport const SAVE_FILTER_SYMBOL: InjectionKey<() => void> = Symbol('保存滤镜函数')\n\nexport default function canvasStuff() {\n  const nodes = ref<Record<NodeInStore['id'], NodeInStore>>({})\n  provide(ALL_NODES_ON_CANVAS_SYMBOL, nodes)\n\n  const addNode = (node: NodeInStore) => {\n    nodes.value[node.id] = node\n  }\n  provide(ADD_NODES_SYMBOL, addNode)\n\n  const removeNode = (nodeId: string) => {\n    delete nodes.value[nodeId]\n  }\n  provide(REMOVE_NODES_SYMBOL, removeNode)\n\n  const nodeRefMap = ref<Record<string, InstanceType<typeof IoNode>>>({})\n  provide(NODE_REF_MAP_SYMBOL, nodeRefMap)\n\n  const nodeFormValueMap = computed(() => {\n    const nodeFormValueMap: Record<string, Record<string, string>> = {}\n\n    Object.entries(nodeRefMap.value).forEach(\n      ([nodeId, nodeRef]) => {\n        nodeFormValueMap[nodeId] = nodeRef.nodeConfigRef.feAttrValue as Record<number| string, string>\n      }\n    )\n\n    return nodeFormValueMap\n  })\n\n  const linkedPathsForSerialize = ref<Record<string, any>>({})\n  provide('tempLinkedPathsForSerialize', linkedPathsForSerialize)\n\n  const linkedPaths = ref<Path[]>([])\n  provide(ALL_LINKED_PATH_ON_CANVAS_SYMBOL, linkedPaths)\n\n  const relativePathMapIndexedByNodeId = ref<Record<string, any>>({})\n  provide(RELATIVE_PATH_MAP_INDEXED_BY_NODE_ID_SYMBOL, relativePathMapIndexedByNodeId)\n\n  const addPath = (path: Path) => {\n    linkedPaths.value.push(path)\n    linkedPathsForSerialize.value[path.id] = {\n      id: path.id,\n      from: {\n        vmId: path.from.vm.nodeId,\n        attr: path.from.attr\n      },\n      to: {\n        vmId: path.to.vm.nodeId,\n        attr: path.to.attr\n      }\n    }\n  }\n  provide(ADD_PATH_SYMBOL, addPath)\n\n  const removePath = (pathId: string) => {\n    const targetIndex = linkedPaths.value.findIndex(path => path.id === pathId)\n    const [targetPath] = linkedPaths.value.splice(targetIndex, 1)\n\n    delete linkedPathsForSerialize.value[pathId]\n\n    Object.values(relativePathMapIndexedByNodeId.value).forEach(\n      it => {\n        for (let i = 0; i < it.in.length;) {\n          if (it.in[i].id === pathId) {\n            it.in.splice(i, 1)\n            continue\n          }\n          i++\n        }\n        for (let i = 0; i < it.out.length;) {\n          if (it.out[i].id === pathId) {\n            it.out.splice(i, 1)\n            continue\n          }\n          i++\n        }\n      }\n    )\n    targetPath.to.vm.afterPathRemoved?.(targetPath)\n  }\n  provide(REMOVE_PATH_SYMBOL, removePath)\n\n  const addRelationInMapIndexedByNodeId = (\n    linkedPath: any,\n    fromPort: any,\n    toPort: any\n  ) => {\n    if (!relativePathMapIndexedByNodeId.value[unref(fromPort)!.vm.nodeId]) {\n      relativePathMapIndexedByNodeId.value[unref(fromPort)!.vm.nodeId] = {\n        in: [],\n        out: []\n      }\n    }\n    relativePathMapIndexedByNodeId.value[unref(fromPort)!.vm.nodeId].out.push(linkedPath)\n\n    if (!relativePathMapIndexedByNodeId.value[unref(toPort)!.vm.nodeId]) {\n      relativePathMapIndexedByNodeId.value[unref(toPort)!.vm.nodeId] = {\n        in: [],\n        out: []\n      }\n    }\n    relativePathMapIndexedByNodeId.value[unref(toPort).vm.nodeId].in.push(linkedPath)\n  }\n  provide(ADD_RELATION_IN_MAP_INDEXED_BY_NODE_ID_SYMBOL, addRelationInMapIndexedByNodeId)\n\n  const saveFilter = () => {\n    const stuff = {\n      nodes: nodes.value,\n      nodeForms: nodeFormValueMap.value,\n      links: linkedPathsForSerialize.value\n    }\n    const product = {\n      name: packageInfo.name,\n      version: packageInfo.version\n    }\n    const document = {\n      author: 'gogoend',\n      createdTime: Number(new Date()),\n      modifiedTime: Number(new Date())\n    }\n\n    setLocal('savedGraph', {\n      uuid: uuid(),\n      stuff,\n      product,\n      document\n    })\n  }\n  provide(SAVE_FILTER_SYMBOL, saveFilter)\n}\n\n","\nimport { Ref, ref, InjectionKey, provide } from 'vue'\nimport IoNode from '@/views/AppMain/components/SvgCanvas/components/IoNode/index.vue'\n\nexport const DRAGGING_NODE_ICON_SYMBOL: InjectionKey<Ref<string | null>> = Symbol('正在拖拽的项目')\nexport const GHOST_NODE_REF_SYMBOL: InjectionKey<Ref<InstanceType<typeof IoNode> | null>> = Symbol('鬼影节点引用')\n\nexport default function draggingNode() {\n  const draggingNodeIcon = ref<string | null>(null)\n  provide(DRAGGING_NODE_ICON_SYMBOL, draggingNodeIcon)\n\n  const ghostNodeRef = ref<InstanceType<typeof IoNode> | null>(null)\n  provide(GHOST_NODE_REF_SYMBOL, ghostNodeRef)\n}\n","\nimport { Ref, ref, InjectionKey, provide } from 'vue'\nimport { OverwrittenIoNodeType } from '@/views/AppMain/components/SvgCanvas/type'\n\nexport const FOCUSING_NODE_SYMBOL: InjectionKey<\n  [Ref<OverwrittenIoNodeType | null>, (node: OverwrittenIoNodeType) => void]\n> = Symbol('被聚焦的节点')\n\nexport default function draggingNode() {\n  const focusingNode = ref<OverwrittenIoNodeType | null>(null)\n  const setFocusingNode = (node: OverwrittenIoNodeType | null) => { focusingNode.value = node }\n\n  provide(FOCUSING_NODE_SYMBOL, [\n    focusingNode,\n    setFocusingNode\n  ])\n}\n","import { InjectionKey, provide, shallowRef, ShallowRef } from 'vue'\nimport SvgCanvas from '@/views/AppMain/components/SvgCanvas/index.vue'\n\nexport const SVG_CANVAS_VM_SYMBOL: InjectionKey<ShallowRef<InstanceType<typeof SvgCanvas>>> = Symbol('SvgCanvas组件实例')\nexport const SET_SVG_CANVAS_VM_SYMBOL: InjectionKey<(vm: InstanceType<typeof SvgCanvas>) => void> = Symbol('设置SvgCanvas组件实例')\n\nexport default function vmCache() {\n  const svgCanvasVm = shallowRef<InstanceType<typeof SvgCanvas>>()\n  provide(\n    SVG_CANVAS_VM_SYMBOL,\n    svgCanvasVm\n  )\n\n  const setSvgCanvasVm = (vm: InstanceType<typeof SvgCanvas>) => {\n    svgCanvasVm.value = vm\n  }\n  provide(\n    SET_SVG_CANVAS_VM_SYMBOL,\n    setSvgCanvasVm\n  )\n}\n","import canvasStuff from './canvasStuff'\nimport draggingNode from './draggingNode'\nimport focusState from './focusState'\nimport vmStore from './vmStore'\n\nexport default function setupStore() {\n  [canvasStuff, draggingNode, focusState, vmStore].forEach(fn => fn())\n}\n","import { resolveComponent as _resolveComponent, normalizeStyle as _normalizeStyle, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-36a38600\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"app-wrap\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_top_menu_bar = _resolveComponent(\"top-menu-bar\")!\n  const _component_svg_canvas = _resolveComponent(\"svg-canvas\")!\n  const _component_node_library_panel = _resolveComponent(\"node-library-panel\")!\n  const _component_stuff_config_panel = _resolveComponent(\"stuff-config-panel\")!\n  const _component_output_preview_panel = _resolveComponent(\"output-preview-panel\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_top_menu_bar, {\n      class: \"top-menu-bar\",\n      style: _normalizeStyle({\n        height: `${_ctx.topMenuBarHeight}px`\n      })\n    }, null, 8, [\"style\"]),\n    _createElementVNode(\"div\", {\n      class: \"workbench-wrap\",\n      style: _normalizeStyle({\n        top: `${_ctx.topMenuBarHeight}px`\n      })\n    }, [\n      _createVNode(_component_svg_canvas, {\n        class: \"svg-canvas\",\n        style: _normalizeStyle({\n          left: _ctx.filterLibraryPanelWidth + 'px',\n          width: `calc(100% - ${_ctx.stuffConfigPanelWidth}px - ${_ctx.filterLibraryPanelWidth}px)`\n        }),\n        onVnodeMounted: _cache[0] || (_cache[0] = (vnode) => {\n          _ctx.setSvgCanvasVm(vnode.component.proxy)\n        })\n      }, null, 8, [\"style\"]),\n      _createVNode(_component_node_library_panel, {\n        class: \"node-library-panel\",\n        style: _normalizeStyle({\n          left: 0,\n          right: `calc(100% - ${_ctx.filterLibraryPanelWidth}px)`\n        })\n      }, null, 8, [\"style\"]),\n      _createVNode(_component_stuff_config_panel, {\n        class: \"stuff-config-panel\",\n        style: _normalizeStyle({\n          right: 0,\n          left: `calc(100% - ${_ctx.stuffConfigPanelWidth}px)`\n        })\n      }, null, 8, [\"style\"]),\n      _createVNode(_component_output_preview_panel, {\n        class: \"output-preview-panel\",\n        style: {\n          width: '640px',\n          height: '360px',\n          bottom: '0px',\n          right: '0px',\n        }\n      })\n    ], 4)\n  ]))\n}","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4117f23c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { ref: \"canvasScrollEl\" }\nconst _hoisted_2 = {\n  version: \"1.1\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"xmlns:xlink\": \"http://www.w3.org/1999/xlink\",\n  x: \"0px\",\n  y: \"0px\",\n  viewBox: \"0 0 4000 4000\",\n  \"xml:space\": \"preserve\",\n  class: \"svg-canvas-board\"\n}\nconst _hoisted_3 = { class: \"ghost\" }\nconst _hoisted_4 = [\"d\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_io_node = _resolveComponent(\"io-node\")!\n  const _component_io_path = _resolveComponent(\"io-path\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(), _createElementBlock(\"svg\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.nodes, (node) => {\n        return (_openBlock(), _createBlock(_component_io_node, {\n          ref_for: true,\n          ref: _ctx.setNodeRefMap,\n          key: node.id,\n          is: node.is,\n          \"node-id\": node.id,\n          onPortStart: _ctx.handlePortStart,\n          onPortMove: _ctx.handlePortMove,\n          onPortConnect: _ctx.handlePortConnect,\n          onPortCancel: _ctx.handlePortCancel,\n          onDestinationChange: _ctx.handleDestinationChange,\n          \"relative-paths\": \n          _ctx.relativePathMapIndexedByNodeId[node.id] ?? _ctx.defaultRelativePath\n        ,\n          onNodeMove: _ctx.handleNodeMove,\n          position: node.position,\n          \"onUpdate:position\": ($event: any) => ((node.position) = $event)\n        }, null, 8, [\"is\", \"node-id\", \"onPortStart\", \"onPortMove\", \"onPortConnect\", \"onPortCancel\", \"onDestinationChange\", \"relative-paths\", \"onNodeMove\", \"position\", \"onUpdate:position\"]))\n      }), 128)),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.linkedPaths, (path) => {\n        return (_openBlock(), _createBlock(_component_io_path, {\n          key: path.id,\n          \"path-id\": path.id,\n          \"path-d-arguments\": path.pathDArguments,\n          from: path.from,\n          to: path.to,\n          onRemove: _ctx.removePath\n        }, null, 8, [\"path-id\", \"path-d-arguments\", \"from\", \"to\", \"onRemove\"]))\n      }), 128)),\n      _createElementVNode(\"g\", _hoisted_3, [\n        _createElementVNode(\"path\", {\n          class: \"ghost-path\",\n          d: _ctx.ghostPathD\n        }, null, 8, _hoisted_4),\n        (_ctx.ghostNodeType)\n          ? (_openBlock(), _createBlock(_component_io_node, {\n              key: 0,\n              ref: \"ghostNodeRef\",\n              style: {\"opacity\":\"0.5\"},\n              is: _ctx.ghostNodeType,\n              nodeId: \"0\",\n              position: _ctx.ghostNodePosition,\n              \"onUpdate:position\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.ghostNodePosition) = $event)),\n              relativePaths: _ctx.defaultRelativePath\n            }, null, 8, [\"is\", \"position\", \"relativePaths\"]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ]))\n  ], 512))\n}","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createBlock as _createBlock, withModifiers as _withModifiers, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-44b0b32d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"transform\"]\nconst _hoisted_2 = { class: \"io-node__inner\" }\nconst _hoisted_3 = [\"src\"]\nconst _hoisted_4 = { class: \"io-node__head\" }\nconst _hoisted_5 = {\n  transform: \"matrix(1 0 0 1 0 8)\",\n  class: \"fill-fff module-name\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_normal_node = _resolveComponent(\"normal-node\")!\n  const _component_merge_node = _resolveComponent(\"merge-node\")!\n  const _component_source_node = _resolveComponent(\"source-node\")!\n  const _component_string_literal_node = _resolveComponent(\"string-literal-node\")!\n  const _component_matrix_in_fe_color_matrix_node = _resolveComponent(\"matrix-in-fe-color-matrix-node\")!\n  const _component_component_transfer_root_node = _resolveComponent(\"component-transfer-root-node\")!\n  const _component_component_transfer_child_node = _resolveComponent(\"component-transfer-child-node\")!\n\n  return (_openBlock(), _createElementBlock(\"g\", {\n    class: _normalizeClass([\"io-node\", {\n      'io-node--focused': _ctx.isFocused\n    }]),\n    onMousedown: _cache[2] || (_cache[2] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.handleNodeMousedown && _ctx.handleNodeMousedown(...args)), [\"stop\"])),\n    transform: `translate(${_ctx.position[0]}, ${_ctx.position[1]})`,\n    ref: \"ioNodeEl\"\n  }, [\n    (_openBlock(), _createElementBlock(\"foreignObject\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: \"io-node__body\",\n        xmlns: \"http://www.w3.org/1999/xhtml\",\n        onClick: _cache[1] || (_cache[1] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.handleNodeBodyClick && _ctx.handleNodeBodyClick(...args)), [\"exact\",\"stop\"]))\n      }, [\n        false\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 0,\n              class: \"io-node__filter-thumb\",\n              src: _ctx.filterThumbUrl\n            }, null, 8, _hoisted_3))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"em\", {\n            class: \"port out\",\n            \"data-port-type\": \"out\",\n            style: _normalizeStyle({\n              width: `${2 * _ctx.POINT_R}px`,\n              height: `${ 2 * _ctx.POINT_R }px`,\n              borderWidth: `${ _ctx.POINT_BORDER_W }px`\n            }),\n            \"data-fe-attr\": \"result\",\n            ref: _ctx.setFeAttrEls,\n            onMouseenter: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handlePortMouseenter && _ctx.handlePortMouseenter(...args)))\n          }, null, 36),\n          _createElementVNode(\"span\", _hoisted_5, _toDisplayString(_ctx.is), 1)\n        ]),\n        (['normal', undefined].includes(_ctx.fe[_ctx.is].type))\n          ? (_openBlock(), _createBlock(_component_normal_node, {\n              key: 1,\n              is: _ctx.is,\n              \"node-id\": _ctx.nodeId,\n              relativePaths: _ctx.relativePaths,\n              ref: \"nodeConfigRef\"\n            }, null, 8, [\"is\", \"node-id\", \"relativePaths\"]))\n          : (['merge'].includes(_ctx.fe[_ctx.is].type))\n            ? (_openBlock(), _createBlock(_component_merge_node, {\n                key: 2,\n                is: _ctx.is,\n                \"node-id\": _ctx.nodeId,\n                relativePaths: _ctx.relativePaths,\n                ref: \"nodeConfigRef\"\n              }, null, 8, [\"is\", \"node-id\", \"relativePaths\"]))\n            : (['source'].includes(_ctx.fe[_ctx.is].type))\n              ? (_openBlock(), _createBlock(_component_source_node, {\n                  key: 3,\n                  is: _ctx.is,\n                  \"node-id\": _ctx.nodeId,\n                  relativePaths: _ctx.relativePaths,\n                  ref: \"nodeConfigRef\"\n                }, null, 8, [\"is\", \"node-id\", \"relativePaths\"]))\n              : (['string-literal'].includes(_ctx.fe[_ctx.is].type))\n                ? (_openBlock(), _createBlock(_component_string_literal_node, {\n                    key: 4,\n                    is: _ctx.is,\n                    \"node-id\": _ctx.nodeId,\n                    relativePaths: _ctx.relativePaths,\n                    ref: \"nodeConfigRef\"\n                  }, null, 8, [\"is\", \"node-id\", \"relativePaths\"]))\n                : (['matrix-in-fe-color-matrix'].includes(_ctx.fe[_ctx.is].type))\n                  ? (_openBlock(), _createBlock(_component_matrix_in_fe_color_matrix_node, {\n                      key: 5,\n                      is: _ctx.is,\n                      \"node-id\": _ctx.nodeId,\n                      relativePaths: _ctx.relativePaths,\n                      ref: \"nodeConfigRef\"\n                    }, null, 8, [\"is\", \"node-id\", \"relativePaths\"]))\n                  : (['component-transfer-root'].includes(_ctx.fe[_ctx.is].type))\n                    ? (_openBlock(), _createBlock(_component_component_transfer_root_node, {\n                        key: 6,\n                        is: _ctx.is,\n                        \"node-id\": _ctx.nodeId,\n                        relativePaths: _ctx.relativePaths,\n                        ref: \"nodeConfigRef\"\n                      }, null, 8, [\"is\", \"node-id\", \"relativePaths\"]))\n                    : (['component-transfer-child'].includes(_ctx.fe[_ctx.is].type))\n                      ? (_openBlock(), _createBlock(_component_component_transfer_child_node, {\n                          key: 7,\n                          is: _ctx.is,\n                          \"node-id\": _ctx.nodeId,\n                          relativePaths: _ctx.relativePaths,\n                          ref: \"nodeConfigRef\"\n                        }, null, 8, [\"is\", \"node-id\", \"relativePaths\"]))\n                      : _createCommentVNode(\"\", true)\n      ])\n    ]))\n  ], 42, _hoisted_1))\n}","import type { MouseEventHelper } from './type'\n\nconst mouseEventHelper = function(ev: MouseEvent, handlers?: MouseEventHelper.Handlers): void {\n  const start = handlers?.start || (() => void 0)\n  // const moveInner = handlers.moveInner || (() => void 0)\n  // const moveOuter = handlers.moveOuter || (() => void 0)\n  const move = handlers?.move || (() => void 0)\n  const up = handlers?.up || (() => void 0)\n\n  const originEl = ev.target as HTMLElement\n\n  start(ev, { originEl })\n  const handleTargetTouchEvent = (ev: MouseEvent) => {\n    switch (ev.type) {\n      case 'mousemove': {\n        // const touch = ev // .changedTouches[0]\n        // const touchingEl = document.elementFromPoint(touch.pageX, touch.pageY - document.documentElement.scrollTop)\n        // if (touchingEl === startEl) {\n        //   moveInner.call(_this, ev)\n        // } else {\n        //   moveOuter.call(_this, ev)\n        // }\n        move(ev, {\n          originEl\n        })\n        break\n      }\n      case 'mouseup': {\n        document.removeEventListener('mousemove', handleTargetTouchEvent)\n        document.removeEventListener('mouseup', handleTargetTouchEvent)\n        up(ev, {\n          originEl\n        })\n        break\n      }\n    }\n  }\n  document.addEventListener('mousemove', handleTargetTouchEvent)\n  document.addEventListener('mouseup', handleTargetTouchEvent)\n}\n\nexport default mouseEventHelper\n","import { SVGFilterConfig } from './type'\n\nexport const SourceGraphic: SVGFilterConfig.Node = {\n  type: 'source',\n  ports: {}\n}\n\nexport const SourceAlpha: SVGFilterConfig.Node = {\n  type: 'source',\n  ports: {}\n}\n\nexport const feConvolveMatrix: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    kernelMatrix: {\n      defaultValue: '0 1 0, 1 1 1, 0 1 0'\n    },\n    order: {\n      defaultValue: '3, 3'\n    },\n    divisor: {\n      type: 'number',\n      defaultValue: 1\n    },\n    bias: {\n      type: 'number',\n      range: [0, 1],\n      defaultValue: 0\n    },\n    targetX: {\n      type: 'number',\n      defaultValue: 0\n    },\n    targetY: {\n      type: 'number',\n      defaultValue: 0\n    },\n    edgeMode: {\n      type: 'text',\n      defaultValue: 'duplicate',\n      enum: ['duplicate', 'wrap', 'none']\n    },\n    kernelUnitLength: {\n      type: 'number',\n      defaultValue: 2\n    },\n    preserveAlpha: {\n      type: 'text',\n      defaultValue: 'true',\n      enum: ['true', 'false']\n    }\n  }\n}\n\nexport const feTurbulence: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    type: {\n      type: 'text',\n      defaultValue: 'fractalNoise',\n      enum: [\n        {\n          label: 'fractalNoise',\n          value: 'fractalNoise'\n        }, {\n          label: 'turbulence',\n          value: 'turbulence'\n        }\n      ]\n    },\n    baseFrequency: {\n      type: 'number',\n      defaultValue: 0.05\n    },\n    numOctaves: {\n      type: 'number',\n      defaultValue: 0,\n      range: [0, 100]\n    },\n    stitchTiles: {\n      defaultValue: 'stitch',\n      enum: ['stitch', 'noStitch']\n    },\n    seed: {\n      type: 'number',\n      defaultValue: 0.05\n    }\n  }\n}\n\nexport const feDropShadow: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    dx: {\n      type: 'number'\n    },\n    dy: {\n      type: 'number'\n    },\n    stdDeviation: {\n      type: 'number'\n    },\n    seed: {},\n    'flood-color': {},\n    'flood-opacity': {}\n  }\n}\n\nexport const feMerge: SVGFilterConfig.Node = {\n  type: 'merge',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    }\n  }\n}\n\nexport const feOffset: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    dx: {\n      type: 'number'\n    },\n    dy: {\n      type: 'number'\n    }\n  }\n}\n\nexport const feColorMatrixUsingMatrix: SVGFilterConfig.Node = {\n  type: 'normal',\n  tag: 'feColorMatrix',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    type: {\n      showInConfigPanel: false,\n      showOnNode: false,\n      defaultValue: 'matrix'\n    },\n    values: {\n      defaultValue: [\n        1, 0, 0, 0, 0,\n        0, 1, 0, 0, 0,\n        0, 0, 1, 0, 0,\n        0, 0, 0, 1, 0\n      ].join(' ')\n    }\n  }\n}\nexport const matrixInFeColorMatrix: SVGFilterConfig.Node = {\n  type: 'matrix-in-fe-color-matrix',\n  ports: {}\n}\n\nexport const feColorMatrixUsingSaturate: SVGFilterConfig.Node = {\n  tag: 'feColorMatrix',\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    type: {\n      showInConfigPanel: false,\n      showOnNode: false,\n      defaultValue: 'saturate'\n    },\n    values: {\n      defaultValue: '1'\n    }\n  }\n}\nexport const feColorMatrixUsingHueRotate: SVGFilterConfig.Node = {\n  tag: 'feColorMatrix',\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    type: {\n      showInConfigPanel: false,\n      showOnNode: false,\n      defaultValue: 'hueRotate'\n    },\n    values: {\n      defaultValue: '0'\n    }\n  }\n}\nexport const feColorMatrixUsingLuminanceToAlpha: SVGFilterConfig.Node = {\n  tag: 'feColorMatrix',\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    type: {\n      showInConfigPanel: false,\n      showOnNode: false,\n      defaultValue: 'luminanceToAlpha'\n    },\n    values: {\n    }\n  }\n}\n\nexport const feTile: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    }\n  }\n}\n\nexport const feDisplacementMap: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    in2: {\n      showInConfigPanel: false\n    },\n    scale: {},\n    xChannelSelector: {},\n    yChannelSelector: {}\n  }\n}\n\nexport const feImage: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    href: {}\n  }\n}\n\nexport const feBlend: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    in2: {\n      showInConfigPanel: false\n    },\n    mode: {\n      defaultValue: 'normal',\n      enum: [\n        'normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion',\n        'hue', 'saturation', 'color', 'luminosity'\n      ]\n    }\n  }\n}\n\nexport const feCompositeWithoutK: SVGFilterConfig.NormalNode = {\n  type: 'normal',\n  tag: 'feComposite',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    in2: {\n      showInConfigPanel: false\n    },\n    operator: {\n      enum: [\n        'over', 'in', 'out', 'atop', 'xor', 'lighter'\n      ]\n    }\n  }\n}\n\nexport const feCompositeWithK: SVGFilterConfig.NormalNode = {\n  type: 'normal',\n  tag: 'feComposite',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    in2: {\n      showInConfigPanel: false\n    },\n    operator: {\n      showInConfigPanel: false,\n      showOnNode: false,\n      defaultValue: 'arithmetic'\n    },\n    k1: {\n      type: 'number',\n      defaultValue: 0.5\n    },\n    k2: {\n      type: 'number',\n      defaultValue: 0.5\n    },\n    k3: {\n      type: 'number',\n      defaultValue: 0.5\n    },\n    k4: {\n      type: 'number',\n      defaultValue: 0.5\n    }\n  }\n}\n\nexport const feFlood: SVGFilterConfig.NormalNode = {\n  type: 'normal',\n  ports: {\n    'flood-color': {\n    },\n    'flood-opacity': {\n      type: 'number'\n    }\n  }\n}\n\nexport const feGaussianBlur: SVGFilterConfig.NormalNode = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    stdDeviation: {\n      type: 'number'\n    },\n    edgeMode: {\n      type: 'text',\n      enum: [\n        'duplicate',\n        'wrap',\n        'none'\n      ],\n      defaultValue: 'none'\n    }\n  }\n}\n\nexport const feMorphology: SVGFilterConfig.NormalNode = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    operator: {\n      enum: [\n        'erode',\n        'dilate'\n      ],\n      defaultValue: 'erode'\n    },\n    radius: {\n      type: 'number',\n      defaultValue: 2\n    }\n  }\n}\n\nexport const feComponentTransfer: SVGFilterConfig.ComponentTransferRootNode = {\n  type: 'component-transfer-root',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    R: {\n      showInConfigPanel: false\n    },\n    G: {\n      showInConfigPanel: false\n    },\n    B: {\n      showInConfigPanel: false\n    },\n    A: {\n      showInConfigPanel: false\n    }\n  }\n}\n\nexport const feFuncXUsingIdentity: SVGFilterConfig.ComponentTransferChildNode = {\n  type: 'component-transfer-child',\n  ports: {\n    type: {\n      defaultValue: 'identity',\n      showInConfigPanel: false,\n      showOnNode: false\n    }\n  }\n}\n\nexport const feFuncXUsingTable: SVGFilterConfig.ComponentTransferChildNode = {\n  type: 'component-transfer-child',\n  ports: {\n    type: {\n      defaultValue: 'table',\n      showInConfigPanel: false,\n      showOnNode: false\n    },\n    tableValues: {\n      defaultValue: '1 1 1 1'\n    }\n  }\n}\n\nexport const feFuncXUsingLinearOrDiscrete: SVGFilterConfig.ComponentTransferChildNode = {\n  type: 'component-transfer-child',\n  ports: {\n    type: {\n      defaultValue: 'linear',\n      enum: [\n        'linear',\n        'discrete'\n      ]\n    },\n    slope: {\n      type: 'number',\n      defaultValue: 1\n    },\n    intercept: {\n      type: 'number',\n      defaultValue: 0\n    }\n  }\n}\n\nexport const feFuncXUsingGamma: SVGFilterConfig.ComponentTransferChildNode = {\n  type: 'component-transfer-child',\n  ports: {\n    type: {\n      defaultValue: 'gamma',\n      showInConfigPanel: false,\n      showOnNode: false\n    },\n    amplitude: {\n      type: 'number',\n      defaultValue: 1\n    },\n    exponent: {\n      type: 'number',\n      defaultValue: 0\n    },\n    offset: {\n      type: 'number',\n      defaultValue: 0\n    }\n  }\n}\n\nexport const StringLiteral: SVGFilterConfig.Node = {\n  type: 'string-literal',\n  ports: {\n    value: {\n      type: 'text'\n    }\n  }\n}\n\nexport default {\n  SourceGraphic,\n  SourceAlpha,\n  feConvolveMatrix,\n  feTurbulence,\n  feDropShadow,\n  feMerge,\n  feOffset,\n  feColorMatrixUsingMatrix,\n  matrixInFeColorMatrix,\n  feColorMatrixUsingSaturate,\n  feColorMatrixUsingHueRotate,\n  feColorMatrixUsingLuminanceToAlpha,\n  feTile,\n  feDisplacementMap,\n  feImage,\n  feBlend,\n  feCompositeWithoutK,\n  feCompositeWithK,\n  feFlood,\n  feGaussianBlur,\n  feMorphology,\n\n  feComponentTransfer,\n  feFuncXUsingIdentity,\n  feFuncXUsingTable,\n  feFuncXUsingLinearOrDiscrete,\n  feFuncXUsingGamma,\n\n  StringLiteral\n}\n","import { Dictionary } from '@/utils/type'\n\nexport interface Port<T extends OverwrittenIoNodeType = OverwrittenIoNodeType> {\n  vm: T;\n  attr: string;\n  el: SVGCircleElement | null;\n}\n\nexport interface Path {\n  pathDArguments: number[],\n  id: string,\n  from: Port<OverwrittenIoNodeType>,\n  to: Port<OverwrittenIoNodeType>\n}\n\nexport interface Node {\n  is: string;\n  id: string;\n  position: [number, number]\n}\n\nexport interface RelativePathForNode {\n  in: Path[],\n  out: Path[]\n}\n\nimport { VNode, ComponentPublicInstance, ShallowRef, InjectionKey } from 'vue'\nimport fe from './components/IoNode/fe-definition-config'\nimport NormalNode from './components/IoNode/components/NormalNode.vue'\nimport MergeNode from './components/IoNode/components/MergeNode.vue'\nexport interface OverwrittenIoNodeType extends ComponentPublicInstance {\n  orderedAllDescendants: OverwrittenIoNodeType[];\n  nodeConfigRef: InstanceType<typeof NormalNode> | InstanceType<typeof MergeNode>\n  nodeId: string,\n  relativePaths: RelativePathForNode,\n  mergedFeAttrValue: Dictionary<string | number>,\n  getVNodeFragment: (item: OverwrittenIoNodeType, index?: number) => VNode,\n  is: keyof typeof fe,\n  afterPathConnected?: () => void\n  afterPathRemoved?: (targetPath: Path) => void\n}\n\nexport const SVG_CANVAS_RECT_SYMBOL: InjectionKey<ShallowRef<DOMRectReadOnly>> = Symbol('SvgCanvas组件的范围')\n","import { OverwrittenIoNodeType, Path } from '@/views/AppMain/components/SvgCanvas/type'\nimport { VNode } from 'vue'\nimport { Dictionary } from './type'\n\nexport function getPortElType(el: SVGCircleElement) {\n  return el.dataset.portType\n}\n\nexport function isPortEl(el: HTMLElement) {\n  return ['in', 'out'].includes(el.dataset.portType as string)\n}\n\nexport function vnode2dom(vnode: VNode): HTMLElement {\n  const {\n    props, type: tag\n  }: {\n    props: Dictionary<any> | null,\n    type: any\n  } = vnode\n\n  let children: any = vnode.children\n\n  const rootEl = document.createElementNS('http://www.w3.org/2000/svg', tag)\n  props && Object.keys(props).forEach(key => {\n    ['number', 'string'].includes(typeof props?.[key]) && String(props?.[key]).length && rootEl.setAttribute(key, props?.[key])\n  })\n\n  if (typeof children === 'object' && children !== null) {\n    if (!Array.isArray(children)) {\n      children = [children]\n    }\n  } else {\n    children = []\n  }\n\n  (children || []).forEach((child: VNode) => {\n    rootEl.append(vnode2dom(child))\n  })\n  return rootEl\n}\n\nexport const getTopoOrder = (paths: Path[]): OverwrittenIoNodeType[] => {\n  const inDegree: Map<OverwrittenIoNodeType, number> = new Map()\n  const graph: Map<OverwrittenIoNodeType, OverwrittenIoNodeType[]> = new Map()\n\n  paths.forEach(path => {\n    const [fromVm, toVm] = [path.from.vm, path.to.vm]\n\n    if (!inDegree.has(fromVm)) {\n      inDegree.set(fromVm, 0)\n      graph.set(fromVm, [])\n    }\n    if (!inDegree.has(toVm)) {\n      inDegree.set(toVm, 0)\n      graph.set(toVm, [])\n    }\n    inDegree.set(toVm, (inDegree.get(toVm) as number) + 1)\n    graph.get(fromVm)!.push(toVm)\n  })\n\n  const queue: OverwrittenIoNodeType[] = []; const result:OverwrittenIoNodeType[] = []\n  for (const key of inDegree) {\n    if (key[1] === 0) {\n      queue.push(key[0])\n    }\n  }\n  while (queue.length) {\n    const cur = queue.shift()!\n    result.push(cur)\n\n    const toEnQueue = graph.get(cur)!\n\n    toEnQueue.forEach(item => {\n      inDegree.set(item, (inDegree.get(item) as number) - 1)\n      if (inDegree.get(item) === 0) {\n        queue.push(item)\n      }\n    })\n  }\n  return result\n}\nexport const noop = (..._args: unknown[]) => { void 0 }\n\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-a33413f4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"io-node__li\"\n}\nconst _hoisted_2 = [\"data-fe-attr\"]\nconst _hoisted_3 = { class: \"io-node__port-text\" }\nconst _hoisted_4 = { class: \"port-name\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.fe[_ctx.is].ports, (item, key) => {\n    return (_openBlock(), _createElementBlock(_Fragment, { key: key }, [\n      (item.showOnNode !== false)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            _createElementVNode(\"em\", {\n              class: \"port in\",\n              style: _normalizeStyle({\n          width: `${2 * _ctx.POINT_R}px`,\n          height: `${ 2 * _ctx.POINT_R }px`,\n          borderWidth: `${ _ctx.POINT_BORDER_W }px`\n        }),\n              \"data-port-type\": \"in\",\n              r: \"10\",\n              \"data-fe-attr\": key,\n              ref_for: true,\n              ref: _ctx.setFeAttrEls,\n              onMouseenter: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handlePortMouseenter && _ctx.handlePortMouseenter(...args)))\n            }, null, 44, _hoisted_2),\n            _createElementVNode(\"label\", _hoisted_3, [\n              _createElementVNode(\"span\", _hoisted_4, _toDisplayString(key), 1)\n            ])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ], 64))\n  }), 128))\n}","import { vnode2dom, getTopoOrder } from '@/utils'\nimport { Dictionary } from '@/utils/type'\nimport { computed, inject, onBeforeUpdate, Ref, ref, h } from 'vue'\nimport { Path, Port, OverwrittenIoNodeType } from '../../../type'\n\nexport default () => {\n  const fromPort = inject<Ref<Port<OverwrittenIoNodeType>>>('fromPort')\n  const toPort = inject<Ref<Port<OverwrittenIoNodeType>>>('toPort')\n\n  const ioNodeEl = ref<SVGGElement>()\n\n  const feAttrEls = ref<SVGCircleElement[]>([])\n  const setFeAttrEls = (el?: SVGCircleElement) => {\n    el && feAttrEls.value.push(el)\n  }\n  onBeforeUpdate(() => { feAttrEls.value = [] })\n  // 计算属性，表示当前节点下的所有的后代节点\n  const allDescendants = inject<Ref<OverwrittenIoNodeType[]>>('allDescendants')\n  const orderedAllDescendants = inject<Ref<OverwrittenIoNodeType[]>>('orderedAllDescendants')\n\n  const handlePortMouseenter = inject<Ref<OverwrittenIoNodeType>>('handlePortMouseenter')\n  const filterThumbUrl = computed<string>(() => {\n    const prefix = 'data:image/svg+xml,'\n    const vnode = h('filter', { id: 'filter' }, (orderedAllDescendants?.value ?? []).map((item, index) => item.getVNodeFragment(item, index)))\n    const template =\n`\n<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"SVGFilter\" width=\"40\" height=\"40\" viewBox=\"0 0 256 256\">\n<defs>${vnode2dom(vnode).outerHTML}</defs>\n<g filter=\"url(#filter)\">\n  <linearGradient id=\"SVGID_1_\" gradientUnits=\"userSpaceOnUse\" x1=\"0\" y1=\"64\" x2=\"64\" y2=\"64\">\n    <stop offset=\"0\" style=\"stop-color:#EE7E77\" /><stop offset=\"0.5\" style=\"stop-color:#E7334C\" /><stop offset=\"1\" style=\"stop-color:#DA0439\" />\n  </linearGradient>\n  <rect style=\"fill:url(#SVGID_1_);\" width=\"64\" height=\"128\" />\n  <linearGradient id=\"SVGID_2_\" gradientUnits=\"userSpaceOnUse\" x1=\"64\" y1=\"64\" x2=\"128\" y2=\"64\">\n    <stop offset=\"0\" style=\"stop-color:#F29847\" /><stop offset=\"0.5\" style=\"stop-color:#EE7300\" /><stop offset=\"1\" style=\"stop-color:#D45E12\" />\n  </linearGradient>\n  <rect x=\"64\" style=\"fill:url(#SVGID_2_);\" width=\"64\" height=\"128\" />\n  <linearGradient id=\"SVGID_3_\" gradientUnits=\"userSpaceOnUse\" x1=\"128\" y1=\"64\" x2=\"192\" y2=\"64\">\n    <stop offset=\"0\" style=\"stop-color:#FFF9AC\" /><stop offset=\"0.5\" style=\"stop-color:#FFF000\" /><stop offset=\"1\" style=\"stop-color:#FFDC00\" />\n  </linearGradient>\n  <rect x=\"128\" style=\"fill:url(#SVGID_3_);\" width=\"64\" height=\"128\" />\n  <linearGradient id=\"SVGID_4_\" gradientUnits=\"userSpaceOnUse\" x1=\"192\" y1=\"64\" x2=\"256\" y2=\"64\">\n    <stop offset=\"0\" style=\"stop-color:#66BC81\" /><stop offset=\"0.5\" style=\"stop-color:#009944\" /><stop offset=\"1\" style=\"stop-color:#008A43\" />\n  </linearGradient>\n  <rect x=\"192\" style=\"fill:url(#SVGID_4_);\" width=\"64\" height=\"128\" />\n  <linearGradient id=\"SVGID_5_\" gradientUnits=\"userSpaceOnUse\" x1=\"0\" y1=\"192\" x2=\"64\" y2=\"192\">\n    <stop offset=\"0\" style=\"stop-color:#3EAFCD\" /><stop offset=\"0.5\" style=\"stop-color:#0091B8\" /><stop offset=\"1\" style=\"stop-color:#00767F\" />\n  </linearGradient>\n  <rect y=\"128\" style=\"fill:url(#SVGID_5_);\" width=\"64\" height=\"128\" />\n  <linearGradient id=\"SVGID_6_\" gradientUnits=\"userSpaceOnUse\" x1=\"64\" y1=\"192\" x2=\"128\" y2=\"192\">\n    <stop offset=\"0\" style=\"stop-color:#584C9D\" /><stop offset=\"0.5\" style=\"stop-color:#1D2088\" /><stop offset=\"1\" style=\"stop-color:#39396C\" />\n  </linearGradient>\n  <rect x=\"64\" y=\"128\" style=\"fill:url(#SVGID_6_);\" width=\"64\" height=\"128\" />\n  <linearGradient id=\"SVGID_7_\" gradientUnits=\"userSpaceOnUse\" x1=\"128\" y1=\"192\" x2=\"192\" y2=\"192\">\n    <stop offset=\"0\" style=\"stop-color:#B87FB5\" /><stop offset=\"0.5\" style=\"stop-color:#8E2E8C\" /><stop offset=\"1\" style=\"stop-color:#731485\" />\n  </linearGradient>\n  <rect x=\"128\" y=\"128\" style=\"fill:url(#SVGID_7_);\" width=\"64\" height=\"128\" />\n  <linearGradient id=\"SVGID_8_\" gradientUnits=\"userSpaceOnUse\" x1=\"192\" y1=\"192\" x2=\"256\" y2=\"192\">\n    <stop offset=\"0\" style=\"stop-color:#EB70A6\" /><stop offset=\"0.5\" style=\"stop-color:#E4007F\" /><stop offset=\"1\" style=\"stop-color:#CE0080\" />\n  </linearGradient>\n  <rect x=\"192\" y=\"128\" style=\"fill:url(#SVGID_8_);\" width=\"64\" height=\"128\" />\n</g>\n</svg>\n`\n    return prefix + encodeURIComponent(template)\n  })\n\n  return {\n    fromPort,\n    toPort,\n    ioNodeEl,\n    feAttrEls,\n    setFeAttrEls,\n    allDescendants,\n    handlePortMouseenter,\n    filterThumbUrl\n  }\n}\n","export const filterLibraryPanelWidth = 150\nexport const stuffConfigPanelWidth = 300\nexport const topMenuBarHeight = 32\n\n// 圆形半径\nexport const POINT_R = 10\nexport const POINT_BORDER_W = 4\n\n// 路径手柄长度\nexport const HANDLE_LENGTH = 150\n\n// 路径宽度\nexport const PATH_STROKE_W = 4\n","\nimport { computed, defineComponent, h, PropType, ref, VNode } from 'vue'\nimport useIoNode from '../hooks/useIoNode'\n\nimport fe from '../fe-definition-config'\n\nimport type { OverwrittenIoNodeType, RelativePathForNode } from '@/views/AppMain/components/SvgCanvas/type'\nimport { SVGFilterConfig } from '../type'\nimport { Dictionary } from '@/utils/type'\nimport { noop } from '@/utils'\nimport { POINT_BORDER_W, POINT_R } from '@/config/ui'\n\nexport default defineComponent({\n  name: 'NormalNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      fromPort,\n      toPort,\n      ioNodeEl,\n      setFeAttrEls,\n      allDescendants,\n      handlePortMouseenter,\n      filterThumbUrl\n    } = useIoNode()\n\n    const feAttrValue = ref<Dictionary<string | number>>({})\n\n    const foreignPortValue = computed<Dictionary<string | number>>(() => {\n      const newValueMap: Dictionary<string | number> = {}\n\n      props.relativePaths.in.forEach(p => {\n        newValueMap[p.to.attr] = p.from.vm.mergedFeAttrValue[p.from.attr]\n      })\n      return newValueMap\n    })\n\n    const mergedFeAttrValue = computed<Dictionary<string | number>>(() => ({\n      ...feAttrValue.value,\n      ...foreignPortValue.value,\n      result: props.nodeId\n    }))\n\n    const getVNodeFragment = (item: OverwrittenIoNodeType, index: number): VNode => {\n      const is = item.is\n      const { mergedFeAttrValue } = item\n\n      const nodeAttrs: Dictionary<string | number> = {}\n      Object.keys(mergedFeAttrValue || {}).forEach(key => {\n        if (mergedFeAttrValue[key] !== undefined) {\n          nodeAttrs[key] = mergedFeAttrValue[key] || ''\n        }\n        if (nodeAttrs.in === nodeAttrs.result) {\n          delete nodeAttrs.in\n        }\n        if (\n          Object.prototype.hasOwnProperty.call(fe[is].ports, 'in') && !nodeAttrs.in\n        ) {\n          nodeAttrs.in = 'SourceGraphic'\n        }\n        if (\n          Object.prototype.hasOwnProperty.call(fe[is].ports, 'in2') && !nodeAttrs.in2\n        ) {\n          nodeAttrs.in2 = 'SourceGraphic'\n        }\n      })\n      const tag = (fe[is] as any).tag ?? is\n      return h(tag, nodeAttrs)\n    }\n\n    // 填充默认值\n    console.log(fe[props.is])\n    if (['normal', undefined].includes(fe[props.is].type)) {\n      const { ports } = fe[props.is] as SVGFilterConfig.NormalNode\n      Object.keys(ports).forEach(key => {\n        if (\n          (['number', 'range'] as unknown[]).includes(ports[key].type)\n        ) {\n          feAttrValue.value[key] = ports[key].defaultValue ?? 0\n        } else {\n          feAttrValue.value[key] = ports[key].defaultValue ?? ''\n        }\n      })\n    }\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      setFeAttrEls,\n      feAttrValue,\n      foreignPortValue,\n      mergedFeAttrValue,\n      afterPathConnected: noop,\n      afterPathRemoved: noop,\n\n      handlePortMouseenter,\n      fe,\n      allDescendants,\n\n      filterThumbUrl,\n      getVNodeFragment\n    }\n  }\n})\n","import { render } from \"./NormalNode.vue?vue&type=template&id=a33413f4&scoped=true&ts=true\"\nimport script from \"./NormalNode.vue?vue&type=script&lang=ts\"\nexport * from \"./NormalNode.vue?vue&type=script&lang=ts\"\n\nimport \"./NormalNode.vue?vue&type=style&index=0&id=a33413f4&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a33413f4\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5b8cb670\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"data-fe-attr\"]\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { class: \"io-node__port-text\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", { class: \"port-name\" }, \"in\")\n], -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.feAttrValue, (item, index) => {\n    return (_openBlock(), _createElementBlock(\"div\", {\n      class: \"io-node__li\",\n      key: index\n    }, [\n      _createElementVNode(\"em\", {\n        class: \"port in\",\n        style: _normalizeStyle({\n        width: `${2 * _ctx.POINT_R}px`,\n        height: `${ 2 * _ctx.POINT_R }px`,\n        borderWidth: `${ _ctx.POINT_BORDER_W }px`\n      }),\n        \"data-port-type\": \"in\",\n        r: \"10\",\n        \"data-fe-attr\": index,\n        ref_for: true,\n        ref: _ctx.setFeAttrEls,\n        onMouseenter: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handlePortMouseenter && _ctx.handlePortMouseenter(...args)))\n      }, null, 44, _hoisted_1),\n      _hoisted_2\n    ]))\n  }), 128))\n}","\nimport { computed, defineComponent, h, PropType, ref, unref, VNode, getCurrentInstance } from 'vue'\nimport useIoNode from '../hooks/useIoNode'\n\nimport fe from '../fe-definition-config'\n\nimport type { RelativePathForNode } from '@/views/AppMain/components/SvgCanvas/type'\nimport { Dictionary } from '@/utils/type'\nimport { POINT_BORDER_W, POINT_R } from '@/config/ui'\nimport { Path } from '@/views/AppMain/components/SvgCanvas/type'\n\nexport default defineComponent({\n  name: 'MergeNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      toPort,\n      fromPort,\n      ioNodeEl,\n      setFeAttrEls,\n      allDescendants,\n      handlePortMouseenter,\n      filterThumbUrl\n    } = useIoNode()\n\n    // const feAttrValue = computed<string[]>(() => {\n    //   return props.relativePaths.in.map(item => {\n    //     console.log(item.from.vm.nodeId)\n    //     return item.from.vm.nodeId\n    //   })\n    // })\n\n    const feAttrValue = ref<string[]>([''])\n\n    const mergedFeAttrValue = computed<Dictionary<string | number>>(() => ({\n      result: props.nodeId\n    }))\n\n    const parentVm = getCurrentInstance()!.parent?.proxy\n    const afterPathConnected = () => {\n      console.log(toPort?.value, fromPort?.value)\n\n      const { attr } = [toPort?.value, fromPort?.value].find(it => it?.vm === parentVm)!\n      const index = Number(attr)\n\n      feAttrValue.value[index] = fromPort!.value.vm.nodeId\n      if (!feAttrValue.value[index + 1]) {\n        feAttrValue.value[index + 1] = ''\n      }\n    }\n    const afterPathRemoved = (removedPath: Path) => {\n      const { attr } = removedPath.to\n      feAttrValue.value[Number(attr)] = ''\n    }\n\n    const getVNodeFragment = (): VNode => {\n      const { is, nodeId } = props\n      return h(is, {\n        result: nodeId\n      }, unref(feAttrValue).filter(filter => !!filter).map((result:string) => {\n        return h('feMergeNode', { in: result })\n      }))\n    }\n\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      setFeAttrEls,\n      feAttrValue,\n      mergedFeAttrValue,\n      afterPathConnected,\n      afterPathRemoved,\n\n      handlePortMouseenter,\n      allDescendants,\n\n      filterThumbUrl,\n      getVNodeFragment\n    }\n  }\n})\n","import { render } from \"./MergeNode.vue?vue&type=template&id=5b8cb670&scoped=true&ts=true\"\nimport script from \"./MergeNode.vue?vue&type=script&lang=ts\"\nexport * from \"./MergeNode.vue?vue&type=script&lang=ts\"\n\nimport \"./MergeNode.vue?vue&type=style&index=0&id=5b8cb670&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5b8cb670\"]])\n\nexport default __exports__","import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\"))\n}","\nimport { defineComponent, h, PropType, readonly, VNode } from 'vue'\nimport useIoNode from '../hooks/useIoNode'\n\nimport fe from '../fe-definition-config'\n\nimport type { RelativePathForNode } from '@/views/AppMain/components/SvgCanvas/type'\nimport { Dictionary } from '@/utils/type'\nimport { POINT_BORDER_W, POINT_R } from '@/config/ui'\n\nexport default defineComponent({\n  name: 'SourceNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      fromPort,\n      ioNodeEl,\n      setFeAttrEls,\n      handlePortMouseenter,\n      filterThumbUrl\n    } = useIoNode()\n\n    const mergedFeAttrValue = readonly<Dictionary<string | number>>({\n      result: props.is\n    })\n\n    // FIXME: 此处节点应该只用于缩略图预览，不应出现在最终结果中\n    const getVNodeFragment = (): VNode => {\n      return h('feOffset', {\n        in: props.is\n      })\n    }\n\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      setFeAttrEls,\n      mergedFeAttrValue,\n\n      handlePortMouseenter,\n\n      filterThumbUrl,\n      getVNodeFragment\n    }\n  }\n})\n","import { render } from \"./SourceNode.vue?vue&type=template&id=4ebf66e6&scoped=true&ts=true\"\nimport script from \"./SourceNode.vue?vue&type=script&lang=ts\"\nexport * from \"./SourceNode.vue?vue&type=script&lang=ts\"\n\nimport \"./SourceNode.vue?vue&type=style&index=0&id=4ebf66e6&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4ebf66e6\"]])\n\nexport default __exports__","import { vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.feAttrValue.value) = $event))\n  }, null, 512)), [\n    [\n      _vModelText,\n      _ctx.feAttrValue.value,\n      void 0,\n      { lazy: true }\n    ]\n  ])\n}","\nimport { computed, defineComponent, h, PropType, readonly, ref, unref, VNode } from 'vue'\nimport useIoNode from '../hooks/useIoNode'\n\nimport fe from '../fe-definition-config'\n\nimport type { RelativePathForNode } from '@/views/AppMain/components/SvgCanvas/type'\nimport { Dictionary } from '@/utils/type'\nimport { POINT_BORDER_W, POINT_R } from '@/config/ui'\n\nexport default defineComponent({\n  name: 'SourceNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      fromPort,\n      ioNodeEl,\n      setFeAttrEls,\n      handlePortMouseenter,\n      filterThumbUrl\n    } = useIoNode()\n\n    const feAttrValue = ref<Dictionary<string | number>>({\n      value: ''\n    })\n\n    const mergedFeAttrValue = computed<Dictionary<string | number>>(() => {\n      return {\n        result: unref(feAttrValue).value\n      }\n    })\n\n    // FIXME: 此处节点应该只用于缩略图预览，不应出现在最终结果中\n    const getVNodeFragment = (): VNode | null => null\n\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      setFeAttrEls,\n      mergedFeAttrValue,\n\n      handlePortMouseenter,\n\n      filterThumbUrl,\n      getVNodeFragment,\n\n      feAttrValue\n    }\n  }\n})\n","import { render } from \"./StringLiteralNode.vue?vue&type=template&id=68f4c358&scoped=true&ts=true\"\nimport script from \"./StringLiteralNode.vue?vue&type=script&lang=ts\"\nexport * from \"./StringLiteralNode.vue?vue&type=script&lang=ts\"\n\nimport \"./StringLiteralNode.vue?vue&type=style&index=0&id=68f4c358&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-68f4c358\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-f802b5d6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"onUpdate:modelValue\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.feAttrValue, (_, index) => {\n      return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n        key: index,\n        \"onUpdate:modelValue\": ($event: any) => ((_ctx.feAttrValue[index]) = $event),\n        class: \"input\"\n      }, null, 8, _hoisted_1)), [\n        [_vModelText, _ctx.feAttrValue[index]]\n      ])\n    }), 128))\n  ]))\n}","\nimport { computed, defineComponent, h, PropType, readonly, ref, VNode } from 'vue'\nimport useIoNode from '../hooks/useIoNode'\n\nimport fe from '../fe-definition-config'\n\nimport type { RelativePathForNode } from '@/views/AppMain/components/SvgCanvas/type'\nimport { Dictionary } from '@/utils/type'\nimport { POINT_BORDER_W, POINT_R } from '@/config/ui'\n\nexport default defineComponent({\n  name: 'SourceNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      fromPort,\n      ioNodeEl,\n      setFeAttrEls,\n      handlePortMouseenter,\n      filterThumbUrl\n    } = useIoNode()\n\n    const feAttrValue = ref<number[]>(\n      (() => {\n        const arr = new Array(20)\n\n        arr.fill(0)\n        arr[0] = arr[6] = arr[12] = arr[18] = 1\n\n        return arr\n      })()\n    )\n\n    const mergedFeAttrValue = computed(\n      () => ({\n        result: feAttrValue.value.join(' ')\n      })\n    )\n\n    const getVNodeFragment = (): VNode | null => null\n\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      setFeAttrEls,\n\n      feAttrValue,\n      mergedFeAttrValue,\n\n      handlePortMouseenter,\n\n      filterThumbUrl,\n      getVNodeFragment\n    }\n  }\n})\n","import { render } from \"./MatrixInFeColorMatrixNode.vue?vue&type=template&id=f802b5d6&scoped=true&ts=true\"\nimport script from \"./MatrixInFeColorMatrixNode.vue?vue&type=script&lang=ts\"\nexport * from \"./MatrixInFeColorMatrixNode.vue?vue&type=script&lang=ts\"\n\nimport \"./MatrixInFeColorMatrixNode.vue?vue&type=style&index=0&id=f802b5d6&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f802b5d6\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2544a775\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"io-node__li\"\n}\nconst _hoisted_2 = [\"data-fe-attr\"]\nconst _hoisted_3 = { class: \"io-node__port-text\" }\nconst _hoisted_4 = { class: \"port-name\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.fe[_ctx.is].ports, (item, key) => {\n    return (_openBlock(), _createElementBlock(_Fragment, { key: key }, [\n      (item.showOnNode !== false)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            _createElementVNode(\"em\", {\n              class: \"port in\",\n              style: _normalizeStyle({\n          width: `${2 * _ctx.POINT_R}px`,\n          height: `${ 2 * _ctx.POINT_R }px`,\n          borderWidth: `${ _ctx.POINT_BORDER_W }px`\n        }),\n              \"data-port-type\": \"in\",\n              r: \"10\",\n              \"data-fe-attr\": key,\n              ref_for: true,\n              ref: _ctx.setFeAttrEls,\n              onMouseenter: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handlePortMouseenter && _ctx.handlePortMouseenter(...args)))\n            }, null, 44, _hoisted_2),\n            _createElementVNode(\"label\", _hoisted_3, [\n              _createElementVNode(\"span\", _hoisted_4, _toDisplayString(key), 1)\n            ])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ], 64))\n  }), 128))\n}","\nimport { computed, defineComponent, h, inject, PropType, ref, VNode } from 'vue'\nimport useIoNode from '../hooks/useIoNode'\n\nimport fe from '../fe-definition-config'\n\nimport type { OverwrittenIoNodeType, RelativePathForNode } from '@/views/AppMain/components/SvgCanvas/type'\nimport { SVGFilterConfig } from '../type'\nimport { Dictionary } from '@/utils/type'\nimport { noop } from '@/utils'\nimport { POINT_BORDER_W, POINT_R } from '@/config/ui'\n\nimport { NODE_REF_MAP_SYMBOL } from '@/store/canvasStuff'\n\nexport default defineComponent({\n  name: 'NormalNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      fromPort,\n      toPort,\n      ioNodeEl,\n      setFeAttrEls,\n      allDescendants,\n      handlePortMouseenter,\n      filterThumbUrl\n    } = useIoNode()\n\n    const feAttrValue = ref<Dictionary<string | number>>({})\n\n    const foreignPortValue = computed<Dictionary<string | number>>(() => {\n      const newValueMap: Dictionary<string | number> = {}\n\n      props.relativePaths.in.forEach(p => {\n        newValueMap[p.to.attr] = p.from.vm.mergedFeAttrValue[p.from.attr]\n      })\n      return newValueMap\n    })\n\n    const mergedFeAttrValue = computed<Dictionary<string | number>>(() => ({\n      in: foreignPortValue.value.in,\n      result: props.nodeId\n    }))\n\n    const nodeRefMap = inject(NODE_REF_MAP_SYMBOL)!\n    const getVNodeFragment = (item: OverwrittenIoNodeType): VNode => {\n      const is = item.is\n      const { mergedFeAttrValue } = item\n\n      const nodeAttrs: Dictionary<string | number> = {}\n      Object.keys(mergedFeAttrValue || {}).forEach(key => {\n        if (mergedFeAttrValue[key] !== undefined) {\n          nodeAttrs[key] = mergedFeAttrValue[key] || ''\n        }\n        if (nodeAttrs.in === nodeAttrs.result) {\n          delete nodeAttrs.in\n        }\n        if (\n          Object.prototype.hasOwnProperty.call(fe[is].ports, 'in') && !nodeAttrs.in\n        ) {\n          nodeAttrs.in = 'SourceGraphic'\n        }\n        if (\n          Object.prototype.hasOwnProperty.call(fe[is].ports, 'in2') && !nodeAttrs.in2\n        ) {\n          nodeAttrs.in2 = 'SourceGraphic'\n        }\n      })\n      const tag = (fe[is] as any).tag ?? is\n\n      const childVNodeAttrMap = {\n        R: { type: 'identity' },\n        G: { type: 'identity' },\n        B: { type: 'identity' },\n        A: { type: 'identity' }\n      }\n\n      Object.keys(childVNodeAttrMap).forEach(key => {\n        if (foreignPortValue.value[key]) {\n          Object.assign(\n            (childVNodeAttrMap as any)[key],\n            nodeRefMap.value[\n              foreignPortValue.value[key]\n            ].mergedFeAttrValue\n          )\n        }\n      })\n\n      return h(\n        tag,\n        nodeAttrs,\n        Object.entries(childVNodeAttrMap).map(([key, value]) => {\n          return h(\n            `feFunc${key}`,\n            value\n          )\n        })\n      )\n    }\n\n    // 填充默认值\n    console.log(fe[props.is])\n    if (['normal', undefined].includes(fe[props.is].type)) {\n      const { ports } = fe[props.is] as SVGFilterConfig.NormalNode\n      Object.keys(ports).forEach(key => {\n        if (\n          (['number', 'range'] as unknown[]).includes(ports[key].type)\n        ) {\n          feAttrValue.value[key] = ports[key].defaultValue ?? 0\n        } else {\n          feAttrValue.value[key] = ports[key].defaultValue ?? ''\n        }\n      })\n    }\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      setFeAttrEls,\n      feAttrValue,\n      foreignPortValue,\n      mergedFeAttrValue,\n      afterPathConnected: noop,\n      afterPathRemoved: noop,\n\n      handlePortMouseenter,\n      fe,\n      allDescendants,\n\n      filterThumbUrl,\n      getVNodeFragment\n    }\n  }\n})\n","import { render } from \"./ComponentTransferRootNode.vue?vue&type=template&id=2544a775&scoped=true&ts=true\"\nimport script from \"./ComponentTransferRootNode.vue?vue&type=script&lang=ts\"\nexport * from \"./ComponentTransferRootNode.vue?vue&type=script&lang=ts\"\n\nimport \"./ComponentTransferRootNode.vue?vue&type=style&index=0&id=2544a775&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2544a775\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7bcbc2da\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"io-node__li\"\n}\nconst _hoisted_2 = [\"data-fe-attr\"]\nconst _hoisted_3 = { class: \"io-node__port-text\" }\nconst _hoisted_4 = { class: \"port-name\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.fe[_ctx.is].ports, (item, key) => {\n    return (_openBlock(), _createElementBlock(_Fragment, { key: key }, [\n      (item.showOnNode !== false)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            _createElementVNode(\"em\", {\n              class: \"port in\",\n              style: _normalizeStyle({\n          width: `${2 * _ctx.POINT_R}px`,\n          height: `${ 2 * _ctx.POINT_R }px`,\n          borderWidth: `${ _ctx.POINT_BORDER_W }px`\n        }),\n              \"data-port-type\": \"in\",\n              r: \"10\",\n              \"data-fe-attr\": key,\n              ref_for: true,\n              ref: _ctx.setFeAttrEls,\n              onMouseenter: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handlePortMouseenter && _ctx.handlePortMouseenter(...args)))\n            }, null, 44, _hoisted_2),\n            _createElementVNode(\"label\", _hoisted_3, [\n              _createElementVNode(\"span\", _hoisted_4, _toDisplayString(key), 1)\n            ])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ], 64))\n  }), 128))\n}","\nimport { computed, defineComponent, h, inject, PropType, ref, VNode } from 'vue'\nimport useIoNode from '../hooks/useIoNode'\n\nimport fe from '../fe-definition-config'\n\nimport type { OverwrittenIoNodeType, RelativePathForNode } from '@/views/AppMain/components/SvgCanvas/type'\nimport { SVGFilterConfig } from '../type'\nimport { Dictionary } from '@/utils/type'\nimport { noop } from '@/utils'\nimport { POINT_BORDER_W, POINT_R } from '@/config/ui'\n\nimport { NODE_REF_MAP_SYMBOL } from '@/store/canvasStuff'\n\nexport default defineComponent({\n  name: 'NormalNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      fromPort,\n      toPort,\n      ioNodeEl,\n      setFeAttrEls,\n      allDescendants,\n      handlePortMouseenter,\n      filterThumbUrl\n    } = useIoNode()\n\n    const feAttrValue = ref<Dictionary<string | number>>({})\n\n    const foreignPortValue = computed<Dictionary<string | number>>(() => {\n      const newValueMap: Dictionary<string | number> = {}\n\n      props.relativePaths.in.forEach(p => {\n        newValueMap[p.to.attr] = p.from.vm.mergedFeAttrValue[p.from.attr]\n      })\n      return newValueMap\n    })\n\n    const mergedFeAttrValue = computed<Dictionary<string | number>>(() => ({\n      // FIXME: any\n      type: (fe[props.is].ports as any).type.defaultValue,\n      ...feAttrValue.value,\n      ...foreignPortValue.value,\n      result: props.nodeId\n    }))\n\n    const getVNodeFragment = (): VNode | null => null\n\n    // 填充默认值\n    console.log(fe[props.is])\n    if (['normal', undefined].includes(fe[props.is].type)) {\n      const { ports } = fe[props.is] as SVGFilterConfig.NormalNode\n      Object.keys(ports).forEach(key => {\n        if (\n          (['number', 'range'] as unknown[]).includes(ports[key].type)\n        ) {\n          feAttrValue.value[key] = ports[key].defaultValue ?? 0\n        } else {\n          feAttrValue.value[key] = ports[key].defaultValue ?? ''\n        }\n      })\n    }\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      setFeAttrEls,\n      feAttrValue,\n      foreignPortValue,\n      mergedFeAttrValue,\n      afterPathConnected: noop,\n      afterPathRemoved: noop,\n\n      handlePortMouseenter,\n      fe,\n      allDescendants,\n\n      filterThumbUrl,\n      getVNodeFragment\n    }\n  }\n})\n","import { render } from \"./ComponentTransferChildNode.vue?vue&type=template&id=7bcbc2da&scoped=true&ts=true\"\nimport script from \"./ComponentTransferChildNode.vue?vue&type=script&lang=ts\"\nexport * from \"./ComponentTransferChildNode.vue?vue&type=script&lang=ts\"\n\nimport \"./ComponentTransferChildNode.vue?vue&type=style&index=0&id=7bcbc2da&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7bcbc2da\"]])\n\nexport default __exports__","\nimport { computed, defineComponent, getCurrentInstance, inject, nextTick, onBeforeUpdate, PropType, provide, Ref, ref, ShallowRef, shallowRef, unref } from 'vue'\nimport mouseEventHelper from '@/utils/mouse-event-helper'\n\nimport fe from './fe-definition-config'\n\nimport { OverwrittenIoNodeType, Path, Port, RelativePathForNode, SVG_CANVAS_RECT_SYMBOL } from '@/views/AppMain/components/SvgCanvas/type'\nimport { getTopoOrder, isPortEl } from '@/utils'\n\nimport NormalNode from './components/NormalNode.vue'\nimport MergeNode from './components/MergeNode.vue'\nimport SourceNode from './components/SourceNode.vue'\nimport StringLiteralNode from './components/StringLiteralNode.vue'\nimport MatrixInFeColorMatrixNode from './components/MatrixInFeColorMatrixNode.vue'\nimport ComponentTransferRootNode from './components/ComponentTransferRootNode.vue'\nimport ComponentTransferChildNode from './components/ComponentTransferChildNode.vue'\n\nimport { filterLibraryPanelWidth, POINT_BORDER_W, POINT_R } from '@/config/ui'\nimport { FOCUSING_NODE_SYMBOL } from '@/store/focusState'\n\nconst IoNode: {\n  new(): OverwrittenIoNodeType\n} = defineComponent({\n  components: { NormalNode, MergeNode, SourceNode, StringLiteralNode, MatrixInFeColorMatrixNode, ComponentTransferRootNode, ComponentTransferChildNode },\n  name: 'IoNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    },\n    position: {\n      type: Array as PropType<number[]>,\n      required: true\n    }\n  },\n  setup(props, { emit }) {\n    const vm = getCurrentInstance()!.proxy as unknown as OverwrittenIoNodeType\n\n    const svgCanvasRect = inject(SVG_CANVAS_RECT_SYMBOL)!\n\n    const fromPort = inject<Ref<Port<typeof vm>>>('fromPort')\n    const toPort = inject<Ref<Port<typeof vm>>>('toPort')\n\n    const ioNodeEl = ref<SVGGElement>()\n\n    const clickedRelativePosition = ref([0, 0])\n\n    const feAttrEls = ref<SVGCircleElement[]>([])\n    const setFeAttrEls = (el?: SVGCircleElement) => {\n      el && feAttrEls.value.push(el)\n    }\n    onBeforeUpdate(() => { feAttrEls.value = [] })\n\n    const nodeConfigRef = ref<InstanceType<typeof NormalNode> | InstanceType<typeof MergeNode>>()\n\n    const filterThumbUrl = computed<string>(() => {\n      return nodeConfigRef.value?.filterThumbUrl ?? ''\n    })\n\n    /**\n     * feAttrValue 供下层（各类型Node）组件递归组件树时使用，直接在本层级获得feAttrValue而无需进入到下层组件\n     * 去掉此变量会使得 filterThumb 一片空白，且生成的滤镜标签中无任何属性\n     */\n    const mergedFeAttrValue = computed(() => {\n      return nodeConfigRef.value?.mergedFeAttrValue ?? {}\n    })\n    /**\n     * getVNodeFragment 供下层（各类型Node）组件递归组件树时使用，用于获得滤镜VNode\n     */\n    const getVNodeFragment = computed(() => {\n      return nodeConfigRef.value?.getVNodeFragment\n    })\n\n    const afterPathConnected = computed(() => {\n      return nodeConfigRef.value?.afterPathConnected ?? (() => void 0)\n    })\n    const afterPathRemoved = computed(() => {\n      return nodeConfigRef.value?.afterPathRemoved ?? (() => void 0)\n    })\n\n    const canvasScrollEl = inject('canvasScrollEl') as Ref<HTMLElement>\n    const handleNodeMousedown = function(ev: MouseEvent) {\n      mouseEventHelper(ev, {\n        start(ev, { originEl }) {\n          // 如果鼠标事件的出发点是端口\n          if (isPortEl(originEl)) {\n            // 就认为连线开始了\n            emit('port-start', { ev, originEl, vm })\n          } else {\n            // 否则认为是节点移动，此时保存鼠标事件起始点的位置\n            const currentPosition = (ioNodeEl.value?.getBoundingClientRect() as DOMRect)\n            // clickedRelativePosition.value = [ev.pageX - currentPosition?.left, ev.pageY - currentPosition?.top]\n            clickedRelativePosition.value = [\n              ev.pageX - currentPosition?.left - canvasScrollEl.value.scrollLeft,\n              ev.pageY - currentPosition?.top - canvasScrollEl.value.scrollTop\n            ]\n          }\n        },\n        move(ev, { originEl }) {\n          // 如果鼠标事件的出发点是端口\n          if (isPortEl(originEl)) {\n            // 就认为目前处于连线改变阶段 - 连线的控制点坐标应当会随之改变\n            emit('port-move', { ev, originEl, vm })\n          } else {\n            // 否则认为是节点移动，此时更新节点的位置\n            const newPosition = [\n              ev.pageX - clickedRelativePosition.value[0] - svgCanvasRect.value.left,\n              ev.pageY - clickedRelativePosition.value[1] - svgCanvasRect.value.top\n            ] // clickedRelativePosition.value.concat()\n            emit('update:position', newPosition)\n            nextTick(() => {\n              const currentPosition = (ioNodeEl.value?.getBoundingClientRect() as DOMRect)\n              clickedRelativePosition.value = [\n                ev.pageX - currentPosition?.left - canvasScrollEl.value.scrollLeft,\n                ev.pageY - currentPosition?.top - canvasScrollEl.value.scrollTop\n              ]\n              emit('node-move', props.relativePaths)\n            })\n          }\n        },\n        up(ev, { originEl }) {\n          // 如果鼠标事件的出发点是端口\n          if (isPortEl(originEl)) {\n            // 而且如果鼠标事件的终止点也是端口\n            if (\n              isPortEl(ev.target as HTMLElement) &&\n              fromPort?.value &&\n              toPort?.value\n            ) {\n              // 则认为两个端口应该进行连线\n              // console.log(toPort.value.vm.refs.ioNodeEl.querySelector(`[data-fe-attr=${toPort.value.attr}]`))\n              emit('port-connect', { ev, originEl, vm })\n            } else {\n              // 否则如果鼠标事件的终止点不是端口，则认为连线过程已经取消\n              emit('port-cancel', { ev, originEl, vm })\n            }\n          }\n          // 重置鼠标事件起始点位置\n          clickedRelativePosition.value = [0, 0]\n        }\n      })\n    }\n\n    const handlePortMouseout = function(ev: Event) {\n      if (!fromPort?.value) { return }\n      emit('destination-change', { ev, vm: null, originEl: null })\n      ev.target?.removeEventListener('mouseout', handlePortMouseout)\n    }\n    const handlePortMouseenter = function(ev: Event) {\n      if (!fromPort?.value) { return }\n      emit('destination-change', { ev, vm, originEl: ev.target })\n      ev.target?.addEventListener('mouseout', handlePortMouseout)\n    }\n    provide('handlePortMouseenter', handlePortMouseenter)\n\n    // 计算属性，表示当前节点下的所有的后代节点\n    const allDescendants = computed<OverwrittenIoNodeType[]>(() => {\n      const allDescendants = new Set<OverwrittenIoNodeType>()\n      const innerLoop = (vm: OverwrittenIoNodeType) => {\n        allDescendants.add(vm)\n\n        vm.relativePaths.in.forEach((item) => {\n          innerLoop(item.from.vm)\n        })\n        // [0].from.vm.allDescendants[0]\n      }\n      innerLoop(vm)\n      // props.relativePaths.in[0].from.vm.relativePaths.in[0].from.vm.relativePaths.in[0]\n      return [...allDescendants]\n    })\n    provide('allDescendants', allDescendants)\n\n    const orderedAllDescendants = computed<OverwrittenIoNodeType[]>(() => {\n      const allInPaths: Path[] = []\n      allDescendants?.value.forEach(item => {\n        allInPaths.push(...item.relativePaths.in)\n      })\n\n      if (allInPaths.length) {\n        return getTopoOrder(allInPaths)\n      } else {\n        return [vm]\n      }\n    })\n    provide('orderedAllDescendants', orderedAllDescendants)\n\n    const [focusingNode, setFocusingNode] = inject(FOCUSING_NODE_SYMBOL)!\n    const handleNodeBodyClick = () => {\n      setFocusingNode(vm)\n    }\n    const isFocused = computed(() => focusingNode.value === vm)\n\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      setFeAttrEls,\n\n      handleNodeMousedown,\n      handlePortMouseenter,\n      fe,\n      allDescendants,\n      afterPathConnected,\n      afterPathRemoved,\n\n      nodeConfigRef,\n      filterThumbUrl,\n      mergedFeAttrValue,\n      getVNodeFragment,\n      orderedAllDescendants,\n\n      focusingNode,\n      handleNodeBodyClick,\n      isFocused\n    }\n  }\n})\n\nexport default IoNode\n","import { render } from \"./index.vue?vue&type=template&id=44b0b32d&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=44b0b32d&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-44b0b32d\"]])\n\nexport default __exports__","import { normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-39e4bcf4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"d\"]\nconst _hoisted_2 = {\n  key: 0,\n  class: \"linked-path-tools\"\n}\nconst _hoisted_3 = [\"cx\", \"cy\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"g\", {\n    class: _normalizeClass([\"linked-path\", { 'linked-path__focused': _ctx.focused }]),\n    onFocus: _cache[2] || (_cache[2] = ($event: any) => (_ctx.focused = true)),\n    onBlur: _cache[3] || (_cache[3] = ($event: any) => (_ctx.focused = false))\n  }, [\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"linked-path-path\", { 'linked-path__focused-path': _ctx.focused }]),\n      style: _normalizeStyle({ strokeWidth: `${_ctx.PATH_STROKE_W}px` }),\n      d: _ctx.pathD,\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handlePathClick && _ctx.handlePathClick(...args))),\n      ref: \"pathRef\"\n    }, null, 14, _hoisted_1),\n    (_ctx.focused)\n      ? (_openBlock(), _createElementBlock(\"g\", _hoisted_2, [\n          _createElementVNode(\"circle\", {\n            r: \"10\",\n            cx: _ctx.p[0],\n            cy: _ctx.p[1],\n            title: \"移除连线\",\n            class: \"remove\",\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.$emit('remove', _ctx.pathId)))\n          }, null, 8, _hoisted_3)\n        ]))\n      : _createCommentVNode(\"\", true)\n  ], 34))\n}","\nimport { PATH_STROKE_W } from '@/config/ui'\nimport { computed, defineComponent, PropType, ref } from 'vue'\n\nimport { OverwrittenIoNodeType } from '../../type'\n\nexport default defineComponent({\n  name: 'IoPath',\n  props: {\n    pathDArguments: {\n      type: Array as PropType<number[]>,\n      required: true\n    },\n    pathId: {\n      type: String,\n      required: true\n    },\n    from: {\n      type: Object as PropType<OverwrittenIoNodeType>,\n      required: true\n    },\n    to: {\n      type: Object as PropType<OverwrittenIoNodeType>,\n      required: true\n    }\n  },\n  setup(props) {\n    const pathD = computed(() => {\n      const dArgs = props.pathDArguments\n      return `\nM ${dArgs[0]}, ${dArgs[1]}\nC ${dArgs[2]}, ${dArgs[3]}, ${dArgs[4]}, ${dArgs[5]}, ${dArgs[6]}, ${dArgs[7]}`\n    })\n    const pathRef = ref<SVGPathElement|null>(null)\n\n    const focused = ref(false)\n    const p = computed(() => {\n      void pathD.value\n      void focused.value\n      const { x, y } = pathRef.value?.getPointAtLength(pathRef.value?.getTotalLength() / 2) || { x: 0, y: 0 }\n      return [x, y]\n    })\n\n    const handlePathClick = (ev: MouseEvent) => {\n      console.log(ev)\n    }\n\n    const handlePathBlur = (ev: Event) => {\n      console.log(ev)\n    }\n    return {\n      PATH_STROKE_W,\n\n      focused,\n      pathRef,\n      pathD,\n      p,\n      handlePathClick,\n      handlePathBlur\n    }\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=39e4bcf4&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=39e4bcf4&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-39e4bcf4\"]])\n\nexport default __exports__","import { OverwrittenIoNodeType, Path, Port } from '@/views/AppMain/components/SvgCanvas/type'\n\nfunction checkLoop(path: Path) {\n  const { to, from } = path\n  let hasLoop = false\n  const innerLoop = (from: Port<OverwrittenIoNodeType>) => {\n    if (to.vm === from.vm) {\n      hasLoop = true\n      return\n    }\n    for (let i = 0; i < from.vm.relativePaths.in.length; i++) {\n      if (hasLoop) break\n      const item = from.vm.relativePaths.in[i]\n      innerLoop(item.from)\n    }\n  }\n  innerLoop(from)\n  return hasLoop\n}\n\nfunction checkDuplicateLink(path: Path) {\n  const { to, from } = path\n\n  const duplicatedLinks = to.vm.relativePaths.in.filter((path: Path) => {\n    // out port可以连出多条线，但in port只能连入一条线\n    return (\n      to.attr === path.to.attr && to.vm === path.to.vm\n    )\n  })\n\n  return duplicatedLinks.length > 0\n}\n\nexport function assertPortCanBeConnected(path: Path) {\n  // 在当前port元素上点击后即松开\n  if (path.from.vm === path.to.vm) {\n    throw new TypeError('连接了自身')\n  }\n  // 尝试连接类型（in、out）相同的端口\n  if (path.from.el?.dataset.portType === path.to.el?.dataset.portType) {\n    throw new TypeError('端口不兼容')\n  }\n  // 发生了重复连接\n  if (checkDuplicateLink(path)) {\n    throw new TypeError('发生了重复连接')\n  }\n  // 连接产生了环\n  if (checkLoop(path)) {\n    throw new TypeError('连接产生了环')\n  }\n  console.log(\n    path.to.vm.relativePaths.in[0]\n      ?.from.vm.relativePaths.in[0]\n      ?.from.vm.relativePaths.in\n  )\n}\n","import { LinkInStore, NodeFormValue, NodeInStore } from '@/schema/IoNode'\nimport { getLocal } from '@/utils/storage'\n\nexport async function getNodes(): Promise<Record<NodeInStore['id'], NodeInStore>> {\n  return new Promise(resolve => {\n    setTimeout(\n      () => {\n        resolve(\n          getLocal('savedGraph')?.stuff.nodes ?? {}\n        )\n      },\n      500\n    )\n  })\n}\n\nexport async function getNodeValueMap(): Promise<Record<NodeInStore['id'], NodeFormValue>> {\n  return new Promise(resolve => {\n    setTimeout(\n      () => {\n        resolve(\n          getLocal('savedGraph')?.stuff.nodeForms ?? {}\n        )\n      },\n      500\n    )\n  })\n}\n\nexport async function getLinks(): Promise<Record<LinkInStore['id'], LinkInStore>> {\n  return new Promise(resolve => {\n    setTimeout(\n      () => {\n        resolve(\n          getLocal('savedGraph')?.stuff.links ?? {}\n        )\n      },\n      500)\n  })\n}\n","import { shallowRef, onBeforeUnmount, onMounted, nextTick, getCurrentInstance } from 'vue'\nexport default function useLayoutCache() {\n  const elRect = shallowRef<null | DOMRectReadOnly>(null)\n  const vm = getCurrentInstance()!.proxy!\n\n  let ro: null | ResizeObserver = new ResizeObserver(([entry], observer) => {\n    // Do something to each entry\n    // and possibly something to the observer itself\n\n    elRect.value = entry.target.getBoundingClientRect()\n    console.log(elRect.value)\n  })\n  onMounted(() => {\n    ro!.observe(vm.$el)\n    onBeforeUnmount(() => {\n      ro!.disconnect()\n    })\n    ro = null\n  })\n\n  return {\n    elRect\n  }\n}\n","\nimport { computed, defineComponent, ref, provide, onBeforeUpdate, onMounted, watch, readonly, inject, shallowRef, nextTick, onUnmounted, getCurrentInstance, ShallowRef, InjectionKey } from 'vue'\nimport IoNode from './components/IoNode/index.vue'\nimport IoPath from './components/IoPath/index.vue'\n\nimport { Port, Path, Node, RelativePathForNode, SVG_CANVAS_RECT_SYMBOL } from './type'\nimport { getPortElType } from '@/utils'\nimport { assertPortCanBeConnected } from '@/utils/link-validator'\nimport { HANDLE_LENGTH, POINT_R } from '@/config/ui'\nimport {\n  ALL_LINKED_PATH_ON_CANVAS_SYMBOL,\n  ALL_NODES_ON_CANVAS_SYMBOL,\n  REMOVE_PATH_SYMBOL,\n  RELATIVE_PATH_MAP_INDEXED_BY_NODE_ID_SYMBOL,\n  ADD_RELATION_IN_MAP_INDEXED_BY_NODE_ID_SYMBOL,\n  ADD_PATH_SYMBOL,\n  NODE_REF_MAP_SYMBOL,\n  ADD_NODES_SYMBOL\n} from '@/store/canvasStuff'\nimport { DRAGGING_NODE_ICON_SYMBOL, GHOST_NODE_REF_SYMBOL } from '@/store/draggingNode'\nimport { getLinks, getNodeValueMap, getNodes } from '@/api/graph'\nimport { uuid } from '@/utils/uuid'\n// eslint-disable-next-line vue/prefer-import-from-vue\nimport { hasOwn } from '@vue/shared'\n\nimport useLayoutCache from './hooks/useLayoutCache'\n\nexport default defineComponent({\n  name: 'SvgCanvas',\n  components: {\n    IoNode,\n    IoPath\n  },\n  setup() {\n    const canvasScrollEl = shallowRef<HTMLDivElement>()\n    provide('canvasScrollEl', canvasScrollEl)\n\n    const svgCanvasRect = useLayoutCache().elRect as ShallowRef<DOMRectReadOnly>\n    provide(SVG_CANVAS_RECT_SYMBOL, svgCanvasRect)\n\n    const linkedPaths = inject(ALL_LINKED_PATH_ON_CANVAS_SYMBOL)!\n    const addPath = inject(ADD_PATH_SYMBOL)!\n    const removePath = inject(REMOVE_PATH_SYMBOL)!\n\n    const nodes = inject(ALL_NODES_ON_CANVAS_SYMBOL)!\n\n    const relativePathMapIndexedByNodeId = inject(RELATIVE_PATH_MAP_INDEXED_BY_NODE_ID_SYMBOL)!\n    const addRelationInMapIndexedByNodeId = inject(ADD_RELATION_IN_MAP_INDEXED_BY_NODE_ID_SYMBOL)!\n\n    const nodeRefMap = inject(NODE_REF_MAP_SYMBOL)!\n    const setNodeRefMap = (ref?: InstanceType<typeof IoNode>) => {\n      if (ref) {\n        nodeRefMap.value[ref.nodeId] = ref\n      }\n    }\n    onBeforeUpdate(() => { nodeRefMap.value = {} })\n\n    /**\n     * 鬼影路径参数\n     */\n    const ghostPathDArguments = ref([0, 0, 0, 0, 0, 0, 0, 0])\n    const ghostPathD = computed(() => {\n      const dArgs = ghostPathDArguments.value\n      return `\nM ${dArgs[0]}, ${dArgs[1]}\nC ${dArgs[2]}, ${dArgs[3]}, ${dArgs[4]}, ${dArgs[5]}, ${dArgs[6]}, ${dArgs[7]}`\n    })\n\n    const fromPort = ref<Port<InstanceType<typeof IoNode>>|null>(null)\n    const toPort = ref<Port<InstanceType<typeof IoNode>>|null>(null)\n    provide('fromPort', fromPort)\n    provide('toPort', toPort)\n    // const destnationVm = ref<InstanceType<typeof IoNode>>()\n\n    /**\n     * 处理鼠标点击起始/终止端口\n     * 点击后，将开始从端口发出鬼影路径\n     */\n    const handlePortStart = (\n      {\n        originEl,\n        vm\n      }:\n      {\n        ev:MouseEvent,\n        originEl: SVGCircleElement,\n        vm: InstanceType<typeof IoNode>\n      }\n    ) => {\n      const el = originEl\n      fromPort.value = {\n        vm,\n        attr: originEl.dataset?.feAttr ?? '',\n        el: originEl\n      }\n      const coord = [\n        el.getBoundingClientRect().x,\n        el.getBoundingClientRect().y\n      ]\n\n      if (getPortElType(el) === 'in') {\n        ghostPathDArguments.value = [\n          coord[0],\n          coord[1] + POINT_R,\n          coord[0] + HANDLE_LENGTH + POINT_R,\n          coord[1] + POINT_R,\n\n          coord[0] - HANDLE_LENGTH + POINT_R,\n          coord[1] + POINT_R,\n          coord[0],\n          coord[1] + POINT_R\n        ].map((p, i) => i % 2 === 0 ? p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left : p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top)\n      }\n      if (getPortElType(el) === 'out') {\n        ghostPathDArguments.value = [\n          coord[0] + 2 * POINT_R,\n          coord[1] + POINT_R,\n          coord[0] + HANDLE_LENGTH + POINT_R,\n          coord[1] + POINT_R,\n\n          coord[0] - HANDLE_LENGTH + POINT_R,\n          coord[1],\n          coord[0],\n          coord[1]\n        ].map((p, i) => i % 2 === 0 ? p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left : p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top)\n      }\n    }\n\n    /**\n     * 处理从端口发出路径后，鼠标移动时的一些逻辑\n     * 用于更新鬼影路径的逻辑\n     */\n    const handlePortMove = (\n      {\n        ev,\n        originEl\n      }:\n      {\n        ev:MouseEvent,\n        originEl: SVGCircleElement,\n        vm: InstanceType<typeof IoNode>\n      }\n    ) => {\n      if (getPortElType(originEl) === 'in') {\n        ghostPathDArguments.value = [\n          ev.pageX, ev.pageY, ev.pageX + HANDLE_LENGTH, ev.pageY,\n          ...ghostPathDArguments.value.slice(4)\n        ].map((p, i) => {\n          if (i <= 3) {\n            if (i % 2 === 0) {\n              return p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left\n            } else {\n              return p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top\n            }\n          } else {\n            return p\n          }\n        })\n      }\n      if (getPortElType(originEl) === 'out') {\n        ghostPathDArguments.value = [\n          ...ghostPathDArguments.value.slice(0, 4),\n          ev.pageX - HANDLE_LENGTH, ev.pageY, ev.pageX, ev.pageY\n        ].map((p, i) => {\n          if (i >= 4) {\n            if (i % 2 === 0) {\n              return p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left\n            } else {\n              return p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top\n            }\n          } else {\n            return p\n          }\n        })\n      }\n    }\n\n    /**\n     * 处理从端口发出路径后，连接到另一端口的逻辑\n     */\n    const handlePortConnect = (\n      {\n        ev,\n        originEl\n      }:\n      {\n        ev: MouseEvent,\n        originEl: SVGCircleElement,\n        vm: InstanceType<typeof IoPath>\n      }\n    ) => {\n      const el = ev.target as SVGGElement\n      const coord = [\n        el.getBoundingClientRect().x,\n        el.getBoundingClientRect().y\n      ]\n      let pathDArguments: number[] = []\n\n      let linkedPath!: Path\n      // 从输入接口出发，连到输出接口的逻辑 - 反向连接\n      if (getPortElType(originEl) === 'in') {\n        pathDArguments = [\n          coord[0] + 2 * POINT_R,\n          coord[1] + POINT_R,\n          coord[0] + HANDLE_LENGTH + POINT_R,\n          coord[1] + POINT_R,\n          ...ghostPathDArguments.value.slice(4)\n        ].map((p, i) => {\n          if (i <= 3) {\n            if (i % 2 === 0) {\n              return p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left\n            } else {\n              return p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top\n            }\n          } else {\n            return p\n          }\n        })\n        // 在存储路径时需要将to和from交换，因为连接的出发点是从输入接口，输入接口被存储为了fromPort\n        linkedPath = {\n          pathDArguments,\n          id: uuid(),\n          to: fromPort.value as Port<InstanceType<typeof IoNode>>,\n          from: toPort.value as Port<InstanceType<typeof IoNode>>\n        }\n      }\n      // 从输出接口出发，连到输入接口的逻辑 - 正向连接\n      if (getPortElType(originEl) === 'out') {\n        pathDArguments = [\n          ...ghostPathDArguments.value.slice(0, 4),\n          coord[0] - HANDLE_LENGTH + POINT_R,\n          coord[1] + POINT_R,\n          coord[0],\n          coord[1] + POINT_R\n        ].map((p, i) => {\n          if (i >= 4) {\n            if (i % 2 === 0) {\n              return p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left\n            } else {\n              return p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top\n            }\n          } else {\n            return p\n          }\n        })\n        linkedPath = {\n          pathDArguments,\n          id: uuid(),\n          from: fromPort.value as Port<InstanceType<typeof IoNode>>,\n          to: toPort.value as Port<InstanceType<typeof IoNode>>\n        }\n      }\n\n      try {\n        assertPortCanBeConnected(linkedPath)\n        addPath(linkedPath)\n\n        // 处理开始端口为out端口\n        if (getPortElType(originEl) === 'out') {\n          addRelationInMapIndexedByNodeId(\n            linkedPath,\n            fromPort,\n            toPort\n          )\n          toPort.value?.vm?.afterPathConnected?.()\n        } else {\n          // 处理开始端口为in端口\n          addRelationInMapIndexedByNodeId(\n            linkedPath,\n            toPort,\n            fromPort\n          )\n          fromPort.value?.vm?.afterPathConnected?.()\n        }\n      } catch (err) {\n        console.error(err)\n      }\n      fromPort.value = null\n      toPort.value = null\n      ghostPathDArguments.value.fill(0)\n    }\n\n    /**\n     * 用于处理连线取消的逻辑\n     */\n    const handlePortCancel = () => {\n      console.log('canceled')\n      fromPort.value = null\n      toPort.value = null\n      ghostPathDArguments.value.fill(0)\n    }\n\n    /**\n     * 处理路径末端移动过程中，要连接的端口发生改变后的逻辑\n     */\n    const handleDestinationChange = ({ vm, originEl, ev }: {vm: InstanceType<typeof IoNode> | null, originEl: SVGCircleElement, ev: MouseEvent}) => {\n      toPort.value = {\n        vm: vm as InstanceType<typeof IoNode>,\n        attr: (ev.target as SVGCircleElement)?.dataset?.feAttr ?? '',\n        el: originEl\n      }\n    }\n\n    /**\n     * 处理节点移动\n     */\n    const handleNodeMove = (paths: RelativePathForNode) => {\n      paths.out.forEach(item => {\n        const coord = [\n          item.from.el?.getBoundingClientRect().x ?? 0,\n          item.from.el?.getBoundingClientRect().y ?? 0\n        ]\n        item.pathDArguments = [\n          coord[0] + 2 * POINT_R,\n          coord[1] + POINT_R,\n          coord[0] + HANDLE_LENGTH + POINT_R,\n          coord[1] + POINT_R,\n          ...item.pathDArguments.slice(4)\n        ].map((p, i) => {\n          if (i <= 3) {\n            if (i % 2 === 0) {\n              return p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left\n            } else {\n              return p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top\n            }\n          } else {\n            return p\n          }\n        })\n      })\n      paths.in.forEach(item => {\n        const coord = [\n          item.to.el?.getBoundingClientRect().x ?? 0,\n          item.to.el?.getBoundingClientRect().y ?? 0\n        ]\n        item.pathDArguments = [\n          ...item.pathDArguments.slice(0, 4),\n          coord[0] - HANDLE_LENGTH + POINT_R,\n          coord[1] + POINT_R,\n          coord[0],\n          coord[1] + POINT_R\n        ].map((p, i) => {\n          if (i >= 4) {\n            if (i % 2 === 0) {\n              return p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left\n            } else {\n              return p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top\n            }\n          } else {\n            return p\n          }\n        })\n      })\n    }\n\n    /**\n     * 鬼影节点参数\n     */\n    const ghostNodeRef = inject(GHOST_NODE_REF_SYMBOL)!\n\n    const ghostNodeType = inject(DRAGGING_NODE_ICON_SYMBOL)!\n    const ghostNodePosition = ref([0, 0])\n\n    const defaultRelativePath = readonly({\n      in: [],\n      out: []\n    })\n\n    const addNodes = inject(ADD_NODES_SYMBOL)!\n\n    const loadCanvasFromSerializedStatus = async() => {\n      const [nodes, nodeFormValues, links] = await Promise.all(\n        [\n          getNodes(),\n          getNodeValueMap(),\n          getLinks()\n        ]\n      )\n      Object.values(nodes)\n        .forEach(it => {\n          addNodes(it)\n        })\n      // 等待节点都挂载后，再回填表单\n      await nextTick()\n      Object.entries(nodeFormValues).forEach(([nodeId, nodeFormValue], index) => {\n        Object.keys(nodeFormValue).forEach((key: keyof typeof nodeFormValue) => {\n          // FIXME: 修正类型\n          if (\n            [\n              hasOwn(nodeRefMap.value[nodeId].nodeConfigRef.feAttrValue, key as any), // 仅回填节点定义中包含的字段\n              nodes[nodeId].is === 'feMerge' // 如果是feMerge节点，则全部回填 // TODO: 此处应该枚举出所有类似的元素\n            ].includes(true)\n          ) {\n            (nodeRefMap.value[nodeId].nodeConfigRef.feAttrValue as any)[key] = nodeFormValue[key]\n          }\n        })\n      })\n      // 等待节点都正确后，再创建连接\n      await nextTick()\n      Object.values(links)\n        .map(it => {\n          const newIt = window.structuredClone(it) as unknown as Path // 强转类型\n\n          newIt.from.vm = nodeRefMap.value[it.from.vmId]\n          newIt.from.el = newIt.from.vm.$el.querySelector(`[data-fe-attr=\"${it.from.attr}\"]`)!\n          const fromPortCoord = [\n            newIt.from.el!.getBoundingClientRect().x,\n            newIt.from.el!.getBoundingClientRect().y\n          ]\n\n          newIt.to.vm = nodeRefMap.value[it.to.vmId]\n          newIt.to.el = newIt.to.vm.$el.querySelector(`[data-fe-attr=\"${it.to.attr}\"]`)\n          const toPortCoord = [\n            newIt.to.el!.getBoundingClientRect().x,\n            newIt.to.el!.getBoundingClientRect().y\n          ]\n\n          newIt.pathDArguments = [\n            fromPortCoord[0] + 2 * POINT_R,\n            fromPortCoord[1] + POINT_R,\n            fromPortCoord[0] + HANDLE_LENGTH + POINT_R,\n            fromPortCoord[1] + POINT_R,\n\n            toPortCoord[0] - HANDLE_LENGTH + POINT_R,\n            toPortCoord[1] + POINT_R,\n            toPortCoord[0],\n            toPortCoord[1] + POINT_R\n          ].map((p, i) => i % 2 === 0 ? p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left : p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top)\n\n          return newIt\n        })\n        .forEach(it => {\n          try {\n            assertPortCanBeConnected(it)\n            addPath(it)\n            addRelationInMapIndexedByNodeId(\n              it,\n              it.from,\n              it.to\n            )\n            toPort.value = it.to\n            fromPort.value = it.from\n            it.to.vm?.afterPathConnected?.()\n          } catch (err) {\n            console.error(err)\n          }\n          fromPort.value = null\n          toPort.value = null\n        })\n    }\n\n    onMounted(() => {\n      loadCanvasFromSerializedStatus()\n    })\n\n    return {\n      canvasScrollEl,\n      svgCanvasRect,\n\n      ghostPathD,\n      ghostNodeRef,\n      ghostNodeType,\n      ghostNodePosition,\n\n      nodes,\n      setNodeRefMap,\n\n      linkedPaths,\n\n      handlePortStart,\n      handlePortMove,\n      handlePortConnect,\n      handlePortCancel,\n      handleDestinationChange,\n      handleNodeMove,\n\n      fromPort,\n      toPort,\n\n      defaultRelativePath,\n      relativePathMapIndexedByNodeId,\n      removePath\n    }\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=4117f23c&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=4117f23c&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4117f23c\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-137294ad\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"node-library-panel\" }\nconst _hoisted_2 = { class: \"menu-list\" }\nconst _hoisted_3 = [\"onMousedown\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.menuGroup, (group, index) => {\n      return (_openBlock(), _createElementBlock(\"div\", { key: index }, [\n        _createElementVNode(\"h4\", null, _toDisplayString(_ctx.menuGroup.title), 1),\n        _createElementVNode(\"ul\", _hoisted_2, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(group.children, (icon, index) => {\n            return (_openBlock(), _createElementBlock(\"li\", {\n              key: index,\n              onMousedown: (ev) => _ctx.handleIconMousedown(ev, icon)\n            }, _toDisplayString(icon.title), 41, _hoisted_3))\n          }), 128))\n        ])\n      ]))\n    }), 128))\n  ]))\n}","\nimport { defineComponent, nextTick, inject, computed } from 'vue'\nimport mouseEventHelper from '@/utils/mouse-event-helper'\nimport { uuid } from '@/utils/uuid'\n\nimport fe from '@/views/AppMain/components/SvgCanvas/components/IoNode/fe-definition-config'\nimport { filterLibraryPanelWidth } from '@/config/ui'\n\nimport { DRAGGING_NODE_ICON_SYMBOL, GHOST_NODE_REF_SYMBOL } from '@/store/draggingNode'\nimport { ADD_NODES_SYMBOL } from '@/store/canvasStuff'\nimport { SVG_CANVAS_VM_SYMBOL } from '@/store/vmStore'\n\nconst menuGroup = [\n  {\n    title: '组1',\n    children: Object.keys(fe).map(item => ({\n      title: item\n    }))\n  }\n]\n\nexport default defineComponent({\n  name: 'NodeLibraryPanel',\n  setup(props, { emit }) {\n    const svgCanvasVm = inject(SVG_CANVAS_VM_SYMBOL)!\n    const svgCanvasRect = computed(() => {\n      return svgCanvasVm.value.svgCanvasRect\n    })\n\n    const ghostNodeRef = inject(GHOST_NODE_REF_SYMBOL)!\n    const draggingNodeIcon = inject(DRAGGING_NODE_ICON_SYMBOL)!\n    const addNodes = inject(ADD_NODES_SYMBOL)!\n\n    const handleIconMousedown = function(ev: MouseEvent, icon: any) {\n      mouseEventHelper(ev, {\n        start(ev, { originEl }) {\n          draggingNodeIcon.value = icon.title\n          nextTick(\n            () => ghostNodeRef.value!.$emit(\n              'update:position',\n              [ev.clientX + svgCanvasVm.value.$el.scrollLeft - svgCanvasRect.value.left, ev.clientY + svgCanvasVm.value.$el.scrollTop - svgCanvasRect.value.top]\n            )\n          )\n        },\n        move(ev, { originEl }) {\n          console.log(ghostNodeRef.value)\n          ghostNodeRef.value!.$emit(\n            'update:position',\n            [ev.clientX + svgCanvasVm.value.$el.scrollLeft - svgCanvasRect.value.left, ev.clientY + svgCanvasVm.value.$el.scrollTop - svgCanvasRect.value.top]\n          )\n          void 0\n        },\n        up(ev, { originEl }) {\n          addNodes({\n            is: icon.title,\n            id: uuid(),\n            position: [ev.clientX + svgCanvasVm.value.$el.scrollLeft - svgCanvasRect.value.left, ev.clientY + svgCanvasVm.value.$el.scrollTop - svgCanvasRect.value.top]\n          })\n          draggingNodeIcon.value = null\n          void 0\n        }\n      })\n    }\n    return {\n      handleIconMousedown,\n      menuGroup,\n      filterLibraryPanelWidth\n    }\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=137294ad&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=137294ad&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-137294ad\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-157e644c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { is: \"ui-form\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_form_item = _resolveComponent(\"form-item\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"stuff-config-panel\",\n    style: _normalizeStyle({width: _ctx.stuffConfigPanelWidth+'px'})\n  }, [\n    _createElementVNode(\"form\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.formFieldConfig.ports, (port, key) => {\n        return (_openBlock(), _createBlock(_component_form_item, {\n          key: key,\n          schema: port,\n          \"field-id\": key\n        }, null, 8, [\"schema\", \"field-id\"]))\n      }), 128))\n    ])\n  ], 4))\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, mergeProps as _mergeProps, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e2519480\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_3 = [\"value\"]\nconst _hoisted_4 = [\"min\", \"max\"]\n\nimport { FOCUSING_NODE_SYMBOL } from '@/store/focusState'\n// eslint-disable-next-line vue/prefer-import-from-vue\nimport { hasOwn } from '@vue/shared'\nimport { inject, unref, computed } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FormItem',\n  props: {\n  schema: {\n    type: Object\n  },\n  fieldId: {\n    type: String\n  }\n},\n  setup(__props) {\n\nconst props = __props\n\n\nconst fieldId = computed(() => props.fieldId!)\n\nconst [focusingNode] = inject(FOCUSING_NODE_SYMBOL)!\n\nconst feAttrValue = computed(() => {\n  return unref(focusingNode)?.nodeConfigRef.feAttrValue ?? {}\n})\n\nconst foreignPortValue = computed(() => {\n  return unref(focusingNode)?.nodeConfigRef.foreignPortValue ?? {}\n})\n\nconst fieldValueIsFromForeignPort = computed(() => {\n  return hasOwn(unref(foreignPortValue), fieldId.value)\n})\n\nconst resolveValueFromForeignPort = (foreignPortValue: string, fieldId: string) => {\n  return foreignPortValue\n}\n\nconst commonInputComponentAttrs = computed(() => {\n  return {\n    disabled: unref(fieldValueIsFromForeignPort),\n    value: unref(fieldValueIsFromForeignPort) ? resolveValueFromForeignPort(foreignPortValue.value[unref(fieldId)], unref(fieldId)) : feAttrValue.value[unref(fieldId)],\n    onChange: (ev: Event) => {\n      ev.stopPropagation()\n      feAttrValue.value[unref(fieldId)] = (ev.target as HTMLInputElement).value\n    }\n  }\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.schema?.showInConfigPanel !== false)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"label\", null, _toDisplayString(_unref(fieldId)), 1),\n        _hoisted_2,\n        (__props.schema?.type === 'text' || !__props.schema?.type)\n          ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n              (Array.isArray(__props.schema?.enum))\n                ? (_openBlock(), _createElementBlock(\"select\", _mergeProps({\n                    key: 0,\n                    is: \"ui-select\"\n                  }, _unref(commonInputComponentAttrs)), [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.schema.enum, (option) => {\n                      return (_openBlock(), _createElementBlock(\"option\", {\n                        key: (option && typeof option === 'object') ? option.value : option,\n                        value: (option && typeof option === 'object') ? option.value : option\n                      }, _toDisplayString((option && typeof option === 'object') ? option.label : option), 9, _hoisted_3))\n                    }), 128))\n                  ], 16))\n                : (_openBlock(), _createElementBlock(\"input\", _mergeProps({\n                    key: 1,\n                    is: \"ui-input\",\n                    type: \"text\",\n                    size: \"20\"\n                  }, _unref(commonInputComponentAttrs)), null, 16))\n            ], 64))\n          : (__props.schema?.type === 'number')\n            ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                (Array.isArray(__props.schema?.range))\n                  ? (_openBlock(), _createElementBlock(\"input\", _mergeProps({\n                      key: 0,\n                      is: \"ui-range\",\n                      type: \"range\",\n                      min: __props.schema.range[0],\n                      max: __props.schema.range[1]\n                    }, _unref(commonInputComponentAttrs)), null, 16, _hoisted_4))\n                  : (_openBlock(), _createElementBlock(\"input\", _mergeProps({\n                      key: 1,\n                      is: \"ui-input\",\n                      type: \"number\",\n                      size: \"20\"\n                    }, _unref(commonInputComponentAttrs)), null, 16))\n              ], 64))\n            : _createCommentVNode(\"\", true)\n      ]))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./FormItem.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./FormItem.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./FormItem.vue?vue&type=style&index=0&id=e2519480&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e2519480\"]])\n\nexport default __exports__","\nimport { defineComponent, nextTick, inject, unref, computed } from 'vue'\nimport { stuffConfigPanelWidth } from '@/config/ui'\nimport { uuid } from '@/utils/uuid'\n\nimport fe from '@/views/AppMain/components/SvgCanvas/components/IoNode/fe-definition-config'\nimport { FOCUSING_NODE_SYMBOL } from '@/store/focusState'\n\nimport FormItem from './components/FormItem.vue'\n\nexport default defineComponent({\n  name: 'StuffConfigPanel',\n  components: { FormItem },\n  setup(props, { emit }) {\n    const [focusingNode] = inject(FOCUSING_NODE_SYMBOL)!\n\n    const formFieldConfig = computed(() => {\n      if (\n        unref(focusingNode) && unref(focusingNode)?.is\n      ) {\n        return fe[unref(focusingNode)!.is]\n      } else {\n        return {}\n      }\n    })\n\n    return {\n      stuffConfigPanelWidth,\n\n      focusingNode,\n      formFieldConfig\n    }\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=157e644c&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=157e644c&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-157e644c\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-32c96690\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"output-preview-panel\" }\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"output-preview-panel__tools\" }, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_filter_def = _resolveComponent(\"filter-def\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_filter_def, { \"filter-el-id\": \"previewingFilter\" }),\n    _createElementVNode(\"div\", {\n      style: _normalizeStyle({\n        filter: `url(#previewingFilter)`\n      }),\n      class: \"output-preview-panel__image-wrap\"\n    }, [\n      _createElementVNode(\"img\", { src: _ctx.sourceImageSrc }, null, 8, _hoisted_2)\n    ], 4),\n    _hoisted_3\n  ]))\n}","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-47a0f675\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"filter-def\" }\nconst _hoisted_2 = [\"id\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(), _createElementBlock(\"svg\", null, [\n      _createElementVNode(\"defs\", null, [\n        _createElementVNode(\"filter\", { id: _ctx.filterElId }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.renderOfOrderedAllDescendants, (render, index) => {\n            return (_openBlock(), _createBlock(_resolveDynamicComponent(render), { key: index }))\n          }), 128))\n        ], 8, _hoisted_2)\n      ])\n    ]))\n  ]))\n}","\nimport { computed, defineComponent, inject } from 'vue'\nimport { FOCUSING_NODE_SYMBOL } from '@/store/focusState'\n\nexport default defineComponent({\n  name: 'FeDef',\n  props: {\n    filterElId: {\n      type: String\n    }\n  },\n  setup() {\n    const [focusingNode] = inject(FOCUSING_NODE_SYMBOL)!\n    const renderOfOrderedAllDescendants = computed(() => {\n      const allOrderedDescendants = focusingNode.value ? focusingNode.value!.orderedAllDescendants : []\n\n      return allOrderedDescendants.map(it => {\n        return () => it.getVNodeFragment(it)\n      })\n    })\n\n    return {\n      focusingNode,\n      renderOfOrderedAllDescendants\n    }\n  }\n})\n","import { render } from \"./FilterDef.vue?vue&type=template&id=47a0f675&scoped=true&ts=true\"\nimport script from \"./FilterDef.vue?vue&type=script&lang=ts\"\nexport * from \"./FilterDef.vue?vue&type=script&lang=ts\"\n\nimport \"./FilterDef.vue?vue&type=style&index=0&id=47a0f675&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-47a0f675\"]])\n\nexport default __exports__","\nimport { defineComponent, ref } from 'vue'\nimport FilterDef from './components/FilterDef.vue'\n\nexport default defineComponent({\n  name: 'OutputPreviewPanel',\n  components: { FilterDef },\n  setup() {\n    const sourceImageSrc = ref('./demo/assets/rinkysplash.jpg')\n\n    return {\n      sourceImageSrc\n    }\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=32c96690&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=32c96690&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-32c96690\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, vShow as _vShow, withDirectives as _withDirectives, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-a11d8ac0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"menu-bar\" }\nconst _hoisted_2 = { style: {\n        textAlign: 'left'\n      } }\nconst _hoisted_3 = { class: \"seg-content menu-entry-list\" }\nconst _hoisted_4 = [\"onMouseenter\", \"onMouseleave\"]\nconst _hoisted_5 = {\n  class: \"submenu-list\",\n  style: {\n              position: 'absolute',\n              top: `100%`,\n              left: 0\n            }\n}\nconst _hoisted_6 = [\"onMouseenter\", \"onMouseleave\", \"onClick\"]\nconst _hoisted_7 = { key: 0 }\nconst _hoisted_8 = /*#__PURE__*/_createStaticVNode(\"<div style=\\\"text-align:center;\\\" data-v-a11d8ac0><div class=\\\"seg-content\\\" data-v-a11d8ac0> SVG Filter Graph Builder </div></div><div style=\\\"text-align:right;\\\" data-v-a11d8ac0><div class=\\\"seg-content\\\" data-v-a11d8ac0><a target=\\\"_blank\\\" href=\\\"https://github.com/gogoend/svg-filter-graph-builder\\\" data-v-a11d8ac0>GitHub</a></div></div>\", 2)\n\nimport { SAVE_FILTER_SYMBOL } from '@/store/canvasStuff'\nimport { computed, inject, ref } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TopMenuBar',\n  setup(__props) {\n\nconst activeMenuIndexedById = ref<Record<string, true>>({})\nconst handleMouseenter = (id: string) => {\n  activeMenuIndexedById.value[id] = true\n}\nconst handleMouseleave = (id: string) => {\n  delete activeMenuIndexedById.value[id]\n}\n\nconst saveFilter = inject(SAVE_FILTER_SYMBOL)!\n\nconst menuTemplate = computed(() => [\n  {\n    id: 'File',\n    label: 'File',\n    subMenu: [\n      // {\n      //   id: 'Open',\n      //   label: 'Open...'\n      // },\n      {\n        id: 'Save',\n        label: 'Save',\n        onClick() {\n          saveFilter()\n        }\n      }\n      // {\n      //   id: 'Save As',\n      //   label: 'Save As'\n      // },\n      // {\n      //   id: 'Close',\n      //   label: 'Close'\n      // }\n    ]\n  },\n  {\n    id: 'Help',\n    label: 'Help',\n    subMenu: [\n      // {\n      //   id: 'About',\n      //   label: 'About'\n      // },\n      {\n        id: 'SVG Filter specification on W3C',\n        label: 'SVG Filter specification on W3C',\n        onClick() {\n          window.open('https://www.w3.org/TR/filter-effects-1/')\n        }\n      },\n      {\n        id: 'SVG Filter documents on MDN',\n        label: 'SVG Filter documents on MDN',\n        onClick() {\n          window.open('https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter')\n        }\n      },\n      {\n        id: 'Hr between spec and contact',\n        type: 'hr'\n      },\n      {\n        id: 'Issue',\n        label: 'Issue',\n        onClick() {\n          window.open('https://github.com/gogoend/svg-filter-graph-builder/issues')\n        }\n      },\n      {\n        id: 'Contact @gogoend via mail',\n        label: 'Contact @gogoend via mail',\n        onClick() {\n          window.open('mailto:gogoend@qq.com')\n        }\n      }\n    ]\n  }\n])\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"ul\", _hoisted_3, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(menuTemplate), (menu) => {\n          return (_openBlock(), _createElementBlock(\"li\", {\n            key: menu.id,\n            class: _normalizeClass([\"menu-entry-item\", {\n            'menu-entry-item__active': activeMenuIndexedById.value[menu.id]\n          }]),\n            onMouseenter: ($event: any) => (handleMouseenter(menu.id)),\n            onMouseleave: ($event: any) => (handleMouseleave(menu.id))\n          }, [\n            _createElementVNode(\"div\", null, _toDisplayString(menu.label), 1),\n            _withDirectives(_createElementVNode(\"ul\", _hoisted_5, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(menu.subMenu, (subMenu) => {\n                return (_openBlock(), _createElementBlock(\"li\", {\n                  key: subMenu.id,\n                  class: _normalizeClass([\"submenu-item\", {\n                'submenu-item--active': activeMenuIndexedById.value[subMenu.id],\n                'submenu-item__is-hr': subMenu.type === 'hr'\n              }]),\n                  onMouseenter: ($event: any) => (handleMouseenter(subMenu.id)),\n                  onMouseleave: ($event: any) => (handleMouseleave(subMenu.id)),\n                  onMousedown: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"])),\n                  onClick: _withModifiers(() => {\n                subMenu.onClick?.()\n                activeMenuIndexedById.value = {}\n              }, [\"prevent\"])\n                }, [\n                  (subMenu.type === 'hr')\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7))\n                    : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                        _createTextVNode(_toDisplayString(subMenu.label), 1)\n                      ], 64))\n                ], 42, _hoisted_6))\n              }), 128))\n            ], 512), [\n              [_vShow, activeMenuIndexedById.value[menu.id]]\n            ])\n          ], 42, _hoisted_4))\n        }), 128))\n      ])\n    ]),\n    _hoisted_8\n  ]))\n}\n}\n\n})","import script from \"./TopMenuBar.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TopMenuBar.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TopMenuBar.vue?vue&type=style&index=0&id=a11d8ac0&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a11d8ac0\"]])\n\nexport default __exports__","\nimport { defineComponent, inject } from 'vue'\nimport SvgCanvas from './components/SvgCanvas/index.vue'\nimport NodeLibraryPanel from './components/NodeLibraryPanel/index.vue'\nimport StuffConfigPanel from './components/StuffConfigPanel/index.vue'\nimport OutputPreviewPanel from './components/OutputPreviewPanel/index.vue'\nimport TopMenuBar from './components/TopMenuBar.vue'\nimport { filterLibraryPanelWidth, stuffConfigPanelWidth } from '@/config/ui'\nimport { topMenuBarHeight } from '../../config/ui'\nimport { SET_SVG_CANVAS_VM_SYMBOL } from '@/store/vmStore'\n\nexport default defineComponent({\n  name: 'AppMain',\n  components: {\n    TopMenuBar,\n    SvgCanvas,\n    NodeLibraryPanel,\n    StuffConfigPanel,\n    OutputPreviewPanel\n  },\n  setup() {\n    const setSvgCanvasVm = inject(SET_SVG_CANVAS_VM_SYMBOL)!\n    return {\n      setSvgCanvasVm,\n\n      filterLibraryPanelWidth,\n      stuffConfigPanelWidth,\n      topMenuBarHeight\n    }\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=36a38600&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=36a38600&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-36a38600\"]])\n\nexport default __exports__","\nimport { defineComponent } from 'vue'\nimport setupStore from './store'\nimport AppMain from './views/AppMain/index.vue'\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    AppMain\n  },\n  setup() {\n    setupStore()\n  }\n})\n","import { render } from \"./App.vue?vue&type=template&id=4d753cf0&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4d753cf0&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import '@/plugins/lu2'\n\nimport { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App)\n  .mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgogoend_node_link_builder\"] = self[\"webpackChunkgogoend_node_link_builder\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4254); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_app_main","_resolveComponent","_openBlock","_createBlock","_lut","i","toString","uuid","d0","Math","random","d1","d2","d3","toUpperCase","isObject","obj","set","storageName","key","value","JSON","stringify","window","setItem","get","getItem","parse","getLocal","setLocal","ALL_NODES_ON_CANVAS_SYMBOL","Symbol","ADD_NODES_SYMBOL","REMOVE_NODES_SYMBOL","ALL_LINKED_PATH_ON_CANVAS_SYMBOL","RELATIVE_PATH_MAP_INDEXED_BY_NODE_ID_SYMBOL","REMOVE_PATH_SYMBOL","ADD_PATH_SYMBOL","ADD_RELATION_IN_MAP_INDEXED_BY_NODE_ID_SYMBOL","NODE_REF_MAP_SYMBOL","SAVE_FILTER_SYMBOL","canvasStuff","nodes","ref","provide","addNode","node","id","removeNode","nodeId","nodeRefMap","nodeFormValueMap","computed","Object","entries","forEach","nodeRef","nodeConfigRef","feAttrValue","linkedPathsForSerialize","linkedPaths","relativePathMapIndexedByNodeId","addPath","path","push","from","vmId","vm","attr","to","removePath","pathId","targetIndex","findIndex","targetPath","splice","values","it","in","length","out","afterPathRemoved","addRelationInMapIndexedByNodeId","linkedPath","fromPort","toPort","unref","saveFilter","stuff","nodeForms","links","product","name","packageInfo","version","document","author","createdTime","Number","Date","modifiedTime","DRAGGING_NODE_ICON_SYMBOL","GHOST_NODE_REF_SYMBOL","draggingNode","draggingNodeIcon","ghostNodeRef","FOCUSING_NODE_SYMBOL","focusingNode","setFocusingNode","SVG_CANVAS_VM_SYMBOL","SET_SVG_CANVAS_VM_SYMBOL","vmCache","svgCanvasVm","shallowRef","setSvgCanvasVm","setupStore","focusState","vmStore","fn","_hoisted_1","class","_component_top_menu_bar","_component_svg_canvas","_component_node_library_panel","_component_stuff_config_panel","_component_output_preview_panel","_createElementBlock","_createVNode","style","_normalizeStyle","height","topMenuBarHeight","_createElementVNode","top","left","filterLibraryPanelWidth","width","stuffConfigPanelWidth","onVnodeMounted","vnode","component","proxy","right","bottom","_hoisted_2","xmlns","x","y","viewBox","_hoisted_3","_hoisted_4","_component_io_node","_component_io_path","_Fragment","_renderList","ref_for","setNodeRefMap","is","onPortStart","handlePortStart","onPortMove","handlePortMove","onPortConnect","handlePortConnect","onPortCancel","handlePortCancel","onDestinationChange","handleDestinationChange","defaultRelativePath","onNodeMove","handleNodeMove","position","$event","pathDArguments","onRemove","d","ghostPathD","ghostNodeType","ghostNodePosition","relativePaths","_createCommentVNode","_hoisted_5","transform","_component_normal_node","_component_merge_node","_component_source_node","_component_string_literal_node","_component_matrix_in_fe_color_matrix_node","_component_component_transfer_root_node","_component_component_transfer_child_node","_normalizeClass","isFocused","onMousedown","_withModifiers","args","handleNodeMousedown","onClick","handleNodeBodyClick","POINT_R","borderWidth","POINT_BORDER_W","setFeAttrEls","onMouseenter","handlePortMouseenter","_toDisplayString","undefined","includes","fe","type","mouseEventHelper","ev","handlers","start","move","up","originEl","target","handleTargetTouchEvent","removeEventListener","addEventListener","SourceGraphic","ports","SourceAlpha","feConvolveMatrix","showInConfigPanel","kernelMatrix","defaultValue","order","divisor","bias","range","targetX","targetY","edgeMode","enum","kernelUnitLength","preserveAlpha","feTurbulence","label","baseFrequency","numOctaves","stitchTiles","seed","feDropShadow","dx","dy","stdDeviation","feMerge","feOffset","feColorMatrixUsingMatrix","tag","showOnNode","join","matrixInFeColorMatrix","feColorMatrixUsingSaturate","feColorMatrixUsingHueRotate","feColorMatrixUsingLuminanceToAlpha","feTile","feDisplacementMap","in2","scale","xChannelSelector","yChannelSelector","feImage","href","feBlend","mode","feCompositeWithoutK","operator","feCompositeWithK","k1","k2","k3","k4","feFlood","feGaussianBlur","feMorphology","radius","feComponentTransfer","R","G","B","A","feFuncXUsingIdentity","feFuncXUsingTable","tableValues","feFuncXUsingLinearOrDiscrete","slope","intercept","feFuncXUsingGamma","amplitude","exponent","offset","StringLiteral","SVG_CANVAS_RECT_SYMBOL","getPortElType","el","dataset","portType","isPortEl","vnode2dom","props","children","rootEl","createElementNS","keys","String","setAttribute","Array","isArray","child","append","getTopoOrder","paths","inDegree","Map","graph","fromVm","toVm","has","queue","result","cur","shift","toEnQueue","item","noop","_args","r","inject","ioNodeEl","feAttrEls","onBeforeUpdate","allDescendants","orderedAllDescendants","filterThumbUrl","prefix","h","map","index","getVNodeFragment","template","outerHTML","encodeURIComponent","HANDLE_LENGTH","PATH_STROKE_W","defineComponent","required","setup","useIoNode","foreignPortValue","newValueMap","p","mergedFeAttrValue","nodeAttrs","prototype","hasOwnProperty","call","console","log","afterPathConnected","__exports__","_withScopeId","n","_pushScopeId","_popScopeId","parentVm","getCurrentInstance","parent","find","removedPath","filter","readonly","_withDirectives","_vModelText","lazy","_","arr","fill","childVNodeAttrMap","assign","IoNode","components","NormalNode","MergeNode","SourceNode","StringLiteralNode","MatrixInFeColorMatrixNode","ComponentTransferRootNode","ComponentTransferChildNode","emit","svgCanvasRect","clickedRelativePosition","canvasScrollEl","currentPosition","getBoundingClientRect","pageX","scrollLeft","pageY","scrollTop","newPosition","nextTick","handlePortMouseout","Set","innerLoop","add","allInPaths","focused","onFocus","onBlur","strokeWidth","pathD","handlePathClick","cx","cy","title","$emit","dArgs","pathRef","getPointAtLength","getTotalLength","handlePathBlur","checkLoop","hasLoop","checkDuplicateLink","duplicatedLinks","assertPortCanBeConnected","TypeError","async","getNodes","Promise","resolve","setTimeout","getNodeValueMap","getLinks","useLayoutCache","elRect","ro","ResizeObserver","entry","observer","onMounted","observe","$el","onBeforeUnmount","disconnect","IoPath","ghostPathDArguments","feAttr","coord","slice","err","error","addNodes","loadCanvasFromSerializedStatus","nodeFormValues","all","nodeFormValue","hasOwn","newIt","structuredClone","querySelector","fromPortCoord","toPortCoord","menuGroup","group","icon","handleIconMousedown","clientX","clientY","_component_form_item","formFieldConfig","port","schema","_defineComponent","__name","fieldId","__props","fieldValueIsFromForeignPort","resolveValueFromForeignPort","commonInputComponentAttrs","disabled","onChange","stopPropagation","_unref","_mergeProps","min","max","size","option","FormItem","_component_filter_def","src","sourceImageSrc","filterElId","renderOfOrderedAllDescendants","_resolveDynamicComponent","allOrderedDescendants","FilterDef","textAlign","_hoisted_6","_hoisted_7","_hoisted_8","_createStaticVNode","activeMenuIndexedById","handleMouseenter","handleMouseleave","menuTemplate","subMenu","open","menu","onMouseleave","_createTextVNode","_vShow","TopMenuBar","SvgCanvas","NodeLibraryPanel","StuffConfigPanel","OutputPreviewPanel","AppMain","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","definition","o","defineProperty","enumerable","g","globalThis","this","Function","e","prop","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}