{"version":3,"file":"js/app.14a72c37.js","mappings":"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","sources":["webpack://@gogoend/svg-filter-graph-builder/./src/config/product.ts","webpack://@gogoend/svg-filter-graph-builder/./src/plugins/log.ts","webpack://@gogoend/svg-filter-graph-builder/./src/plugins/db/init-gogoend-products-db.ts","webpack://@gogoend/svg-filter-graph-builder/./src/utils/uuid.ts","webpack://@gogoend/svg-filter-graph-builder/./src/plugins/db/init-product-db.ts","webpack://@gogoend/svg-filter-graph-builder/./src/plugins/error-handler.ts","webpack://@gogoend/svg-filter-graph-builder/./src/plugins/element-plus.ts","webpack://@gogoend/svg-filter-graph-builder/./src/App.vue?f947","webpack://@gogoend/svg-filter-graph-builder/./src/store/canvasStuff.ts","webpack://@gogoend/svg-filter-graph-builder/./src/store/draggingNode.ts","webpack://@gogoend/svg-filter-graph-builder/./src/store/focusState.ts","webpack://@gogoend/svg-filter-graph-builder/./src/store/vmStore.ts","webpack://@gogoend/svg-filter-graph-builder/./src/components/FileChooser/FileList.vue?fdd4","webpack://@gogoend/svg-filter-graph-builder/./src/components/FileChooser/FileList.vue","webpack://@gogoend/svg-filter-graph-builder/./src/components/FileChooser/index.ts","webpack://@gogoend/svg-filter-graph-builder/./src/config/samples.ts","webpack://@gogoend/svg-filter-graph-builder/./src/store/projectInfoState.ts","webpack://@gogoend/svg-filter-graph-builder/./src/store/pwa.ts","webpack://@gogoend/svg-filter-graph-builder/./src/store/index.ts","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/index.vue?0967","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/index.vue?932c","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/index.vue?5849","webpack://@gogoend/svg-filter-graph-builder/./src/utils/mouse-event-helper.ts","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/fe-definition-config.ts","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/type.ts","webpack://@gogoend/svg-filter-graph-builder/./src/utils/index.ts","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/NormalNode.vue?c44a","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/hooks/useIoNode.ts","webpack://@gogoend/svg-filter-graph-builder/./src/config/ui.ts","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/NormalNode.vue?74b1","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/NormalNode.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/MergeNode.vue?d8ec","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/MergeNode.vue?1407","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/MergeNode.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/SourceNode.vue?ae84","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/SourceNode.vue?66be","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/SourceNode.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/StringLiteralNode.vue?dcc4","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/StringLiteralNode.vue?8e32","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/StringLiteralNode.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/MatrixInFeColorMatrixNode.vue?0a32","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/MatrixInFeColorMatrixNode.vue?9015","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/MatrixInFeColorMatrixNode.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/ComponentTransferRootNode.vue?f063","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/ComponentTransferRootNode.vue?f1fc","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/ComponentTransferRootNode.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/ComponentTransferChildNode.vue?02f5","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/ComponentTransferChildNode.vue?920b","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/components/ComponentTransferChildNode.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/index.vue?1d33","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoNode/index.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoPath/index.vue?dd9b","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoPath/index.vue?1d7f","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/components/IoPath/index.vue","webpack://@gogoend/svg-filter-graph-builder/./src/utils/link-validator.ts","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/hooks/useLayoutCache.ts","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/index.vue?b987","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvas/index.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvasOverlayTip.vue?ea91","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/SvgCanvasOverlayTip.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/NodeLibraryPanel/index.vue?fdbe","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/NodeLibraryPanel/index.vue?42a7","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/NodeLibraryPanel/index.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/StuffConfigPanel/index.vue?65d7","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/StuffConfigPanel/components/FormItem.vue?5bdb","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/StuffConfigPanel/components/FormItem.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/StuffConfigPanel/index.vue?0011","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/StuffConfigPanel/index.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/OutputPreviewPanel/index.vue?470b","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/OutputPreviewPanel/components/FilterDef.vue?c1e8","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/OutputPreviewPanel/components/FilterDef.vue?af7e","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/OutputPreviewPanel/components/FilterDef.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/OutputPreviewPanel/index.vue?0b35","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/OutputPreviewPanel/index.vue","webpack://@gogoend/svg-filter-graph-builder/./src/config/project.ts","webpack://@gogoend/svg-filter-graph-builder/./src/components/AboutDialog/AboutContent.vue?ab95","webpack://@gogoend/svg-filter-graph-builder/./src/components/AboutDialog/AboutContent.vue","webpack://@gogoend/svg-filter-graph-builder/./src/components/AboutDialog/index.ts","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/TopMenuBar.vue?4bbc","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/TopMenuBar.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/PingPing.vue?7db5","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/components/PingPing.vue","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/index.vue?a1a3","webpack://@gogoend/svg-filter-graph-builder/./src/views/AppMain/index.vue","webpack://@gogoend/svg-filter-graph-builder/./src/App.vue?847a","webpack://@gogoend/svg-filter-graph-builder/./src/App.vue","webpack://@gogoend/svg-filter-graph-builder/./src/utils/event-doer.ts","webpack://@gogoend/svg-filter-graph-builder/./src/registerServiceWorker.ts","webpack://@gogoend/svg-filter-graph-builder/./src/directives/pingping.ts","webpack://@gogoend/svg-filter-graph-builder/./src/main.ts","webpack://@gogoend/svg-filter-graph-builder/webpack/bootstrap","webpack://@gogoend/svg-filter-graph-builder/webpack/runtime/chunk loaded","webpack://@gogoend/svg-filter-graph-builder/webpack/runtime/compat get default export","webpack://@gogoend/svg-filter-graph-builder/webpack/runtime/define property getters","webpack://@gogoend/svg-filter-graph-builder/webpack/runtime/global","webpack://@gogoend/svg-filter-graph-builder/webpack/runtime/hasOwnProperty shorthand","webpack://@gogoend/svg-filter-graph-builder/webpack/runtime/make namespace object","webpack://@gogoend/svg-filter-graph-builder/webpack/runtime/jsonp chunk loading","webpack://@gogoend/svg-filter-graph-builder/webpack/startup"],"sourcesContent":["import packageInfo from '../../package.json'\n\nexport const PRODUCT_NAME = (() => {\n  const packageNameSeg = packageInfo.name.split('/')\n  return packageNameSeg[packageNameSeg.length - 1]\n})()\n","import { logsTable, appTable } from './db'\n\nenum LogLevel {\n  ERROR = 1,\n  WARNING = 2,\n  LOG = 3,\n  DEBUG = 4\n}\n\nconst LOG_LEVEL_WRITE_TO_DB = 3\n\nconst preProcessLogArguments = (...args: unknown[]) => {\n  const result: any[] = []\n  args.forEach(it => {\n    if (\n      ['string', 'number', 'boolean', 'undefined', 'bigint'].includes(typeof it) || it === null\n    ) {\n      result.push(it)\n    } else if (typeof it === 'symbol') {\n      result.push(`Symbol(${it.description})`)\n    } else if (typeof it === 'function') {\n      result.push(it.toString())\n    } else if (it instanceof Error) {\n      result.push({\n        message: it.message,\n        stack: it.stack\n      })\n    } else {\n      let serializedObject: Record<any, any> = {}\n      try {\n        // TODO: 处理Vue组件时，会出现死循环的情况\n        serializedObject = JSON.parse(\n          JSON.stringify(\n            it\n          )\n        )\n      } catch (err) {\n        result.push({\n          message: (err as Error).message,\n          stack: (err as Error).stack\n        })\n      }\n      result.push(serializedObject)\n    }\n  })\n\n  return result\n}\n\nconst gogoendLog = {\n  async debug(...args: any) {\n    const returnValue = console.log(...args)\n    LOG_LEVEL_WRITE_TO_DB >= LogLevel.DEBUG && await logsTable.add(\n      preProcessLogArguments(\n        LogLevel[LogLevel.DEBUG],\n        Number(new Date()),\n        (await appTable.get('lastUserProfileId'))?.value,\n        ...args\n      )\n    )\n    return returnValue\n  },\n  async log(...args: any) {\n    const returnValue = console.log(...args)\n    LOG_LEVEL_WRITE_TO_DB >= LogLevel.LOG && await logsTable.add(\n      preProcessLogArguments(\n        LogLevel[LogLevel.LOG],\n        Number(new Date()),\n        (await appTable.get('lastUserProfileId'))?.value,\n        ...args\n      )\n    )\n    return returnValue\n  },\n  async warn(...args: any) {\n    const returnValue = console.warn(...args)\n    LOG_LEVEL_WRITE_TO_DB >= LogLevel.WARNING && await logsTable.add(\n      preProcessLogArguments(\n        LogLevel[LogLevel.WARNING],\n        Number(new Date()),\n        (await appTable.get('lastUserProfileId'))?.value,\n        ...args\n      )\n    )\n    return returnValue\n  },\n  async error(...args: any) {\n    const returnValue = console.error(...args)\n    LOG_LEVEL_WRITE_TO_DB >= LogLevel.ERROR && await logsTable.add(\n      preProcessLogArguments(\n        LogLevel[LogLevel.ERROR],\n        Number(new Date()),\n        (await appTable.get('lastUserProfileId'))?.value,\n        ...args\n      )\n    )\n    return returnValue\n  }\n}\n\nexport default gogoendLog\n\n","import { PRODUCT_NAME } from '@/config/product'\nimport Dexie from 'dexie'\nimport packageInfo from '../../../package.json'\nimport gogoendLog from '../log'\n\nexport const gogoendDb = new Dexie('gogoend')\ngogoendDb.version(1).stores({\n  products: 'id,name'\n})\ngogoendDb.table('products')\n  .where('id')\n  .equals(PRODUCT_NAME)\n  .toArray()\n  .then(res => {\n    if (res.length === 0) {\n      return gogoendDb.table('products').add(\n        {\n          id: PRODUCT_NAME,\n          name: 'SVG滤镜节点编辑器',\n          version: packageInfo.version,\n          buildVersion: 1\n        }\n      )\n    }\n  })\n  .catch(err => {\n    gogoendLog.error(err)\n  })\n","const _lut: string[] = []\nfor (let i = 0; i < 256; i++) {\n  _lut[i] = (i < 16 ? '0' : '') + i.toString(16)\n}\nexport function uuid(): string {\n  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n  const d0 = Math.random() * 0xffffffff | 0\n  const d1 = Math.random() * 0xffffffff | 0\n  const d2 = Math.random() * 0xffffffff | 0\n  const d3 = Math.random() * 0xffffffff | 0\n  const uuid = _lut[d0 & 0xff] + _lut[d0 >> 8 & 0xff] + _lut[d0 >> 16 & 0xff] + _lut[d0 >> 24 & 0xff] + '-' + _lut[d1 & 0xff] + _lut[d1 >> 8 & 0xff] + '-' + _lut[d1 >> 16 & 0x0f | 0x40] + _lut[d1 >> 24 & 0xff] + '-' + _lut[d2 & 0x3f | 0x80] + _lut[d2 >> 8 & 0xff] + '-' + _lut[d2 >> 16 & 0xff] + _lut[d2 >> 24 & 0xff] + _lut[d3 & 0xff] + _lut[d3 >> 8 & 0xff] + _lut[d3 >> 16 & 0xff] + _lut[d3 >> 24 & 0xff] // .toUpperCase() here flattens concatenated strings to save heap memory space.\n\n  return uuid.toUpperCase()\n}\n","import { PRODUCT_NAME } from '@/config/product'\nimport { uuid } from '@/utils/uuid'\nimport Dexie from 'dexie'\nimport gogoendLog from '../log'\n\ntype BizTable = {\n  files: Dexie.Table<{id: string}, 'id'>\n  userProfiles: Dexie.Table<{id: string}, 'id'>\n  logs: Dexie.Table<{id: number}, 'id'>,\n  app: Dexie.Table\n}\nexport const currentProductBb = new Dexie(PRODUCT_NAME) as unknown as Dexie & BizTable\n\ncurrentProductBb.version(2).stores({\n  'files': 'id',\n  'userProfiles': 'id',\n  'logs': '++id',\n  'app': 'key'\n})\n\ncurrentProductBb.table('userProfiles')\n  .toArray()\n  .then(res => {\n    if (res.length === 0) {\n      return currentProductBb.table('userProfiles').add(\n        {\n          id: uuid(),\n          name: 'Default User',\n          createdTime: Number(new Date()),\n          lastModifiedTime: Number(new Date())\n        }\n      )\n    }\n  })\n  .then(() => {\n    return currentProductBb.table('app').get('lastUserProfileId')\n  })\n  .then((res) => {\n    if (!res) {\n      return currentProductBb.table('userProfiles').toCollection().first()\n    } else {\n      return currentProductBb.table('userProfiles').get(res.value)\n    }\n  })\n  .then((res) => {\n    return currentProductBb.table('app').put({\n      key: 'lastUserProfileId',\n      value: res.id\n    }, ['key'])\n  })\n  .catch(err => {\n    gogoendLog.error(err)\n  })\n\nexport const fileStorage = currentProductBb.table('files')\nexport const userProfileStorage = currentProductBb.table('userProfiles')\nexport const logsTable = currentProductBb.table('logs')\nexport const appTable = currentProductBb.table('app')\n","import gogoendLog from './log'\n\nwindow.addEventListener(\n  'error',\n  (ev: ErrorEvent) => {\n    gogoendLog.error(ev.error)\n    ev.preventDefault()\n  }\n)\n\nwindow.addEventListener(\n  'unhandledrejection',\n  (ev: PromiseRejectionEvent) => {\n    gogoendLog.error(ev.reason)\n    ev.preventDefault()\n  }\n)\n","import 'element-plus/es/components/icon/style/index'\n\nimport { ElIcon } from 'element-plus/es/components/icon/index'\nimport * as ElementPlusIconsVue from '@element-plus/icons-vue'\n\nimport { App } from 'vue'\n\nexport default {\n  install(app: App) {\n    app.component('ElIcon', ElIcon)\n    for (const [key, component] of Object.entries(ElementPlusIconsVue)) {\n      app.component(key, component)\n    }\n  }\n}\n","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_app_main = _resolveComponent(\"app-main\")!\n\n  return (_openBlock(), _createBlock(_component_app_main))\n}","import { NodeInStore } from '@/schema/IoNode'\nimport { Path } from '@/views/AppMain/components/SvgCanvas/type'\nimport { Ref, ref, InjectionKey, provide, unref, computed, inject, getCurrentInstance, ComputedRef } from 'vue'\nimport IoNode from '@/views/AppMain/components/SvgCanvas/components/IoNode/index.vue'\n\nexport const ALL_NODES_ON_CANVAS_SYMBOL: InjectionKey<Ref<Record<NodeInStore['id'], NodeInStore>>> = Symbol('Canvas上的所有节点')\nexport const ADD_NODE_SYMBOL: InjectionKey<(node: NodeInStore) => void> = Symbol('添加节点函数')\nexport const REMOVE_NODE_SYMBOL: InjectionKey<(nodeId: string) => void> = Symbol('移除节点函数')\n\nexport const ALL_LINKED_PATH_ON_CANVAS_SYMBOL: InjectionKey<Ref<Path[]>> = Symbol('Canvas上的所有连线')\n\nexport const RELATIVE_PATH_MAP_INDEXED_BY_NODE_ID_SYMBOL: InjectionKey<Ref<Record<string, any>>> = Symbol('节点对应所有出、入连线的映射关系')\nexport const REMOVE_PATH_SYMBOL: InjectionKey<(pathId: string) => void> = Symbol('删除连线函数')\nexport const ADD_PATH_SYMBOL: InjectionKey<(path: Path) => void> = Symbol('添加连线函数')\n\nexport const ADD_RELATION_IN_MAP_INDEXED_BY_NODE_ID_SYMBOL: InjectionKey<(\n  linkedPath: any,\n  fromPort: any,\n  toPort: any\n) => void> = Symbol('向 节点id->出、入连线 的映射中添加连线关系')\n\nexport const NODE_REF_MAP_SYMBOL: InjectionKey<Ref<Record<string, InstanceType<typeof IoNode>>>> = Symbol('Node组件映射')\nexport const NODE_FORM_VALUE_TYPE_SYMBOL: InjectionKey<ComputedRef<Record<string, Record<string, string>>>> = Symbol('各节点表单内容')\nexport const LINKED_PATHS_FOR_SERIALIZE_SYMBOL: InjectionKey<Record<string, any>> = Symbol('序列化的连线')\n\nexport const EMPTY_CANVAS_STUFF_SYMBOL: InjectionKey<() => void> = Symbol('清空Canvas上的所有内容')\n\nexport default function canvasStuff() {\n  const { $eventHub: appEventHub } = getCurrentInstance()!.appContext.config.globalProperties\n\n  const nodes = ref<Record<NodeInStore['id'], NodeInStore>>({})\n  provide(ALL_NODES_ON_CANVAS_SYMBOL, nodes)\n\n  const addNode = (node: NodeInStore) => {\n    nodes.value[node.id] = node\n  }\n  provide(ADD_NODE_SYMBOL, addNode)\n\n  // 解除所有与当前节点相关的链接\n  const unlinkNode = (nodeId: string) => {\n    const idOfPathsWillBeRemoved = [\n      ...(relativePathMapIndexedByNodeId.value[nodeId]?.in?.map(it => it.id) ?? []),\n      ...(relativePathMapIndexedByNodeId.value[nodeId]?.out?.map(it => it.id) ?? [])\n    ]\n\n    idOfPathsWillBeRemoved.forEach(pathId => {\n      removePath(pathId)\n    })\n\n    delete relativePathMapIndexedByNodeId.value[nodeId]\n  }\n  const removeNode = (nodeId: string) => {\n    unlinkNode(nodeId)\n    delete nodes.value[nodeId]\n    appEventHub.emit(\n      'svg-canvas:node-removed',\n      nodeId\n    )\n  }\n  provide(REMOVE_NODE_SYMBOL, removeNode)\n\n  const nodeRefMap = ref<Record<string, InstanceType<typeof IoNode>>>({})\n  provide(NODE_REF_MAP_SYMBOL, nodeRefMap)\n\n  const nodeFormValueMap = computed(() => {\n    const nodeFormValueMap: Record<string, Record<string, string>> = {}\n\n    Object.entries(nodeRefMap.value).forEach(\n      ([nodeId, nodeRef]) => {\n        nodeFormValueMap[nodeId] = nodeRef.nodeConfigRef.feAttrValue as Record<number| string, string>\n      }\n    )\n\n    return nodeFormValueMap\n  })\n  provide(NODE_FORM_VALUE_TYPE_SYMBOL, nodeFormValueMap)\n\n  const linkedPathsForSerialize = ref<Record<string, any>>({})\n  provide(LINKED_PATHS_FOR_SERIALIZE_SYMBOL, linkedPathsForSerialize)\n\n  const linkedPaths = ref<Path[]>([])\n  provide(ALL_LINKED_PATH_ON_CANVAS_SYMBOL, linkedPaths)\n\n  const relativePathMapIndexedByNodeId = ref<Record<string, {\n    in: Path[],\n    out: Path[]\n  }>>({})\n  provide(RELATIVE_PATH_MAP_INDEXED_BY_NODE_ID_SYMBOL, relativePathMapIndexedByNodeId)\n\n  const addPath = (path: Path) => {\n    linkedPaths.value.push(path)\n    linkedPathsForSerialize.value[path.id] = {\n      id: path.id,\n      from: {\n        vmId: path.from.vm.nodeId,\n        attr: path.from.attr\n      },\n      to: {\n        vmId: path.to.vm.nodeId,\n        attr: path.to.attr\n      }\n    }\n  }\n  provide(ADD_PATH_SYMBOL, addPath)\n\n  const removePath = (pathId: string) => {\n    const targetIndex = linkedPaths.value.findIndex(path => path.id === pathId)\n    const [targetPath] = linkedPaths.value.splice(targetIndex, 1)\n\n    delete linkedPathsForSerialize.value[pathId]\n\n    Object.values(relativePathMapIndexedByNodeId.value).forEach(\n      it => {\n        for (let i = 0; i < it.in.length;) {\n          if (it.in[i].id === pathId) {\n            it.in.splice(i, 1)\n            continue\n          }\n          i++\n        }\n        for (let i = 0; i < it.out.length;) {\n          if (it.out[i].id === pathId) {\n            it.out.splice(i, 1)\n            continue\n          }\n          i++\n        }\n      }\n    )\n    targetPath.to.vm.afterPathRemoved?.(targetPath)\n  }\n  provide(REMOVE_PATH_SYMBOL, removePath)\n\n  const addRelationInMapIndexedByNodeId = (\n    linkedPath: any,\n    fromPort: any,\n    toPort: any\n  ) => {\n    if (!relativePathMapIndexedByNodeId.value[unref(fromPort)!.vm.nodeId]) {\n      relativePathMapIndexedByNodeId.value[unref(fromPort)!.vm.nodeId] = {\n        in: [],\n        out: []\n      }\n    }\n    relativePathMapIndexedByNodeId.value[unref(fromPort)!.vm.nodeId].out.push(linkedPath)\n\n    if (!relativePathMapIndexedByNodeId.value[unref(toPort)!.vm.nodeId]) {\n      relativePathMapIndexedByNodeId.value[unref(toPort)!.vm.nodeId] = {\n        in: [],\n        out: []\n      }\n    }\n    relativePathMapIndexedByNodeId.value[unref(toPort).vm.nodeId].in.push(linkedPath)\n  }\n  provide(ADD_RELATION_IN_MAP_INDEXED_BY_NODE_ID_SYMBOL, addRelationInMapIndexedByNodeId)\n\n  const emptyCanvasStuff = () => {\n    Object.keys(nodes.value).forEach(nodeId => {\n      removeNode(nodeId)\n    })\n  }\n  provide(EMPTY_CANVAS_STUFF_SYMBOL, emptyCanvasStuff)\n}\n\n","\nimport { Ref, ref, InjectionKey, provide } from 'vue'\nimport IoNode from '@/views/AppMain/components/SvgCanvas/components/IoNode/index.vue'\n\nexport const DRAGGING_NODE_ICON_SYMBOL: InjectionKey<Ref<string | null>> = Symbol('正在拖拽的项目')\nexport const GHOST_NODE_REF_SYMBOL: InjectionKey<Ref<InstanceType<typeof IoNode> | null>> = Symbol('鬼影节点引用')\n\nexport default function draggingNode() {\n  const draggingNodeIcon = ref<string | null>(null)\n  provide(DRAGGING_NODE_ICON_SYMBOL, draggingNodeIcon)\n\n  const ghostNodeRef = ref<InstanceType<typeof IoNode> | null>(null)\n  provide(GHOST_NODE_REF_SYMBOL, ghostNodeRef)\n}\n","\nimport { Ref, ref, InjectionKey, provide, getCurrentInstance, onMounted, nextTick } from 'vue'\nimport { OverwrittenIoNodeType } from '@/views/AppMain/components/SvgCanvas/type'\n\nexport const FOCUSING_NODE_SYMBOL: InjectionKey<\n  [Ref<OverwrittenIoNodeType | null>, (node: OverwrittenIoNodeType) => void]\n> = Symbol('被聚焦的节点')\n\nexport default function draggingNode() {\n  const focusingNode = ref<OverwrittenIoNodeType | null>(null)\n  const setFocusingNode = (node: OverwrittenIoNodeType | null) => { focusingNode.value = node }\n\n  const { $eventHub: appEventHub } = getCurrentInstance()!.appContext.config.globalProperties\n\n  appEventHub.on(\n    'svg-canvas:node-removed',\n    (nodeId: string) => {\n      // 如果当前选择的节点是已经选中的节点，则将选中节点的值置为null\n      if (focusingNode.value?.nodeId === nodeId) {\n        setFocusingNode(null)\n      }\n    }\n  )\n\n  provide(FOCUSING_NODE_SYMBOL, [\n    focusingNode,\n    setFocusingNode\n  ])\n}\n","import { InjectionKey, provide, shallowRef, ShallowRef } from 'vue'\nimport SvgCanvas from '@/views/AppMain/components/SvgCanvas/index.vue'\n\nexport const SVG_CANVAS_VM_SYMBOL: InjectionKey<ShallowRef<InstanceType<typeof SvgCanvas>>> = Symbol('SvgCanvas组件实例')\nexport const SET_SVG_CANVAS_VM_SYMBOL: InjectionKey<(vm: InstanceType<typeof SvgCanvas>) => void> = Symbol('设置SvgCanvas组件实例')\n\nexport default function vmCache() {\n  const svgCanvasVm = shallowRef<InstanceType<typeof SvgCanvas>>()\n  provide(\n    SVG_CANVAS_VM_SYMBOL,\n    svgCanvasVm\n  )\n\n  const setSvgCanvasVm = (vm: InstanceType<typeof SvgCanvas>) => {\n    svgCanvasVm.value = vm\n  }\n  provide(\n    SET_SVG_CANVAS_VM_SYMBOL,\n    setSvgCanvasVm\n  )\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, createElementVNode as _createElementVNode, withDirectives as _withDirectives, withModifiers as _withModifiers, resolveDynamicComponent as _resolveDynamicComponent, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7a3fd6c0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"file-list\" }\nconst _hoisted_2 = [\"value\"]\nconst _hoisted_3 = { class: \"file-list__footer\" }\nconst _hoisted_4 = [\"disabled\"]\n\nimport { ref } from 'vue'\n\nimport { fileStorage } from '@/plugins/db'\nimport { ProjectFile } from '@/schema/ProjectFile'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FileList',\n  props: {\n  handleConfirm: {\n    type: Function,\n    required: true\n  },\n  handleCancel: {\n    type: Function,\n    required: true\n  }\n},\n  setup(__props) {\n\n\n\nconst fileList = ref<ProjectFile[]>([])\nconst selectedValue = ref('')\n\nconst getFilterFileListFromDb = async() => {\n  return await fileStorage.toArray()\n}\n\ngetFilterFileListFromDb().then((res) => {\n  fileList.value = res\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"form\", {\n      class: \"file-list__form\",\n      onSubmit: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"]))\n    }, [\n      _withDirectives(_createElementVNode(\"select\", {\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((selectedValue).value = $event)),\n        class: \"file-list__select\"\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(fileList.value, (file, index) => {\n          return (_openBlock(), _createElementBlock(\"option\", {\n            key: index,\n            value: file.id\n          }, _toDisplayString(file.project.name), 9, _hoisted_2))\n        }), 128))\n      ], 512), [\n        [_vModelSelect, selectedValue.value]\n      ])\n    ], 32),\n    (_openBlock(), _createBlock(_resolveDynamicComponent('template'), { class: \"file-list__footer-template\" }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"button\", {\n            is: \"ui-button\",\n            disabled: !selectedValue.value,\n            onClick: _cache[2] || (_cache[2] = _withModifiers(($event: any) => (__props.handleConfirm(selectedValue.value)), [\"prevent\"]))\n          }, \"Open\", 8, _hoisted_4),\n          _createElementVNode(\"button\", {\n            is: \"ui-button\",\n            onClick: _cache[3] || (_cache[3] = _withModifiers(($event: any) => (__props.handleCancel()), [\"prevent\"]))\n          }, \"Cancel\")\n        ])\n      ]),\n      _: 1\n    }))\n  ]))\n}\n}\n\n})","import script from \"./FileList.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./FileList.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./FileList.vue?vue&type=style&index=0&id=7a3fd6c0&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7a3fd6c0\"]])\n\nexport default __exports__","import FileList from './FileList.vue'\n\nimport LuDialog from 'lu2/theme/edge/js/common/ui/Dialog'\nimport { App, createApp, nextTick } from 'vue'\n\nexport function getSelectFileWaitee() {\n  let app: App<Element> | null = null\n\n  let resolvePromise: (...args: any[]) => void\n  let rejectPromise: (err?: unknown) => void\n  const waitee = new Promise<string>((resolve, reject) => {\n    resolvePromise = resolve\n    rejectPromise = reject\n  })\n\n  new LuDialog({\n    title: 'Choose a file',\n    content: `<div class=\"file-chooser-dialog\" />`,\n    async onShow() {\n      const el = this.querySelector('.file-chooser-dialog')! as HTMLDivElement\n      app = createApp(\n        FileList, {\n          handleConfirm: (selectedFileIdentifier: string) => {\n            resolvePromise(selectedFileIdentifier)\n            this.hide()\n          },\n          handleCancel: () => {\n            rejectPromise(new Error('[File Chooser] 用户没有选择文件'))\n            this.hide()\n          }\n        }\n      )\n      app.mount(\n        el\n      )\n      await nextTick()\n      const footerElOfLuDialog = this.querySelector('.ui-dialog-footer') as HTMLElement\n      const footerTemplateInFileVm = this.querySelector('.file-list__footer-template') as HTMLElement\n\n      while (footerTemplateInFileVm.children.length) {\n        footerElOfLuDialog.appendChild(footerTemplateInFileVm.children[0])\n      }\n    },\n    onHide() {\n      app!.unmount()\n      app = null\n      this.remove()\n    }\n  })\n\n  return waitee\n}\n","import { ProjectFile } from '@/schema/ProjectFile'\n\nconst helloWorld: ProjectFile = {\n  id: 'CAF2FD8E-77B0-4A5B-A967-C301614D0DEB',\n  stuff: {\n    nodes: {\n      '040822F7-D416-4325-B428-8BE8433B166C': {\n        is: 'feComponentTransfer',\n        id: '040822F7-D416-4325-B428-8BE8433B166C',\n        position: [285.00372314453125, 54.0089111328125]\n      },\n      '0D126B0D-841E-4193-95F1-D67412EFAD6E': {\n        is: 'SourceGraphic',\n        id: '0D126B0D-841E-4193-95F1-D67412EFAD6E',\n        position: [30.000030517578125, 20.00787353515625]\n      },\n      'A432BA04-FCA6-4546-9E01-188D4125BB6B': {\n        is: 'feMorphology',\n        id: 'A432BA04-FCA6-4546-9E01-188D4125BB6B',\n        position: [525.0057983398438, 51.008575439453125]\n      },\n      '6EF3BF7F-03DE-4D91-AB81-8D1B0E8F340D': {\n        is: 'feFuncXUsingGamma',\n        id: '6EF3BF7F-03DE-4D91-AB81-8D1B0E8F340D',\n        position: [30, 104.00851440429688]\n      },\n      'E4B91ED1-5995-48A1-8574-F352B937FE2E': {\n        is: 'feBlend',\n        id: 'E4B91ED1-5995-48A1-8574-F352B937FE2E',\n        position: [1026.0023193359375, 8.00787353515625]\n      },\n      '547A7FE0-3D96-4932-9683-0D5936C5CEF0': {\n        is: 'feColorMatrixUsingMatrix',\n        id: '547A7FE0-3D96-4932-9683-0D5936C5CEF0',\n        position: [763, 65]\n      },\n      '509C12B3-D2B1-478D-9335-5697A716D24E': {\n        is: 'matrixInFeColorMatrix',\n        id: '509C12B3-D2B1-478D-9335-5697A716D24E',\n        position: [494, 197]\n      },\n      'CC8C51D7-5C24-4E44-B25E-FD8A6483A77C': {\n        is: 'StringLiteral',\n        id: 'CC8C51D7-5C24-4E44-B25E-FD8A6483A77C',\n        position: [753, 265]\n      }\n    },\n    nodeForms: {\n      '040822F7-D416-4325-B428-8BE8433B166C': {},\n      'A432BA04-FCA6-4546-9E01-188D4125BB6B': {\n        in: '',\n        operator: 'dilate',\n        radius: '5.8'\n      },\n      '6EF3BF7F-03DE-4D91-AB81-8D1B0E8F340D': {},\n      'E4B91ED1-5995-48A1-8574-F352B937FE2E': {\n        in: '',\n        in2: '',\n        mode: 'hard-light'\n      },\n      '547A7FE0-3D96-4932-9683-0D5936C5CEF0': {\n        in: '',\n        type: 'matrix',\n        values: '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0'\n      },\n      '509C12B3-D2B1-478D-9335-5697A716D24E': [\n        '1',\n        '0',\n        0,\n        '0',\n        0,\n        '0',\n        '1.1',\n        '0',\n        0,\n        0,\n        '0',\n        '0',\n        '1',\n        '0',\n        0,\n        0,\n        0,\n        '0',\n        '1',\n        0\n      ],\n      'CC8C51D7-5C24-4E44-B25E-FD8A6483A77C': {\n        value: 'hard-light'\n      }\n    },\n    links: {\n      '8FD762D2-9CBF-4272-A9AA-C2F597E218CB': {\n        id: '8FD762D2-9CBF-4272-A9AA-C2F597E218CB',\n        from: {\n          vmId: '0D126B0D-841E-4193-95F1-D67412EFAD6E',\n          attr: 'result'\n        },\n        to: {\n          vmId: '040822F7-D416-4325-B428-8BE8433B166C',\n          attr: 'in'\n        }\n      },\n      '6A85F753-933F-43F2-87D2-B9E59159E0DE': {\n        id: '6A85F753-933F-43F2-87D2-B9E59159E0DE',\n        from: {\n          vmId: '040822F7-D416-4325-B428-8BE8433B166C',\n          attr: 'result'\n        },\n        to: {\n          vmId: 'A432BA04-FCA6-4546-9E01-188D4125BB6B',\n          attr: 'in'\n        }\n      },\n      'B634C54D-646D-49F2-BD68-D28001BA1E72': {\n        id: 'B634C54D-646D-49F2-BD68-D28001BA1E72',\n        from: {\n          vmId: '6EF3BF7F-03DE-4D91-AB81-8D1B0E8F340D',\n          attr: 'result'\n        },\n        to: {\n          vmId: '040822F7-D416-4325-B428-8BE8433B166C',\n          attr: 'B'\n        }\n      },\n      'AE0B9E89-5332-4B9E-A87D-70E367E93BC9': {\n        id: 'AE0B9E89-5332-4B9E-A87D-70E367E93BC9',\n        from: {\n          vmId: '0D126B0D-841E-4193-95F1-D67412EFAD6E',\n          attr: 'result'\n        },\n        to: {\n          vmId: 'E4B91ED1-5995-48A1-8574-F352B937FE2E',\n          attr: 'in'\n        }\n      },\n      'A71F700A-465C-4358-8D6F-A6E3B4E3DA61': {\n        id: 'A71F700A-465C-4358-8D6F-A6E3B4E3DA61',\n        from: {\n          vmId: '509C12B3-D2B1-478D-9335-5697A716D24E',\n          attr: 'result'\n        },\n        to: {\n          vmId: '547A7FE0-3D96-4932-9683-0D5936C5CEF0',\n          attr: 'values'\n        }\n      },\n      '7EAEA517-FEA0-4B18-87DE-854CBFB9EA8B': {\n        id: '7EAEA517-FEA0-4B18-87DE-854CBFB9EA8B',\n        from: {\n          vmId: 'A432BA04-FCA6-4546-9E01-188D4125BB6B',\n          attr: 'result'\n        },\n        to: {\n          vmId: '547A7FE0-3D96-4932-9683-0D5936C5CEF0',\n          attr: 'in'\n        }\n      },\n      'A7C2B894-0422-411D-BF06-D8C9CEC45BB3': {\n        id: 'A7C2B894-0422-411D-BF06-D8C9CEC45BB3',\n        from: {\n          vmId: '547A7FE0-3D96-4932-9683-0D5936C5CEF0',\n          attr: 'result'\n        },\n        to: {\n          vmId: 'E4B91ED1-5995-48A1-8574-F352B937FE2E',\n          attr: 'in2'\n        }\n      },\n      '1F6E3EE6-AFB7-484D-954C-22C01E1C3382': {\n        id: '1F6E3EE6-AFB7-484D-954C-22C01E1C3382',\n        from: {\n          vmId: 'CC8C51D7-5C24-4E44-B25E-FD8A6483A77C',\n          attr: 'result'\n        },\n        to: {\n          vmId: 'E4B91ED1-5995-48A1-8574-F352B937FE2E',\n          attr: 'mode'\n        }\n      }\n    }\n  },\n  product: {\n    name: '@gogoend/svg-filter-graph-builder',\n    version: '0.1.1',\n    buildVersion: 0\n  },\n  project: {\n    authorIds: ['E5D9F285-4610-47AC-8703-6D8D12184B28'],\n    createdTime: 1668689298273,\n    lastModifierId: 'E5D9F285-4610-47AC-8703-6D8D12184B28',\n    lastModifiedTime: 1668689298273,\n    name: 'Hello World'\n  }\n}\n\nconst samples = [helloWorld]\n\nexport default samples\n","import packageInfo from '../../package.json'\nimport { uuid } from '../utils/uuid'\nimport { getCurrentInstance, InjectionKey, provide, ShallowRef, shallowRef, nextTick } from 'vue'\nimport { ALL_NODES_ON_CANVAS_SYMBOL, NODE_FORM_VALUE_TYPE_SYMBOL, LINKED_PATHS_FOR_SERIALIZE_SYMBOL, EMPTY_CANVAS_STUFF_SYMBOL } from './canvasStuff'\n\nimport LuDialog from 'lu2/theme/edge/js/common/ui/Dialog'\nimport { getSelectFileWaitee } from '@/components/FileChooser'\nimport { fileStorage, appTable } from '@/plugins/db'\nimport { SVG_CANVAS_VM_SYMBOL } from './vmStore'\nimport { ProjectFile } from '@/schema/ProjectFile'\n\nimport samples from '@/config/samples'\n\nexport const SAVE_CURRENT_PROJECT_SYMBOL: InjectionKey<() => void> = Symbol('保存项目')\nexport const SAVE_CURRENT_PROJECT_AS_SYMBOL: InjectionKey<() => void> = Symbol('另存为项目')\n\nexport const CURRENT_PROJECT_SYMBOL: InjectionKey<ShallowRef<ProjectFile | null>> = Symbol('已打开的项目')\nexport const SET_CURRENT_PROJECT_SYMBOL: InjectionKey<(project: ProjectFile | null) => void> = Symbol('设置已打开的项目')\n\nexport const CLOSE_AND_NEW_PROJECT_SYMBOL: InjectionKey<() => void> = Symbol('关闭并新建项目')\n\nexport const TRY_TO_CLOSE_CURRENT_PROJECT_SYMBOL: InjectionKey<() => void> = Symbol('关闭项目')\nexport const TRY_TO_SHOW_OPEN_PROJECT_DIALOG_SYMBOL: InjectionKey<() => void> = Symbol('尝试打开打开文件对话框')\n\nexport const TRY_TO_OPEN_SAMPLE_PROJECT_SYMBOL: InjectionKey<(sampleId: string) => void> = Symbol('尝试打开示例项目文件')\n\nexport default function projectInfoState() {\n  const vm = getCurrentInstance()!.proxy\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  const emptyCanvasStuff = (vm!.$ as any).provides[EMPTY_CANVAS_STUFF_SYMBOL]\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  const svgCanvasVm = (vm!.$ as any).provides[SVG_CANVAS_VM_SYMBOL] as any\n\n  // 没必要深度响应式\n  const currentProject = shallowRef<ProjectFile | null>()\n  provide(CURRENT_PROJECT_SYMBOL, currentProject)\n\n  const setOpeningProject = (project: ProjectFile | null) => {\n    currentProject.value = project\n  }\n  provide(SET_CURRENT_PROJECT_SYMBOL, setOpeningProject)\n\n  const closeCurrentProject = () => {\n    emptyCanvasStuff()\n    setOpeningProject(null)\n  }\n  const tryToCloseCurrentProject = async() => {\n    await new Promise((resolve, reject) => {\n      new LuDialog().confirm(`<h6>ATTENTION</h6><p>Any unsaved changes will be lost. Continue?</p>`, {\n        buttons: [{\n          value: 'Continue',\n          events(ev: any) {\n            resolve(undefined)\n            ev.dialog.remove()\n          }\n        }, {\n          value: 'Cancel',\n          events(ev: any) {\n            reject(new Error('[关闭文件提示] 用户取消了操作'))\n            ev.dialog.remove()\n          }\n        }]\n      })\n    })\n\n    closeCurrentProject()\n  }\n  provide(TRY_TO_CLOSE_CURRENT_PROJECT_SYMBOL, tryToCloseCurrentProject)\n\n  const tryToShowOpenFileDialog = async() => {\n    await tryToCloseCurrentProject()\n    const selectedProjectId = await getSelectFileWaitee()\n\n    if (selectedProjectId === currentProject.value?.id) {\n      return\n    }\n\n    const [projectToOpen] = await fileStorage.where({\n      id: selectedProjectId\n    }).toArray()\n\n    if (!projectToOpen) {\n      return Promise.reject(new Error('[打开文件弹窗] 未找到此项目，程序可能发生了内部错误'))\n    }\n\n    closeCurrentProject()\n\n    await nextTick()\n\n    setOpeningProject(projectToOpen)\n\n    svgCanvasVm.value.loadCanvasStuffFromSerializedData(projectToOpen)\n  }\n  provide(TRY_TO_SHOW_OPEN_PROJECT_DIALOG_SYMBOL, tryToShowOpenFileDialog)\n\n  const collectCurrentFilterProjectFileData = async(): Promise<Omit<ProjectFile, 'id'> & { id?: string }> => {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const nodes = (vm!.$ as any).provides[ALL_NODES_ON_CANVAS_SYMBOL]\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const nodeFormValueMap = (vm!.$ as any).provides[NODE_FORM_VALUE_TYPE_SYMBOL]\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const linkedPathsForSerialize = (vm!.$ as any).provides[LINKED_PATHS_FOR_SERIALIZE_SYMBOL]\n\n    const stuff = {\n      nodes: nodes.value,\n      nodeForms: nodeFormValueMap.value,\n      links: linkedPathsForSerialize.value\n    }\n    const product = {\n      name: packageInfo.name,\n      version: packageInfo.version,\n      buildVersion: 0\n    }\n    const currentUserProfileId = (await appTable.get('lastUserProfileId')).value\n    const project = {\n      authorIds: [\n        ...new Set<string>([...currentProject.value?.project.authorIds ?? [], currentUserProfileId])],\n      createdTime: currentProject.value?.project.createdTime ?? Number(new Date()),\n      lastModifiedTime: Number(new Date()),\n      lastModifierId: currentUserProfileId,\n      name: ''\n    }\n\n    const projectFileData: Omit<ProjectFile, 'id'> & { id?: string } = {\n      id: currentProject.value?.id,\n      stuff,\n      product,\n      project\n    }\n\n    // 被Proxy处理过的对象不能被结构化克隆算法克隆；但这里已经确保了相关数据被JSON序列化后再反序列化无问题\n    return JSON.parse(\n      JSON.stringify(projectFileData)\n    )\n  }\n  const saveCurrentProject = async() => {\n    const currentProjectId = currentProject.value?.id\n    if (currentProjectId) {\n      const data = await collectCurrentFilterProjectFileData()\n      await fileStorage.where('id').equals(currentProjectId).modify((value, ref) => {\n        // TODO: 其它数据库操作似乎不能在此运行？- 因为已经有一个事务存在了？\n        ref.value = data\n      })\n      return\n    } else {\n      await saveCurrentProjectAs()\n    }\n  }\n  provide(SAVE_CURRENT_PROJECT_SYMBOL, saveCurrentProject)\n\n  const saveCurrentProjectAs = async() => {\n    const projectFileData = await collectCurrentFilterProjectFileData()\n    projectFileData.id = uuid()\n\n    let projectName = ''\n    while (projectName?.trim() === '') {\n      projectName = window.prompt(\n        `Enter the name of the your project`\n      ) as string\n    }\n\n    if (projectName === null) {\n      return Promise.reject(new Error('[projectInfoState][另存为] 用户取消保存'))\n    }\n\n    projectFileData.project.name = projectName\n    const newProjectFileDataInfo = {\n      id: uuid(),\n      ...projectFileData\n    }\n    await fileStorage.add(newProjectFileDataInfo)\n    // 处理 未保存的项目的情况\n    setOpeningProject(newProjectFileDataInfo)\n  }\n  provide(SAVE_CURRENT_PROJECT_AS_SYMBOL, saveCurrentProjectAs)\n\n  const tryToOpenSampleProject = async(sampleFileId: string) => {\n    const sample = samples.find(it => it.id === sampleFileId)\n    await tryToCloseCurrentProject()\n\n    svgCanvasVm.value.loadCanvasStuffFromSerializedData(sample)\n  }\n  provide(TRY_TO_OPEN_SAMPLE_PROJECT_SYMBOL, tryToOpenSampleProject)\n}\n","import gogoendLog from '@/plugins/log'\nimport { provide, shallowRef, InjectionKey, ShallowRef } from 'vue'\n\nexport const SHOW_PWA_INSTALL_DIALOG_SYMBOL: InjectionKey<() => void> = Symbol('安装PWA')\nexport const PWA_BEFORE_INSTALL_WAITEE_SYMBOL: InjectionKey<ShallowRef<null | any>> = Symbol('PWA等待安装事件对象')\n\nexport default function pwa() {\n  const pwaBeforeInstallWaitee = shallowRef<null | any>(null)\n  window.addEventListener('beforeinstallprompt', (e) => {\n    e.preventDefault()\n    console.log(e)\n    gogoendLog.log('[pwa 安装程序] 用户未在本机安装pwa')\n    pwaBeforeInstallWaitee.value = e\n  })\n\n  provide(\n    PWA_BEFORE_INSTALL_WAITEE_SYMBOL,\n    pwaBeforeInstallWaitee\n  )\n\n  async function showPwaInstallDialog() {\n    if (pwaBeforeInstallWaitee.value) {\n      pwaBeforeInstallWaitee.value.prompt()\n      const userChoice = await pwaBeforeInstallWaitee.value.userChoice\n      gogoendLog.log('[pwa 安装程序] 安装结果：', userChoice)\n      if (userChoice.outcome === 'accepted') {\n        console.log('User accepted the A2HS prompt')\n        pwaBeforeInstallWaitee.value = null\n      }\n    }\n  }\n\n  provide(\n    SHOW_PWA_INSTALL_DIALOG_SYMBOL,\n    showPwaInstallDialog\n  )\n}\n","import canvasStuff from './canvasStuff'\nimport draggingNode from './draggingNode'\nimport focusState from './focusState'\nimport vmStore from './vmStore'\nimport projectInfoState from './projectInfoState'\nimport pwa from './pwa'\n\nexport default function setupStore() {\n  [pwa, canvasStuff, draggingNode, focusState, vmStore, projectInfoState].forEach(fn => fn())\n}\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1029aca4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"app-wrap\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ping_ping = _resolveComponent(\"ping-ping\")!\n  const _component_top_menu_bar = _resolveComponent(\"top-menu-bar\")!\n  const _component_svg_canvas = _resolveComponent(\"svg-canvas\")!\n  const _component_svg_canvas_overlay_tip = _resolveComponent(\"svg-canvas-overlay-tip\")!\n  const _component_node_library_panel = _resolveComponent(\"node-library-panel\")!\n  const _component_stuff_config_panel = _resolveComponent(\"stuff-config-panel\")!\n  const _component_output_preview_panel = _resolveComponent(\"output-preview-panel\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_ping_ping),\n    _createVNode(_component_top_menu_bar, {\n      class: \"top-menu-bar\",\n      style: _normalizeStyle({\n        height: `${_ctx.topMenuBarHeight}px`\n      })\n    }, null, 8, [\"style\"]),\n    _createElementVNode(\"div\", {\n      class: \"workbench-wrap\",\n      style: _normalizeStyle({\n        top: `${_ctx.topMenuBarHeight}px`\n      })\n    }, [\n      _createVNode(_component_svg_canvas, {\n        class: \"svg-canvas\",\n        style: _normalizeStyle({\n          left: _ctx.filterLibraryPanelWidth + 'px',\n          width: `calc(100% - ${_ctx.stuffConfigPanelWidth}px - ${_ctx.filterLibraryPanelWidth}px)`\n        }),\n        onVnodeMounted: _cache[0] || (_cache[0] = (vnode) => {\n          _ctx.setSvgCanvasVm(vnode.component.proxy)\n        })\n      }, null, 8, [\"style\"]),\n      _createVNode(_component_svg_canvas_overlay_tip, {\n        class: \"svg-canvas__overlay-tip\",\n        style: _normalizeStyle({\n          left: _ctx.filterLibraryPanelWidth + 'px',\n          width: `calc(100% - ${_ctx.stuffConfigPanelWidth}px - ${_ctx.filterLibraryPanelWidth}px)`\n        })\n      }, null, 8, [\"style\"]),\n      _createVNode(_component_node_library_panel, {\n        class: \"node-library-panel\",\n        style: _normalizeStyle({\n          left: 0,\n          right: `calc(100% - ${_ctx.filterLibraryPanelWidth}px)`\n        })\n      }, null, 8, [\"style\"]),\n      _createVNode(_component_stuff_config_panel, {\n        class: \"stuff-config-panel\",\n        style: _normalizeStyle({\n          right: 0,\n          left: `calc(100% - ${_ctx.stuffConfigPanelWidth}px)`\n        })\n      }, null, 8, [\"style\"]),\n      _createVNode(_component_output_preview_panel, {\n        class: \"output-preview-panel\",\n        style: {\n          width: '640px',\n          height: '384px',\n        },\n        onVnodeMounted: _ctx.handleOutputPreviewPanelMounted\n      }, null, 8, [\"onVnodeMounted\"])\n    ], 4)\n  ]))\n}","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e2e7568c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { ref: \"canvasScrollEl\" }\nconst _hoisted_2 = {\n  version: \"1.1\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"xmlns:xlink\": \"http://www.w3.org/1999/xlink\",\n  x: \"0px\",\n  y: \"0px\",\n  viewBox: \"0 0 4000 4000\",\n  \"xml:space\": \"preserve\",\n  class: \"svg-canvas-board\"\n}\nconst _hoisted_3 = { class: \"ghost\" }\nconst _hoisted_4 = [\"d\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_io_node = _resolveComponent(\"io-node\")!\n  const _component_io_path = _resolveComponent(\"io-path\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(), _createElementBlock(\"svg\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.nodes, (node) => {\n        return (_openBlock(), _createBlock(_component_io_node, {\n          ref_for: true,\n          ref: _ctx.setNodeRefMap,\n          key: node.id,\n          is: node.is,\n          \"node-id\": node.id,\n          onPortStart: _ctx.handlePortStart,\n          onPortMove: _ctx.handlePortMove,\n          onPortConnect: _ctx.handlePortConnect,\n          onPortCancel: _ctx.handlePortCancel,\n          onDestinationChange: _ctx.handleDestinationChange,\n          \"relative-paths\": \n          _ctx.relativePathMapIndexedByNodeId[node.id] ?? _ctx.defaultRelativePath\n        ,\n          onNodeMove: _ctx.handleNodeMove,\n          position: node.position,\n          \"onUpdate:position\": ($event: any) => ((node.position) = $event)\n        }, null, 8, [\"is\", \"node-id\", \"onPortStart\", \"onPortMove\", \"onPortConnect\", \"onPortCancel\", \"onDestinationChange\", \"relative-paths\", \"onNodeMove\", \"position\", \"onUpdate:position\"]))\n      }), 128)),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.linkedPaths, (path) => {\n        return (_openBlock(), _createBlock(_component_io_path, {\n          key: path.id,\n          \"path-id\": path.id,\n          \"path-d-arguments\": path.pathDArguments,\n          from: path.from,\n          to: path.to\n        }, null, 8, [\"path-id\", \"path-d-arguments\", \"from\", \"to\"]))\n      }), 128)),\n      _createElementVNode(\"g\", _hoisted_3, [\n        _createElementVNode(\"path\", {\n          class: \"ghost-path\",\n          d: _ctx.ghostPathD\n        }, null, 8, _hoisted_4),\n        (_ctx.ghostNodeType)\n          ? (_openBlock(), _createBlock(_component_io_node, {\n              key: 0,\n              ref: \"ghostNodeRef\",\n              style: {\"opacity\":\"0.5\"},\n              is: _ctx.ghostNodeType,\n              nodeId: \"0\",\n              position: _ctx.ghostNodePosition,\n              \"onUpdate:position\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.ghostNodePosition) = $event)),\n              relativePaths: _ctx.defaultRelativePath\n            }, null, 8, [\"is\", \"position\", \"relativePaths\"]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ]))\n  ], 512))\n}","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveDynamicComponent as _resolveDynamicComponent, mergeProps as _mergeProps, createBlock as _createBlock, createTextVNode as _createTextVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, withModifiers as _withModifiers, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-06f83674\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"transform\"]\nconst _hoisted_2 = { class: \"io-node__inner\" }\nconst _hoisted_3 = [\"src\"]\nconst _hoisted_4 = { class: \"io-node__head\" }\nconst _hoisted_5 = {\n  transform: \"matrix(1 0 0 1 0 8)\",\n  class: \"fill-fff module-name\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Delete = _resolveComponent(\"Delete\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _directive_pingping = _resolveDirective(\"pingping\")!\n\n  return (_openBlock(), _createElementBlock(\"g\", {\n    class: _normalizeClass([\"io-node\", {\n      'io-node--focused': _ctx.isFocused\n    }]),\n    onMousedown: _cache[6] || (_cache[6] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.handleNodeMousedown && _ctx.handleNodeMousedown(...args)), [\"stop\"])),\n    transform: `translate(${_ctx.position[0]}, ${_ctx.position[1]})`,\n    ref: \"ioNodeEl\"\n  }, [\n    (_openBlock(), _createElementBlock(\"foreignObject\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: \"io-node__body\",\n        xmlns: \"http://www.w3.org/1999/xhtml\",\n        onClick: _cache[5] || (_cache[5] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.handleNodeBodyClick && _ctx.handleNodeBodyClick(...args)), [\"exact\",\"stop\"]))\n      }, [\n        false\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 0,\n              class: \"io-node__filter-thumb\",\n              src: _ctx.filterThumbUrl\n            }, null, 8, _hoisted_3))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"em\", {\n            class: \"port out\",\n            \"data-port-type\": \"out\",\n            style: _normalizeStyle({\n              width: `${2 * _ctx.POINT_R}px`,\n              height: `${ 2 * _ctx.POINT_R }px`,\n              borderWidth: `${ _ctx.POINT_BORDER_W }px`\n            }),\n            \"data-fe-attr\": \"result\",\n            ref: _ctx.setFeAttrEls,\n            onMouseenter: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handlePortMouseenter && _ctx.handlePortMouseenter(...args)))\n          }, null, 36),\n          _createElementVNode(\"span\", _hoisted_5, _toDisplayString(_ctx.is), 1)\n        ]),\n        (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.InternalNodeImplement), _mergeProps({ ref: \"nodeConfigRef\" }, {\n            is: _ctx.is,\n            nodeId: _ctx.nodeId,\n            relativePaths: _ctx.relativePaths\n          }), null, 16)),\n        _createElementVNode(\"div\", {\n          class: \"io-node__toolbox\",\n          onClick: _cache[4] || (_cache[4] = _withModifiers(() => {}, [\"stop\"]))\n        }, [\n          _withDirectives((_openBlock(), _createElementBlock(\"button\", {\n            class: \"io-node__toolbox-button lu-ui__extend-small\",\n            is: \"ui-button\",\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.copySvgFilterCode(_ctx.nodeId))),\n            title: \"Copy SVG Filter Code\"\n          }, [\n            _createTextVNode(\" <SVG> \")\n          ])), [\n            [_directive_pingping, {remark: `[io-node] ${_ctx.is} 按下了复制SVG滤镜代码按钮`}]\n          ]),\n          _withDirectives((_openBlock(), _createElementBlock(\"button\", {\n            class: \"io-node__toolbox-button lu-ui__extend-small\",\n            is: \"ui-button\",\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.copyCssRule(_ctx.nodeId))),\n            title: \"Copy CSS Rule\"\n          }, [\n            _createTextVNode(\" CSS Rule \")\n          ])), [\n            [_directive_pingping, {remark: `[io-node] ${_ctx.is} 按下了复制CSS规则按钮`}]\n          ]),\n          _withDirectives((_openBlock(), _createElementBlock(\"button\", {\n            class: \"io-node__toolbox-button lu-ui__extend-small\",\n            is: \"ui-button\",\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.removeNode(_ctx.nodeId))),\n            title: \"Remove Node\",\n            \"data-type\": \"danger\"\n          }, [\n            _createVNode(_component_el_icon, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_Delete)\n              ]),\n              _: 1\n            })\n          ])), [\n            [_directive_pingping, {remark: `[io-node] ${_ctx.is} 按下了删除按钮`}]\n          ])\n        ])\n      ])\n    ]))\n  ], 42, _hoisted_1))\n}","import type { MouseEventHelper } from './type'\n\nconst mouseEventHelper = function(ev: MouseEvent, handlers?: MouseEventHelper.Handlers): void {\n  const start = handlers?.start || (() => void 0)\n  // const moveInner = handlers.moveInner || (() => void 0)\n  // const moveOuter = handlers.moveOuter || (() => void 0)\n  const move = handlers?.move || (() => void 0)\n  const up = handlers?.up || (() => void 0)\n\n  const originEl = ev.target as HTMLElement\n\n  start(ev, { originEl })\n  const handleTargetTouchEvent = (ev: MouseEvent) => {\n    switch (ev.type) {\n      case 'mousemove': {\n        // const touch = ev // .changedTouches[0]\n        // const touchingEl = document.elementFromPoint(touch.pageX, touch.pageY - document.documentElement.scrollTop)\n        // if (touchingEl === startEl) {\n        //   moveInner.call(_this, ev)\n        // } else {\n        //   moveOuter.call(_this, ev)\n        // }\n        move(ev, {\n          originEl\n        })\n        break\n      }\n      case 'mouseup': {\n        document.removeEventListener('mousemove', handleTargetTouchEvent)\n        document.removeEventListener('mouseup', handleTargetTouchEvent)\n        up(ev, {\n          originEl\n        })\n        break\n      }\n    }\n  }\n  document.addEventListener('mousemove', handleTargetTouchEvent)\n  document.addEventListener('mouseup', handleTargetTouchEvent)\n}\n\nexport default mouseEventHelper\n","import { SVGFilterConfig } from './type'\n\nexport const SourceGraphic: SVGFilterConfig.Node = {\n  type: 'source',\n  ports: {}\n}\n\nexport const SourceAlpha: SVGFilterConfig.Node = {\n  type: 'source',\n  ports: {}\n}\n\nexport const feConvolveMatrix: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    kernelMatrix: {\n      defaultValue: '0 1 0, 1 1 1, 0 1 0'\n    },\n    order: {\n      defaultValue: '3, 3'\n    },\n    divisor: {\n      type: 'range',\n      range: [0.01, 100],\n      step: 0.01,\n      defaultValue: 1\n    },\n    bias: {\n      type: 'range',\n      range: [-1, 1],\n      step: 0.01,\n      defaultValue: 0\n    },\n    targetX: {\n      type: 'range',\n      range: [0, 10],\n      step: 1,\n      defaultValue: 0\n    },\n    targetY: {\n      type: 'range',\n      range: [0, 10],\n      step: 1,\n      defaultValue: 0\n    },\n    edgeMode: {\n      type: 'text',\n      defaultValue: 'duplicate',\n      enum: ['duplicate', 'wrap', 'none']\n    },\n    kernelUnitLength: {\n      type: 'range',\n      range: [1, 100],\n      step: 1,\n      defaultValue: 2\n    },\n    preserveAlpha: {\n      type: 'text',\n      defaultValue: 'true',\n      enum: ['true', 'false']\n    }\n  }\n}\n\nexport const feTurbulence: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    type: {\n      type: 'text',\n      defaultValue: 'fractalNoise',\n      enum: [\n        {\n          label: 'fractalNoise',\n          value: 'fractalNoise'\n        }, {\n          label: 'turbulence',\n          value: 'turbulence'\n        }\n      ]\n    },\n    baseFrequency: {\n      type: 'range',\n      defaultValue: 0.05,\n      range: [0, 1],\n      step: 0.01\n    },\n    numOctaves: {\n      type: 'range',\n      defaultValue: 1,\n      step: 1,\n      range: [0, 20]\n    },\n    stitchTiles: {\n      defaultValue: 'stitch',\n      enum: ['stitch', 'noStitch']\n    },\n    seed: {\n      type: 'range',\n      defaultValue: 0,\n      step: 0.01,\n      range: [-10000, 10000]\n    }\n  }\n}\n\nexport const feDropShadow: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    dx: {\n      type: 'range',\n      defaultValue: 0,\n      step: 0.01,\n      range: [-1000, 1000]\n    },\n    dy: {\n      type: 'range',\n      defaultValue: 0,\n      step: 0.01,\n      range: [-1000, 1000]\n    },\n    stdDeviation: {\n      type: 'range',\n      defaultValue: 0,\n      step: 0.01,\n      range: [0, 100]\n    },\n    'flood-color': {\n      type: 'color'\n    },\n    'flood-opacity': {\n      type: 'range',\n      defaultValue: 1,\n      step: 0.01,\n      range: [0, 1]\n    }\n  }\n}\n\nexport const feMerge: SVGFilterConfig.Node = {\n  type: 'merge',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    }\n  }\n}\n\nexport const feOffset: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    dx: {\n      type: 'range',\n      defaultValue: 0,\n      step: 0.01,\n      range: [-1000, 1000]\n    },\n    dy: {\n      type: 'range',\n      defaultValue: 0,\n      step: 0.01,\n      range: [-1000, 1000]\n    }\n  }\n}\n\nexport const feColorMatrixUsingMatrix: SVGFilterConfig.Node = {\n  type: 'normal',\n  tag: 'feColorMatrix',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    type: {\n      showInConfigPanel: false,\n      showOnNode: false,\n      defaultValue: 'matrix'\n    },\n    values: {\n      defaultValue: [\n        1, 0, 0, 0, 0,\n        0, 1, 0, 0, 0,\n        0, 0, 1, 0, 0,\n        0, 0, 0, 1, 0\n      ].join(' ')\n    }\n  }\n}\nexport const matrixInFeColorMatrix: SVGFilterConfig.Node = {\n  type: 'matrix-in-fe-color-matrix',\n  ports: {}\n}\n\nexport const feColorMatrixUsingSaturate: SVGFilterConfig.Node = {\n  tag: 'feColorMatrix',\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    type: {\n      showInConfigPanel: false,\n      showOnNode: false,\n      defaultValue: 'saturate'\n    },\n    values: {\n      type: 'range',\n      defaultValue: 1,\n      step: 0.01,\n      range: [-10, 10]\n    }\n  }\n}\nexport const feColorMatrixUsingHueRotate: SVGFilterConfig.Node = {\n  tag: 'feColorMatrix',\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    type: {\n      showInConfigPanel: false,\n      showOnNode: false,\n      defaultValue: 'hueRotate'\n    },\n    values: {\n      type: 'range',\n      defaultValue: 0,\n      step: 0.01,\n      range: [0, 360]\n    }\n  }\n}\nexport const feColorMatrixUsingLuminanceToAlpha: SVGFilterConfig.Node = {\n  tag: 'feColorMatrix',\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    type: {\n      showInConfigPanel: false,\n      showOnNode: false,\n      defaultValue: 'luminanceToAlpha'\n    },\n    values: {\n    }\n  }\n}\n\nexport const feTile: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    }\n  }\n}\n\nexport const feDisplacementMap: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    in2: {\n      showInConfigPanel: false\n    },\n    scale: {\n      type: 'range',\n      defaultValue: 0,\n      step: 0.01,\n      range: [-100, 100]\n    },\n    xChannelSelector: {\n      defaultValue: 'A',\n      enum: [\n        'R',\n        'G',\n        'B',\n        'A'\n      ]\n    },\n    yChannelSelector: {\n      defaultValue: 'A',\n      enum: [\n        'R',\n        'G',\n        'B',\n        'A'\n      ]\n    }\n  }\n}\n\nexport const feImage: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    href: {}\n  }\n}\n\nexport const feBlend: SVGFilterConfig.Node = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    in2: {\n      showInConfigPanel: false\n    },\n    mode: {\n      defaultValue: 'normal',\n      enum: [\n        'normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion',\n        'hue', 'saturation', 'color', 'luminosity'\n      ]\n    }\n  }\n}\n\nexport const feCompositeWithoutK: SVGFilterConfig.NormalNode = {\n  type: 'normal',\n  tag: 'feComposite',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    in2: {\n      showInConfigPanel: false\n    },\n    operator: {\n      enum: [\n        'over', 'in', 'out', 'atop', 'xor', 'lighter'\n      ]\n    }\n  }\n}\n\nexport const feCompositeWithK: SVGFilterConfig.NormalNode = {\n  type: 'normal',\n  tag: 'feComposite',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    in2: {\n      showInConfigPanel: false\n    },\n    operator: {\n      showInConfigPanel: false,\n      showOnNode: false,\n      defaultValue: 'arithmetic'\n    },\n    k1: {\n      type: 'range',\n      range: [-5, 5],\n      defaultValue: 0.5\n    },\n    k2: {\n      type: 'range',\n      range: [-5, 5],\n      defaultValue: 0.5\n    },\n    k3: {\n      type: 'range',\n      range: [-5, 5],\n      defaultValue: 0.5\n    },\n    k4: {\n      type: 'range',\n      range: [-5, 5],\n      defaultValue: 0.5\n    }\n  }\n}\n\nexport const feFlood: SVGFilterConfig.NormalNode = {\n  type: 'normal',\n  ports: {\n    'flood-color': {\n      type: 'color'\n    },\n    'flood-opacity': {\n      type: 'range',\n      defaultValue: 1,\n      step: 0.01,\n      range: [0, 1]\n    }\n  }\n}\n\nexport const feGaussianBlur: SVGFilterConfig.NormalNode = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    stdDeviation: {\n      type: 'range',\n      defaultValue: 0,\n      step: 0.01,\n      range: [0, 100]\n    },\n    edgeMode: {\n      type: 'text',\n      enum: [\n        'duplicate',\n        'wrap',\n        'none'\n      ],\n      defaultValue: 'none'\n    }\n  }\n}\n\nexport const feMorphology: SVGFilterConfig.NormalNode = {\n  type: 'normal',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    operator: {\n      enum: [\n        'erode',\n        'dilate'\n      ],\n      defaultValue: 'erode'\n    },\n    radius: {\n      type: 'range',\n      defaultValue: 0,\n      step: 0.01,\n      range: [0, 50]\n    }\n  }\n}\n\nexport const feComponentTransfer: SVGFilterConfig.ComponentTransferRootNode = {\n  type: 'component-transfer-root',\n  ports: {\n    in: {\n      showInConfigPanel: false\n    },\n    R: {\n      showInConfigPanel: false\n    },\n    G: {\n      showInConfigPanel: false\n    },\n    B: {\n      showInConfigPanel: false\n    },\n    A: {\n      showInConfigPanel: false\n    }\n  }\n}\n\nexport const feFuncXUsingIdentity: SVGFilterConfig.ComponentTransferChildNode = {\n  type: 'component-transfer-child',\n  ports: {\n    type: {\n      defaultValue: 'identity',\n      showInConfigPanel: false,\n      showOnNode: false\n    }\n  }\n}\n\nexport const feFuncXUsingTable: SVGFilterConfig.ComponentTransferChildNode = {\n  type: 'component-transfer-child',\n  ports: {\n    type: {\n      defaultValue: 'table',\n      showInConfigPanel: false,\n      showOnNode: false\n    },\n    tableValues: {\n      defaultValue: '1 1 1 1'\n    }\n  }\n}\n\nexport const feFuncXUsingLinearOrDiscrete: SVGFilterConfig.ComponentTransferChildNode = {\n  type: 'component-transfer-child',\n  ports: {\n    type: {\n      defaultValue: 'linear',\n      enum: [\n        'linear',\n        'discrete'\n      ]\n    },\n    slope: {\n      type: 'number',\n      defaultValue: 1\n    },\n    intercept: {\n      type: 'number',\n      defaultValue: 0\n    }\n  }\n}\n\nexport const feFuncXUsingGamma: SVGFilterConfig.ComponentTransferChildNode = {\n  type: 'component-transfer-child',\n  ports: {\n    type: {\n      defaultValue: 'gamma',\n      showInConfigPanel: false,\n      showOnNode: false\n    },\n    amplitude: {\n      type: 'number',\n      defaultValue: 1\n    },\n    exponent: {\n      type: 'number',\n      defaultValue: 0\n    },\n    offset: {\n      type: 'number',\n      defaultValue: 0\n    }\n  }\n}\n\nexport const StringLiteral: SVGFilterConfig.Node = {\n  type: 'string-literal',\n  ports: {\n    value: {\n      type: 'text'\n    }\n  }\n}\n\nexport default {\n  SourceGraphic,\n  SourceAlpha,\n  feConvolveMatrix,\n  feTurbulence,\n  feDropShadow,\n  feMerge,\n  feOffset,\n  feColorMatrixUsingMatrix,\n  matrixInFeColorMatrix,\n  feColorMatrixUsingSaturate,\n  feColorMatrixUsingHueRotate,\n  feColorMatrixUsingLuminanceToAlpha,\n  feTile,\n  feDisplacementMap,\n  feImage,\n  feBlend,\n  feCompositeWithoutK,\n  feCompositeWithK,\n  feFlood,\n  feGaussianBlur,\n  feMorphology,\n\n  feComponentTransfer,\n  feFuncXUsingIdentity,\n  feFuncXUsingTable,\n  feFuncXUsingLinearOrDiscrete,\n  feFuncXUsingGamma,\n\n  StringLiteral\n}\n","import { Dictionary } from '@/utils/type'\n\nexport interface Port<T extends OverwrittenIoNodeType = OverwrittenIoNodeType> {\n  vm: T;\n  attr: string;\n  el: SVGCircleElement | null;\n}\n\nexport interface Path {\n  pathDArguments: number[],\n  id: string,\n  from: Port<OverwrittenIoNodeType>,\n  to: Port<OverwrittenIoNodeType>\n}\n\nexport interface Node {\n  is: string;\n  id: string;\n  position: [number, number]\n}\n\nexport interface RelativePathForNode {\n  in: Path[],\n  out: Path[]\n}\n\nimport { VNode, ComponentPublicInstance, ShallowRef, InjectionKey } from 'vue'\nimport fe from './components/IoNode/fe-definition-config'\nimport NormalNode from './components/IoNode/components/NormalNode.vue'\nimport MergeNode from './components/IoNode/components/MergeNode.vue'\nexport interface OverwrittenIoNodeType extends ComponentPublicInstance {\n  orderedAllDescendants: OverwrittenIoNodeType[];\n  nodeConfigRef: InstanceType<typeof NormalNode> | InstanceType<typeof MergeNode>\n  nodeId: string,\n  relativePaths: RelativePathForNode,\n  mergedFeAttrValue: Dictionary<string | number>,\n  getVNodeFragment: (item: OverwrittenIoNodeType, index?: number) => VNode,\n  is: keyof typeof fe,\n  afterPathConnected?: () => void\n  afterPathRemoved?: (targetPath: Path) => void\n}\n\nexport const SVG_CANVAS_RECT_SYMBOL: InjectionKey<ShallowRef<DOMRectReadOnly>> = Symbol('SvgCanvas组件的范围')\n","import { OverwrittenIoNodeType, Path } from '@/views/AppMain/components/SvgCanvas/type'\nimport { VNode } from 'vue'\nimport { Dictionary } from './type'\n\nexport function getPortElType(el: SVGCircleElement) {\n  return el.dataset.portType\n}\n\nexport function isPortEl(el: HTMLElement) {\n  return ['in', 'out'].includes(el.dataset.portType as string)\n}\n\nexport function vnode2dom(vnode: VNode): HTMLElement {\n  const {\n    props, type: tag\n  }: {\n    props: Dictionary<any> | null,\n    type: any\n  } = vnode\n\n  let children: any = vnode.children\n\n  const rootEl = document.createElementNS('http://www.w3.org/2000/svg', tag)\n  props && Object.keys(props).forEach(key => {\n    ['number', 'string'].includes(typeof props?.[key]) && String(props?.[key]).length && rootEl.setAttribute(key, props?.[key])\n  })\n\n  if (typeof children === 'object' && children !== null) {\n    if (!Array.isArray(children)) {\n      children = [children]\n    }\n  } else {\n    children = []\n  }\n\n  (children || []).forEach((child: VNode) => {\n    rootEl.append(vnode2dom(child))\n  })\n  return rootEl\n}\n\nexport const getTopoOrder = (paths: Path[]): OverwrittenIoNodeType[] => {\n  const inDegree: Map<OverwrittenIoNodeType, number> = new Map()\n  const graph: Map<OverwrittenIoNodeType, OverwrittenIoNodeType[]> = new Map()\n\n  paths.forEach(path => {\n    const [fromVm, toVm] = [path.from.vm, path.to.vm]\n\n    if (!inDegree.has(fromVm)) {\n      inDegree.set(fromVm, 0)\n      graph.set(fromVm, [])\n    }\n    if (!inDegree.has(toVm)) {\n      inDegree.set(toVm, 0)\n      graph.set(toVm, [])\n    }\n    inDegree.set(toVm, (inDegree.get(toVm) as number) + 1)\n    graph.get(fromVm)!.push(toVm)\n  })\n\n  const queue: OverwrittenIoNodeType[] = []; const result:OverwrittenIoNodeType[] = []\n  for (const key of inDegree) {\n    if (key[1] === 0) {\n      queue.push(key[0])\n    }\n  }\n  while (queue.length) {\n    const cur = queue.shift()!\n    result.push(cur)\n\n    const toEnQueue = graph.get(cur)!\n\n    toEnQueue.forEach(item => {\n      inDegree.set(item, (inDegree.get(item) as number) - 1)\n      if (inDegree.get(item) === 0) {\n        queue.push(item)\n      }\n    })\n  }\n  return result\n}\nexport const noop = (..._args: unknown[]) => { void 0 }\n\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e7beee26\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"io-node__li\"\n}\nconst _hoisted_2 = [\"data-fe-attr\"]\nconst _hoisted_3 = { class: \"io-node__port-text\" }\nconst _hoisted_4 = { class: \"port-name\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.fe[_ctx.is].ports, (item, key) => {\n    return (_openBlock(), _createElementBlock(_Fragment, { key: key }, [\n      (item.showOnNode !== false)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            _createElementVNode(\"em\", {\n              class: \"port in\",\n              style: _normalizeStyle({\n          width: `${2 * _ctx.POINT_R}px`,\n          height: `${ 2 * _ctx.POINT_R }px`,\n          borderWidth: `${ _ctx.POINT_BORDER_W }px`\n        }),\n              \"data-port-type\": \"in\",\n              r: \"10\",\n              \"data-fe-attr\": key,\n              ref_for: true,\n              ref: _ctx.setFeAttrEls,\n              onMouseenter: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handlePortMouseenter && _ctx.handlePortMouseenter(...args)))\n            }, null, 44, _hoisted_2),\n            _createElementVNode(\"label\", _hoisted_3, [\n              _createElementVNode(\"span\", _hoisted_4, _toDisplayString(key), 1)\n            ])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ], 64))\n  }), 128))\n}","import { vnode2dom, getTopoOrder } from '@/utils'\nimport { Dictionary } from '@/utils/type'\nimport { computed, inject, onBeforeUpdate, Ref, ref, h } from 'vue'\nimport { Path, Port, OverwrittenIoNodeType } from '../../../type'\n\nexport default () => {\n  const fromPort = inject<Ref<Port<OverwrittenIoNodeType>>>('fromPort')\n  const toPort = inject<Ref<Port<OverwrittenIoNodeType>>>('toPort')\n\n  const ioNodeEl = ref<SVGGElement>()\n\n  const feAttrEls = ref<SVGCircleElement[]>([])\n  const setFeAttrEls = (el?: SVGCircleElement) => {\n    el && feAttrEls.value.push(el)\n  }\n  onBeforeUpdate(() => { feAttrEls.value = [] })\n  // 计算属性，表示当前节点下的所有的后代节点\n  const allDescendants = inject<Ref<OverwrittenIoNodeType[]>>('allDescendants')\n  const orderedAllDescendants = inject<Ref<OverwrittenIoNodeType[]>>('orderedAllDescendants')\n\n  const handlePortMouseenter = inject<Ref<OverwrittenIoNodeType>>('handlePortMouseenter')\n  const filterThumbUrl = computed<string>(() => {\n    const prefix = 'data:image/svg+xml,'\n    const vnode = h('filter', { id: 'filter' }, (orderedAllDescendants?.value ?? []).map((item, index) => item.getVNodeFragment(item, index)))\n    const template =\n`\n<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"SVGFilter\" width=\"40\" height=\"40\" viewBox=\"0 0 256 256\">\n<defs>${vnode2dom(vnode).outerHTML}</defs>\n<g filter=\"url(#filter)\">\n  <linearGradient id=\"SVGID_1_\" gradientUnits=\"userSpaceOnUse\" x1=\"0\" y1=\"64\" x2=\"64\" y2=\"64\">\n    <stop offset=\"0\" style=\"stop-color:#EE7E77\" /><stop offset=\"0.5\" style=\"stop-color:#E7334C\" /><stop offset=\"1\" style=\"stop-color:#DA0439\" />\n  </linearGradient>\n  <rect style=\"fill:url(#SVGID_1_);\" width=\"64\" height=\"128\" />\n  <linearGradient id=\"SVGID_2_\" gradientUnits=\"userSpaceOnUse\" x1=\"64\" y1=\"64\" x2=\"128\" y2=\"64\">\n    <stop offset=\"0\" style=\"stop-color:#F29847\" /><stop offset=\"0.5\" style=\"stop-color:#EE7300\" /><stop offset=\"1\" style=\"stop-color:#D45E12\" />\n  </linearGradient>\n  <rect x=\"64\" style=\"fill:url(#SVGID_2_);\" width=\"64\" height=\"128\" />\n  <linearGradient id=\"SVGID_3_\" gradientUnits=\"userSpaceOnUse\" x1=\"128\" y1=\"64\" x2=\"192\" y2=\"64\">\n    <stop offset=\"0\" style=\"stop-color:#FFF9AC\" /><stop offset=\"0.5\" style=\"stop-color:#FFF000\" /><stop offset=\"1\" style=\"stop-color:#FFDC00\" />\n  </linearGradient>\n  <rect x=\"128\" style=\"fill:url(#SVGID_3_);\" width=\"64\" height=\"128\" />\n  <linearGradient id=\"SVGID_4_\" gradientUnits=\"userSpaceOnUse\" x1=\"192\" y1=\"64\" x2=\"256\" y2=\"64\">\n    <stop offset=\"0\" style=\"stop-color:#66BC81\" /><stop offset=\"0.5\" style=\"stop-color:#009944\" /><stop offset=\"1\" style=\"stop-color:#008A43\" />\n  </linearGradient>\n  <rect x=\"192\" style=\"fill:url(#SVGID_4_);\" width=\"64\" height=\"128\" />\n  <linearGradient id=\"SVGID_5_\" gradientUnits=\"userSpaceOnUse\" x1=\"0\" y1=\"192\" x2=\"64\" y2=\"192\">\n    <stop offset=\"0\" style=\"stop-color:#3EAFCD\" /><stop offset=\"0.5\" style=\"stop-color:#0091B8\" /><stop offset=\"1\" style=\"stop-color:#00767F\" />\n  </linearGradient>\n  <rect y=\"128\" style=\"fill:url(#SVGID_5_);\" width=\"64\" height=\"128\" />\n  <linearGradient id=\"SVGID_6_\" gradientUnits=\"userSpaceOnUse\" x1=\"64\" y1=\"192\" x2=\"128\" y2=\"192\">\n    <stop offset=\"0\" style=\"stop-color:#584C9D\" /><stop offset=\"0.5\" style=\"stop-color:#1D2088\" /><stop offset=\"1\" style=\"stop-color:#39396C\" />\n  </linearGradient>\n  <rect x=\"64\" y=\"128\" style=\"fill:url(#SVGID_6_);\" width=\"64\" height=\"128\" />\n  <linearGradient id=\"SVGID_7_\" gradientUnits=\"userSpaceOnUse\" x1=\"128\" y1=\"192\" x2=\"192\" y2=\"192\">\n    <stop offset=\"0\" style=\"stop-color:#B87FB5\" /><stop offset=\"0.5\" style=\"stop-color:#8E2E8C\" /><stop offset=\"1\" style=\"stop-color:#731485\" />\n  </linearGradient>\n  <rect x=\"128\" y=\"128\" style=\"fill:url(#SVGID_7_);\" width=\"64\" height=\"128\" />\n  <linearGradient id=\"SVGID_8_\" gradientUnits=\"userSpaceOnUse\" x1=\"192\" y1=\"192\" x2=\"256\" y2=\"192\">\n    <stop offset=\"0\" style=\"stop-color:#EB70A6\" /><stop offset=\"0.5\" style=\"stop-color:#E4007F\" /><stop offset=\"1\" style=\"stop-color:#CE0080\" />\n  </linearGradient>\n  <rect x=\"192\" y=\"128\" style=\"fill:url(#SVGID_8_);\" width=\"64\" height=\"128\" />\n</g>\n</svg>\n`\n    return prefix + encodeURIComponent(template)\n  })\n\n  return {\n    fromPort,\n    toPort,\n    ioNodeEl,\n    feAttrEls,\n    setFeAttrEls,\n    allDescendants,\n    handlePortMouseenter,\n    filterThumbUrl\n  }\n}\n","export const filterLibraryPanelWidth = 150\nexport const stuffConfigPanelWidth = 300\nexport const topMenuBarHeight = 32\n\n// 圆形半径\nexport const POINT_R = 10\nexport const POINT_BORDER_W = 4\n\n// 路径手柄长度\nexport const HANDLE_LENGTH = 150\n\n// 路径宽度\nexport const PATH_STROKE_W = 4\n","\nimport { computed, defineComponent, h, PropType, ref, VNode } from 'vue'\nimport useIoNode from '../hooks/useIoNode'\n\nimport fe from '../fe-definition-config'\n\nimport type { OverwrittenIoNodeType, RelativePathForNode } from '@/views/AppMain/components/SvgCanvas/type'\nimport { SVGFilterConfig } from '../type'\nimport { Dictionary } from '@/utils/type'\nimport { noop } from '@/utils'\nimport { POINT_BORDER_W, POINT_R } from '@/config/ui'\nimport gogoendLog from '@/plugins/log'\n\nexport default defineComponent({\n  name: 'NormalNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      fromPort,\n      toPort,\n      ioNodeEl,\n      setFeAttrEls,\n      allDescendants,\n      handlePortMouseenter,\n      filterThumbUrl\n    } = useIoNode()\n\n    const feAttrValue = ref<Dictionary<string | number>>({})\n\n    const foreignPortValue = computed<Dictionary<string | number>>(() => {\n      const newValueMap: Dictionary<string | number> = {}\n\n      props.relativePaths.in.forEach(p => {\n        newValueMap[p.to.attr] = p.from.vm.mergedFeAttrValue[p.from.attr]\n      })\n      return newValueMap\n    })\n\n    const mergedFeAttrValue = computed<Dictionary<string | number>>(() => ({\n      ...feAttrValue.value,\n      ...foreignPortValue.value,\n      result: props.nodeId\n    }))\n\n    const getVNodeFragment = (item: OverwrittenIoNodeType, index: number): VNode => {\n      const is = item.is\n      const { mergedFeAttrValue } = item\n\n      const nodeAttrs: Dictionary<string | number> = {}\n      Object.keys(mergedFeAttrValue || {}).forEach(key => {\n        if (mergedFeAttrValue[key] !== undefined) {\n          nodeAttrs[key] = mergedFeAttrValue[key] || ''\n        }\n        if (nodeAttrs.in === nodeAttrs.result) {\n          delete nodeAttrs.in\n        }\n        if (\n          Object.prototype.hasOwnProperty.call(fe[is].ports, 'in') && !nodeAttrs.in\n        ) {\n          nodeAttrs.in = 'SourceGraphic'\n        }\n        if (\n          Object.prototype.hasOwnProperty.call(fe[is].ports, 'in2') && !nodeAttrs.in2\n        ) {\n          nodeAttrs.in2 = 'SourceGraphic'\n        }\n      })\n      const tag = (fe[is] as any).tag ?? is\n      return h(tag, nodeAttrs)\n    }\n\n    // 填充默认值\n    gogoendLog.debug(fe[props.is])\n    if (['normal', undefined].includes(fe[props.is].type)) {\n      const { ports } = fe[props.is] as SVGFilterConfig.NormalNode\n      Object.keys(ports).forEach(key => {\n        if (\n          (['number', 'range'] as unknown[]).includes(ports[key].type)\n        ) {\n          feAttrValue.value[key] = ports[key].defaultValue ?? 0\n        } else {\n          feAttrValue.value[key] = ports[key].defaultValue ?? ''\n        }\n      })\n    }\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      setFeAttrEls,\n      feAttrValue,\n      foreignPortValue,\n      mergedFeAttrValue,\n      afterPathConnected: noop,\n      afterPathRemoved: noop,\n\n      handlePortMouseenter,\n      fe,\n      allDescendants,\n\n      filterThumbUrl,\n      getVNodeFragment\n    }\n  }\n})\n","import { render } from \"./NormalNode.vue?vue&type=template&id=e7beee26&scoped=true&ts=true\"\nimport script from \"./NormalNode.vue?vue&type=script&lang=ts\"\nexport * from \"./NormalNode.vue?vue&type=script&lang=ts\"\n\nimport \"./NormalNode.vue?vue&type=style&index=0&id=e7beee26&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e7beee26\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b64b5bd0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"data-fe-attr\"]\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { class: \"io-node__port-text\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", { class: \"port-name\" }, \"in\")\n], -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.feAttrValue, (item, index) => {\n    return (_openBlock(), _createElementBlock(\"div\", {\n      class: \"io-node__li\",\n      key: index\n    }, [\n      _createElementVNode(\"em\", {\n        class: \"port in\",\n        style: _normalizeStyle({\n        width: `${2 * _ctx.POINT_R}px`,\n        height: `${ 2 * _ctx.POINT_R }px`,\n        borderWidth: `${ _ctx.POINT_BORDER_W }px`\n      }),\n        \"data-port-type\": \"in\",\n        r: \"10\",\n        \"data-fe-attr\": index,\n        ref_for: true,\n        ref: _ctx.setFeAttrEls,\n        onMouseenter: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handlePortMouseenter && _ctx.handlePortMouseenter(...args)))\n      }, null, 44, _hoisted_1),\n      _hoisted_2\n    ]))\n  }), 128))\n}","\nimport { computed, defineComponent, h, PropType, ref, unref, VNode, getCurrentInstance } from 'vue'\nimport useIoNode from '../hooks/useIoNode'\n\nimport fe from '../fe-definition-config'\n\nimport type { RelativePathForNode } from '@/views/AppMain/components/SvgCanvas/type'\nimport { Dictionary } from '@/utils/type'\nimport { POINT_BORDER_W, POINT_R } from '@/config/ui'\nimport { Path } from '@/views/AppMain/components/SvgCanvas/type'\nimport gogoendLog from '@/plugins/log'\n\nexport default defineComponent({\n  name: 'MergeNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      toPort,\n      fromPort,\n      ioNodeEl,\n      setFeAttrEls,\n      allDescendants,\n      handlePortMouseenter,\n      filterThumbUrl\n    } = useIoNode()\n\n    // const feAttrValue = computed<string[]>(() => {\n    //   return props.relativePaths.in.map(item => {\n    //     gogoendLog.debug(item.from.vm.nodeId)\n    //     return item.from.vm.nodeId\n    //   })\n    // })\n\n    const feAttrValue = ref<string[]>([''])\n\n    const mergedFeAttrValue = computed<Dictionary<string | number>>(() => ({\n      result: props.nodeId\n    }))\n\n    const parentVm = getCurrentInstance()!.parent?.proxy\n    const afterPathConnected = () => {\n      gogoendLog.debug(toPort?.value, fromPort?.value)\n\n      const { attr } = [toPort?.value, fromPort?.value].find(it => it?.vm === parentVm)!\n      const index = Number(attr)\n\n      feAttrValue.value[index] = fromPort!.value.vm.nodeId\n      if (!feAttrValue.value[index + 1]) {\n        feAttrValue.value[index + 1] = ''\n      }\n    }\n    const afterPathRemoved = (removedPath: Path) => {\n      const { attr } = removedPath.to\n      feAttrValue.value[Number(attr)] = ''\n    }\n\n    const getVNodeFragment = (): VNode => {\n      const { is, nodeId } = props\n      return h(is, {\n        result: nodeId\n      }, unref(feAttrValue).filter(filter => !!filter).map((result:string) => {\n        return h('feMergeNode', { in: result })\n      }))\n    }\n\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      setFeAttrEls,\n      feAttrValue,\n      mergedFeAttrValue,\n      afterPathConnected,\n      afterPathRemoved,\n\n      handlePortMouseenter,\n      allDescendants,\n\n      filterThumbUrl,\n      getVNodeFragment\n    }\n  }\n})\n","import { render } from \"./MergeNode.vue?vue&type=template&id=b64b5bd0&scoped=true&ts=true\"\nimport script from \"./MergeNode.vue?vue&type=script&lang=ts\"\nexport * from \"./MergeNode.vue?vue&type=script&lang=ts\"\n\nimport \"./MergeNode.vue?vue&type=style&index=0&id=b64b5bd0&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b64b5bd0\"]])\n\nexport default __exports__","import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\"))\n}","\nimport { defineComponent, h, PropType, readonly, VNode } from 'vue'\nimport useIoNode from '../hooks/useIoNode'\n\nimport fe from '../fe-definition-config'\n\nimport type { RelativePathForNode } from '@/views/AppMain/components/SvgCanvas/type'\nimport { Dictionary } from '@/utils/type'\nimport { POINT_BORDER_W, POINT_R } from '@/config/ui'\n\nexport default defineComponent({\n  name: 'SourceNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      fromPort,\n      ioNodeEl,\n      setFeAttrEls,\n      handlePortMouseenter,\n      filterThumbUrl\n    } = useIoNode()\n\n    const mergedFeAttrValue = readonly<Dictionary<string | number>>({\n      result: props.is\n    })\n\n    // FIXME: 此处节点应该只用于缩略图预览，不应出现在最终结果中\n    const getVNodeFragment = (): VNode => {\n      return h('feOffset', {\n        in: props.is\n      })\n    }\n\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      setFeAttrEls,\n      mergedFeAttrValue,\n\n      handlePortMouseenter,\n\n      filterThumbUrl,\n      getVNodeFragment\n    }\n  }\n})\n","import { render } from \"./SourceNode.vue?vue&type=template&id=4ebf66e6&scoped=true&ts=true\"\nimport script from \"./SourceNode.vue?vue&type=script&lang=ts\"\nexport * from \"./SourceNode.vue?vue&type=script&lang=ts\"\n\nimport \"./SourceNode.vue?vue&type=style&index=0&id=4ebf66e6&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4ebf66e6\"]])\n\nexport default __exports__","import { vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.feAttrValue.value) = $event))\n  }, null, 512)), [\n    [\n      _vModelText,\n      _ctx.feAttrValue.value,\n      void 0,\n      { lazy: true }\n    ]\n  ])\n}","\nimport { computed, defineComponent, h, PropType, readonly, ref, unref, VNode } from 'vue'\nimport useIoNode from '../hooks/useIoNode'\n\nimport fe from '../fe-definition-config'\n\nimport type { RelativePathForNode } from '@/views/AppMain/components/SvgCanvas/type'\nimport { Dictionary } from '@/utils/type'\nimport { POINT_BORDER_W, POINT_R } from '@/config/ui'\n\nexport default defineComponent({\n  name: 'SourceNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      fromPort,\n      ioNodeEl,\n      setFeAttrEls,\n      handlePortMouseenter,\n      filterThumbUrl\n    } = useIoNode()\n\n    const feAttrValue = ref<Dictionary<string | number>>({\n      value: ''\n    })\n\n    const mergedFeAttrValue = computed<Dictionary<string | number>>(() => {\n      return {\n        result: unref(feAttrValue).value\n      }\n    })\n\n    // FIXME: 此处节点应该只用于缩略图预览，不应出现在最终结果中\n    const getVNodeFragment = (): VNode | null => null\n\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      setFeAttrEls,\n      mergedFeAttrValue,\n\n      handlePortMouseenter,\n\n      filterThumbUrl,\n      getVNodeFragment,\n\n      feAttrValue\n    }\n  }\n})\n","import { render } from \"./StringLiteralNode.vue?vue&type=template&id=68f4c358&scoped=true&ts=true\"\nimport script from \"./StringLiteralNode.vue?vue&type=script&lang=ts\"\nexport * from \"./StringLiteralNode.vue?vue&type=script&lang=ts\"\n\nimport \"./StringLiteralNode.vue?vue&type=style&index=0&id=68f4c358&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-68f4c358\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-f802b5d6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"onUpdate:modelValue\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.feAttrValue, (_, index) => {\n      return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n        key: index,\n        \"onUpdate:modelValue\": ($event: any) => ((_ctx.feAttrValue[index]) = $event),\n        class: \"input\"\n      }, null, 8, _hoisted_1)), [\n        [_vModelText, _ctx.feAttrValue[index]]\n      ])\n    }), 128))\n  ]))\n}","\nimport { computed, defineComponent, h, PropType, readonly, ref, VNode } from 'vue'\nimport useIoNode from '../hooks/useIoNode'\n\nimport fe from '../fe-definition-config'\n\nimport type { RelativePathForNode } from '@/views/AppMain/components/SvgCanvas/type'\nimport { Dictionary } from '@/utils/type'\nimport { POINT_BORDER_W, POINT_R } from '@/config/ui'\n\nexport default defineComponent({\n  name: 'SourceNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      fromPort,\n      ioNodeEl,\n      setFeAttrEls,\n      handlePortMouseenter,\n      filterThumbUrl\n    } = useIoNode()\n\n    const feAttrValue = ref<number[]>(\n      (() => {\n        const arr = new Array(20)\n\n        arr.fill(0)\n        arr[0] = arr[6] = arr[12] = arr[18] = 1\n\n        return arr\n      })()\n    )\n\n    const mergedFeAttrValue = computed(\n      () => ({\n        result: feAttrValue.value.join(' ')\n      })\n    )\n\n    const getVNodeFragment = (): VNode | null => null\n\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      setFeAttrEls,\n\n      feAttrValue,\n      mergedFeAttrValue,\n\n      handlePortMouseenter,\n\n      filterThumbUrl,\n      getVNodeFragment\n    }\n  }\n})\n","import { render } from \"./MatrixInFeColorMatrixNode.vue?vue&type=template&id=f802b5d6&scoped=true&ts=true\"\nimport script from \"./MatrixInFeColorMatrixNode.vue?vue&type=script&lang=ts\"\nexport * from \"./MatrixInFeColorMatrixNode.vue?vue&type=script&lang=ts\"\n\nimport \"./MatrixInFeColorMatrixNode.vue?vue&type=style&index=0&id=f802b5d6&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f802b5d6\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4866aacc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"io-node__li\"\n}\nconst _hoisted_2 = [\"data-fe-attr\"]\nconst _hoisted_3 = { class: \"io-node__port-text\" }\nconst _hoisted_4 = { class: \"port-name\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.fe[_ctx.is].ports, (item, key) => {\n    return (_openBlock(), _createElementBlock(_Fragment, { key: key }, [\n      (item.showOnNode !== false)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            _createElementVNode(\"em\", {\n              class: \"port in\",\n              style: _normalizeStyle({\n          width: `${2 * _ctx.POINT_R}px`,\n          height: `${ 2 * _ctx.POINT_R }px`,\n          borderWidth: `${ _ctx.POINT_BORDER_W }px`\n        }),\n              \"data-port-type\": \"in\",\n              r: \"10\",\n              \"data-fe-attr\": key,\n              ref_for: true,\n              ref: _ctx.setFeAttrEls,\n              onMouseenter: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handlePortMouseenter && _ctx.handlePortMouseenter(...args)))\n            }, null, 44, _hoisted_2),\n            _createElementVNode(\"label\", _hoisted_3, [\n              _createElementVNode(\"span\", _hoisted_4, _toDisplayString(key), 1)\n            ])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ], 64))\n  }), 128))\n}","\nimport { computed, defineComponent, h, inject, PropType, ref, VNode } from 'vue'\nimport useIoNode from '../hooks/useIoNode'\n\nimport fe from '../fe-definition-config'\n\nimport type { OverwrittenIoNodeType, RelativePathForNode } from '@/views/AppMain/components/SvgCanvas/type'\nimport { SVGFilterConfig } from '../type'\nimport { Dictionary } from '@/utils/type'\nimport { noop } from '@/utils'\nimport { POINT_BORDER_W, POINT_R } from '@/config/ui'\n\nimport { NODE_REF_MAP_SYMBOL } from '@/store/canvasStuff'\nimport gogoendLog from '@/plugins/log'\n\nexport default defineComponent({\n  name: 'NormalNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      fromPort,\n      toPort,\n      ioNodeEl,\n      setFeAttrEls,\n      allDescendants,\n      handlePortMouseenter,\n      filterThumbUrl\n    } = useIoNode()\n\n    const feAttrValue = ref<Dictionary<string | number>>({})\n\n    const foreignPortValue = computed<Dictionary<string | number>>(() => {\n      const newValueMap: Dictionary<string | number> = {}\n\n      props.relativePaths.in.forEach(p => {\n        newValueMap[p.to.attr] = p.from.vm.mergedFeAttrValue[p.from.attr]\n      })\n      return newValueMap\n    })\n\n    const mergedFeAttrValue = computed<Dictionary<string | number>>(() => ({\n      in: foreignPortValue.value.in,\n      result: props.nodeId\n    }))\n\n    const nodeRefMap = inject(NODE_REF_MAP_SYMBOL)!\n    const getVNodeFragment = (item: OverwrittenIoNodeType): VNode => {\n      const is = item.is\n      const { mergedFeAttrValue } = item\n\n      const nodeAttrs: Dictionary<string | number> = {}\n      Object.keys(mergedFeAttrValue || {}).forEach(key => {\n        if (mergedFeAttrValue[key] !== undefined) {\n          nodeAttrs[key] = mergedFeAttrValue[key] || ''\n        }\n        if (nodeAttrs.in === nodeAttrs.result) {\n          delete nodeAttrs.in\n        }\n        if (\n          Object.prototype.hasOwnProperty.call(fe[is].ports, 'in') && !nodeAttrs.in\n        ) {\n          nodeAttrs.in = 'SourceGraphic'\n        }\n        if (\n          Object.prototype.hasOwnProperty.call(fe[is].ports, 'in2') && !nodeAttrs.in2\n        ) {\n          nodeAttrs.in2 = 'SourceGraphic'\n        }\n      })\n      const tag = (fe[is] as any).tag ?? is\n\n      const childVNodeAttrMap = {\n        R: { type: 'identity' },\n        G: { type: 'identity' },\n        B: { type: 'identity' },\n        A: { type: 'identity' }\n      }\n\n      Object.keys(childVNodeAttrMap).forEach(key => {\n        if (foreignPortValue.value[key]) {\n          Object.assign(\n            (childVNodeAttrMap as any)[key],\n            nodeRefMap.value[\n              foreignPortValue.value[key]\n            ].mergedFeAttrValue\n          )\n        }\n      })\n\n      return h(\n        tag,\n        nodeAttrs,\n        Object.entries(childVNodeAttrMap).map(([key, value]) => {\n          return h(\n            `feFunc${key}`,\n            value\n          )\n        })\n      )\n    }\n\n    // 填充默认值\n    gogoendLog.debug(fe[props.is])\n    if (['normal', undefined].includes(fe[props.is].type)) {\n      const { ports } = fe[props.is] as SVGFilterConfig.NormalNode\n      Object.keys(ports).forEach(key => {\n        if (\n          (['number', 'range'] as unknown[]).includes(ports[key].type)\n        ) {\n          feAttrValue.value[key] = ports[key].defaultValue ?? 0\n        } else {\n          feAttrValue.value[key] = ports[key].defaultValue ?? ''\n        }\n      })\n    }\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      setFeAttrEls,\n      feAttrValue,\n      foreignPortValue,\n      mergedFeAttrValue,\n      afterPathConnected: noop,\n      afterPathRemoved: noop,\n\n      handlePortMouseenter,\n      fe,\n      allDescendants,\n\n      filterThumbUrl,\n      getVNodeFragment\n    }\n  }\n})\n","import { render } from \"./ComponentTransferRootNode.vue?vue&type=template&id=4866aacc&scoped=true&ts=true\"\nimport script from \"./ComponentTransferRootNode.vue?vue&type=script&lang=ts\"\nexport * from \"./ComponentTransferRootNode.vue?vue&type=script&lang=ts\"\n\nimport \"./ComponentTransferRootNode.vue?vue&type=style&index=0&id=4866aacc&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4866aacc\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2d4cd09e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"io-node__li\"\n}\nconst _hoisted_2 = [\"data-fe-attr\"]\nconst _hoisted_3 = { class: \"io-node__port-text\" }\nconst _hoisted_4 = { class: \"port-name\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.fe[_ctx.is].ports, (item, key) => {\n    return (_openBlock(), _createElementBlock(_Fragment, { key: key }, [\n      (item.showOnNode !== false)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            _createElementVNode(\"em\", {\n              class: \"port in\",\n              style: _normalizeStyle({\n          width: `${2 * _ctx.POINT_R}px`,\n          height: `${ 2 * _ctx.POINT_R }px`,\n          borderWidth: `${ _ctx.POINT_BORDER_W }px`\n        }),\n              \"data-port-type\": \"in\",\n              r: \"10\",\n              \"data-fe-attr\": key,\n              ref_for: true,\n              ref: _ctx.setFeAttrEls,\n              onMouseenter: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handlePortMouseenter && _ctx.handlePortMouseenter(...args)))\n            }, null, 44, _hoisted_2),\n            _createElementVNode(\"label\", _hoisted_3, [\n              _createElementVNode(\"span\", _hoisted_4, _toDisplayString(key), 1)\n            ])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ], 64))\n  }), 128))\n}","\nimport { computed, defineComponent, h, inject, PropType, ref, VNode } from 'vue'\nimport useIoNode from '../hooks/useIoNode'\n\nimport fe from '../fe-definition-config'\n\nimport type { OverwrittenIoNodeType, RelativePathForNode } from '@/views/AppMain/components/SvgCanvas/type'\nimport { SVGFilterConfig } from '../type'\nimport { Dictionary } from '@/utils/type'\nimport { noop } from '@/utils'\nimport { POINT_BORDER_W, POINT_R } from '@/config/ui'\n\nimport { NODE_REF_MAP_SYMBOL } from '@/store/canvasStuff'\nimport gogoendLog from '@/plugins/log'\n\nexport default defineComponent({\n  name: 'NormalNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      fromPort,\n      toPort,\n      ioNodeEl,\n      setFeAttrEls,\n      allDescendants,\n      handlePortMouseenter,\n      filterThumbUrl\n    } = useIoNode()\n\n    const feAttrValue = ref<Dictionary<string | number>>({})\n\n    const foreignPortValue = computed<Dictionary<string | number>>(() => {\n      const newValueMap: Dictionary<string | number> = {}\n\n      props.relativePaths.in.forEach(p => {\n        newValueMap[p.to.attr] = p.from.vm.mergedFeAttrValue[p.from.attr]\n      })\n      return newValueMap\n    })\n\n    const mergedFeAttrValue = computed<Dictionary<string | number>>(() => ({\n      // FIXME: any\n      type: (fe[props.is].ports as any).type.defaultValue,\n      ...feAttrValue.value,\n      ...foreignPortValue.value,\n      result: props.nodeId\n    }))\n\n    const getVNodeFragment = (): VNode | null => null\n\n    // 填充默认值\n    gogoendLog.debug(fe[props.is])\n    if (['normal', undefined].includes(fe[props.is].type)) {\n      const { ports } = fe[props.is] as SVGFilterConfig.NormalNode\n      Object.keys(ports).forEach(key => {\n        if (\n          (['number', 'range'] as unknown[]).includes(ports[key].type)\n        ) {\n          feAttrValue.value[key] = ports[key].defaultValue ?? 0\n        } else {\n          feAttrValue.value[key] = ports[key].defaultValue ?? ''\n        }\n      })\n    }\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      setFeAttrEls,\n      feAttrValue,\n      foreignPortValue,\n      mergedFeAttrValue,\n      afterPathConnected: noop,\n      afterPathRemoved: noop,\n\n      handlePortMouseenter,\n      fe,\n      allDescendants,\n\n      filterThumbUrl,\n      getVNodeFragment\n    }\n  }\n})\n","import { render } from \"./ComponentTransferChildNode.vue?vue&type=template&id=2d4cd09e&scoped=true&ts=true\"\nimport script from \"./ComponentTransferChildNode.vue?vue&type=script&lang=ts\"\nexport * from \"./ComponentTransferChildNode.vue?vue&type=script&lang=ts\"\n\nimport \"./ComponentTransferChildNode.vue?vue&type=style&index=0&id=2d4cd09e&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2d4cd09e\"]])\n\nexport default __exports__","\nimport { computed, defineComponent, getCurrentInstance, inject, nextTick, onBeforeUpdate, PropType, provide, Ref, ref, createApp, h } from 'vue'\nimport mouseEventHelper from '@/utils/mouse-event-helper'\n\nimport fe from './fe-definition-config'\n\nimport { OverwrittenIoNodeType, Path, Port, RelativePathForNode, SVG_CANVAS_RECT_SYMBOL } from '@/views/AppMain/components/SvgCanvas/type'\nimport { getTopoOrder, isPortEl } from '@/utils'\n\nimport NormalNode from './components/NormalNode.vue'\nimport MergeNode from './components/MergeNode.vue'\nimport SourceNode from './components/SourceNode.vue'\nimport StringLiteralNode from './components/StringLiteralNode.vue'\nimport MatrixInFeColorMatrixNode from './components/MatrixInFeColorMatrixNode.vue'\nimport ComponentTransferRootNode from './components/ComponentTransferRootNode.vue'\nimport ComponentTransferChildNode from './components/ComponentTransferChildNode.vue'\n\nimport { filterLibraryPanelWidth, POINT_BORDER_W, POINT_R } from '@/config/ui'\nimport { FOCUSING_NODE_SYMBOL } from '@/store/focusState'\nimport { REMOVE_NODE_SYMBOL } from '@/store/canvasStuff'\n\nimport LuLightTip from 'lu2/theme/edge/js/common/ui/LightTip'\nimport gogoendLog from '@/plugins/log'\n\nconst IoNode: {\n  new(): OverwrittenIoNodeType\n} = defineComponent({\n  components: { NormalNode, MergeNode, SourceNode, StringLiteralNode, MatrixInFeColorMatrixNode, ComponentTransferRootNode, ComponentTransferChildNode },\n  name: 'IoNode',\n  props: {\n    is: {\n      type: String as PropType<keyof typeof fe>,\n      required: true\n    },\n    nodeId: {\n      type: String,\n      required: true\n    },\n    relativePaths: {\n      type: Object as PropType<RelativePathForNode>,\n      required: true\n    },\n    position: {\n      type: Array as PropType<number[]>,\n      required: true\n    }\n  },\n  setup(props, { emit }) {\n    const vm = getCurrentInstance()!.proxy as unknown as OverwrittenIoNodeType\n\n    const svgCanvasRect = inject(SVG_CANVAS_RECT_SYMBOL)!\n\n    const fromPort = inject<Ref<Port<typeof vm>>>('fromPort')\n    const toPort = inject<Ref<Port<typeof vm>>>('toPort')\n\n    const ioNodeEl = ref<SVGGElement>()\n\n    const clickedRelativePosition = ref([0, 0])\n\n    const feAttrEls = ref<SVGCircleElement[]>([])\n    const setFeAttrEls = (el?: SVGCircleElement) => {\n      el && feAttrEls.value.push(el)\n    }\n    onBeforeUpdate(() => { feAttrEls.value = [] })\n\n    const InternalNodeImplement = computed(() => {\n      const is = props.is as keyof typeof fe\n\n      if (['normal', undefined].includes(fe[is].type)) {\n        return NormalNode\n      } else if (['merge'].includes(fe[is].type)) {\n        return MergeNode\n      } else if (['source'].includes(fe[is].type)) {\n        return SourceNode\n      } else if (['string-literal'].includes(fe[is].type)) {\n        return StringLiteralNode\n      } else if (['matrix-in-fe-color-matrix'].includes(fe[is].type)) {\n        return MatrixInFeColorMatrixNode\n      } else if (['component-transfer-root'].includes(fe[is].type)) {\n        return ComponentTransferRootNode\n      } else if (['component-transfer-child'].includes(fe[is].type)) {\n        return ComponentTransferChildNode\n      } else {\n        return 'div'\n      }\n    })\n\n    const nodeConfigRef = ref<InstanceType<typeof NormalNode> | InstanceType<typeof MergeNode>>()\n\n    const filterThumbUrl = computed<string>(() => {\n      return nodeConfigRef.value?.filterThumbUrl ?? ''\n    })\n\n    /**\n     * feAttrValue 供下层（各类型Node）组件递归组件树时使用，直接在本层级获得feAttrValue而无需进入到下层组件\n     * 去掉此变量会使得 filterThumb 一片空白，且生成的滤镜标签中无任何属性\n     */\n    const mergedFeAttrValue = computed(() => {\n      return nodeConfigRef.value?.mergedFeAttrValue ?? {}\n    })\n    /**\n     * getVNodeFragment 供下层（各类型Node）组件递归组件树时使用，用于获得滤镜VNode\n     */\n    const getVNodeFragment = computed(() => {\n      return nodeConfigRef.value?.getVNodeFragment\n    })\n\n    const afterPathConnected = computed(() => {\n      return nodeConfigRef.value?.afterPathConnected ?? (() => void 0)\n    })\n    const afterPathRemoved = computed(() => {\n      return nodeConfigRef.value?.afterPathRemoved ?? (() => void 0)\n    })\n\n    const canvasScrollEl = inject('canvasScrollEl') as Ref<HTMLElement>\n    const handleNodeMousedown = function(ev: MouseEvent) {\n      mouseEventHelper(ev, {\n        start(ev, { originEl }) {\n          // 如果鼠标事件的出发点是端口\n          if (isPortEl(originEl)) {\n            // 就认为连线开始了\n            emit('port-start', { ev, originEl, vm })\n          } else {\n            // 否则认为是节点移动，此时保存鼠标事件起始点的位置\n            const currentPosition = (ioNodeEl.value?.getBoundingClientRect() as DOMRect)\n            // clickedRelativePosition.value = [ev.pageX - currentPosition?.left, ev.pageY - currentPosition?.top]\n            clickedRelativePosition.value = [\n              ev.pageX - currentPosition?.left - canvasScrollEl.value.scrollLeft,\n              ev.pageY - currentPosition?.top - canvasScrollEl.value.scrollTop\n            ]\n          }\n        },\n        move(ev, { originEl }) {\n          // 如果鼠标事件的出发点是端口\n          if (isPortEl(originEl)) {\n            // 就认为目前处于连线改变阶段 - 连线的控制点坐标应当会随之改变\n            emit('port-move', { ev, originEl, vm })\n          } else {\n            // 否则认为是节点移动，此时更新节点的位置\n            const newPosition = [\n              ev.pageX - clickedRelativePosition.value[0] - svgCanvasRect.value.left,\n              ev.pageY - clickedRelativePosition.value[1] - svgCanvasRect.value.top\n            ] // clickedRelativePosition.value.concat()\n            emit('update:position', newPosition)\n            nextTick(() => {\n              const currentPosition = (ioNodeEl.value?.getBoundingClientRect() as DOMRect)\n              clickedRelativePosition.value = [\n                ev.pageX - currentPosition?.left - canvasScrollEl.value.scrollLeft,\n                ev.pageY - currentPosition?.top - canvasScrollEl.value.scrollTop\n              ]\n              emit('node-move', props.relativePaths)\n            })\n          }\n        },\n        up(ev, { originEl }) {\n          // 如果鼠标事件的出发点是端口\n          if (isPortEl(originEl)) {\n            // 而且如果鼠标事件的终止点也是端口\n            if (\n              isPortEl(ev.target as HTMLElement) &&\n              fromPort?.value &&\n              toPort?.value\n            ) {\n              // 则认为两个端口应该进行连线\n              // gogoendLog.debug(toPort.value.vm.refs.ioNodeEl.querySelector(`[data-fe-attr=${toPort.value.attr}]`))\n              emit('port-connect', { ev, originEl, vm })\n            } else {\n              // 否则如果鼠标事件的终止点不是端口，则认为连线过程已经取消\n              emit('port-cancel', { ev, originEl, vm })\n            }\n          }\n          // 重置鼠标事件起始点位置\n          clickedRelativePosition.value = [0, 0]\n        }\n      })\n    }\n\n    const handlePortMouseout = function(ev: Event) {\n      if (!fromPort?.value) { return }\n      emit('destination-change', { ev, vm: null, originEl: null })\n      ev.target?.removeEventListener('mouseout', handlePortMouseout)\n    }\n    const handlePortMouseenter = function(ev: Event) {\n      if (!fromPort?.value) { return }\n      emit('destination-change', { ev, vm, originEl: ev.target })\n      ev.target?.addEventListener('mouseout', handlePortMouseout)\n    }\n    provide('handlePortMouseenter', handlePortMouseenter)\n\n    // 计算属性，表示当前节点下的所有的后代节点\n    const allDescendants = computed<OverwrittenIoNodeType[]>(() => {\n      const allDescendants = new Set<OverwrittenIoNodeType>()\n      const innerLoop = (vm: OverwrittenIoNodeType) => {\n        allDescendants.add(vm)\n\n        vm.relativePaths.in.forEach((item) => {\n          innerLoop(item.from.vm)\n        })\n        // [0].from.vm.allDescendants[0]\n      }\n      innerLoop(vm)\n      // props.relativePaths.in[0].from.vm.relativePaths.in[0].from.vm.relativePaths.in[0]\n      return [...allDescendants]\n    })\n    provide('allDescendants', allDescendants)\n\n    const orderedAllDescendants = computed<OverwrittenIoNodeType[]>(() => {\n      const allInPaths: Path[] = []\n      allDescendants?.value.forEach(item => {\n        allInPaths.push(...item.relativePaths.in)\n      })\n\n      if (allInPaths.length) {\n        return getTopoOrder(allInPaths)\n      } else {\n        return [vm]\n      }\n    })\n    provide('orderedAllDescendants', orderedAllDescendants)\n    const renderOfOrderedAllDescendants = computed(() => {\n      return orderedAllDescendants.value.map(it => {\n        return () => it.getVNodeFragment(it)\n      })\n    })\n\n    const [focusingNode, setFocusingNode] = inject(FOCUSING_NODE_SYMBOL)!\n    const handleNodeBodyClick = () => {\n      setFocusingNode(vm)\n    }\n    const isFocused = computed(() => focusingNode.value === vm)\n\n    const removeNode = inject(REMOVE_NODE_SYMBOL)!\n    const copySvgFilterCode = async() => {\n      const TempComponent = () => h(\n        'filter',\n        {\n          id: props.nodeId\n        },\n        renderOfOrderedAllDescendants.value.map(render => render())\n      )\n      const tempVueApp = createApp(TempComponent)\n\n      const tempEl: SVGSVGElement | null = document.createElementNS('http://www.w3.org/2000/svg', 'svg')\n      tempVueApp.mount(tempEl)\n      await nextTick()\n      const svgFilterCode = tempEl.outerHTML\n      tempVueApp.unmount()\n\n      await navigator.clipboard.writeText(svgFilterCode)\n      LuLightTip.success('SVG filter code has been copied successfully.', 'success')\n    }\n    const copyCssRule = async() => {\n      const cssText = `filter: url(#${props.nodeId})`\n      await navigator.clipboard.writeText(cssText)\n      LuLightTip.success('CSS rule code has been copied successfully.', 'success')\n    }\n\n    return {\n      POINT_R,\n      POINT_BORDER_W,\n\n      fromPort,\n\n      ioNodeEl,\n\n      InternalNodeImplement,\n\n      setFeAttrEls,\n\n      handleNodeMousedown,\n      handlePortMouseenter,\n      fe,\n      allDescendants,\n      afterPathConnected,\n      afterPathRemoved,\n\n      nodeConfigRef,\n      filterThumbUrl,\n      mergedFeAttrValue,\n      getVNodeFragment,\n      orderedAllDescendants,\n      renderOfOrderedAllDescendants,\n\n      focusingNode,\n      handleNodeBodyClick,\n      isFocused,\n\n      removeNode,\n      copySvgFilterCode,\n      copyCssRule\n    }\n  }\n})\n\nexport default IoNode\n","import { render } from \"./index.vue?vue&type=template&id=06f83674&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=06f83674&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-06f83674\"]])\n\nexport default __exports__","import { normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, withModifiers as _withModifiers, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-36397aac\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"d\"]\nconst _hoisted_2 = [\"transform\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Delete = _resolveComponent(\"Delete\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _directive_pingping = _resolveDirective(\"pingping\")!\n\n  return (_openBlock(), _createElementBlock(\"g\", {\n    class: _normalizeClass([\"linked-path\", { 'linked-path__focused': _ctx.focused }]),\n    onFocus: _cache[4] || (_cache[4] = ($event: any) => (_ctx.focused = true)),\n    onBlur: _cache[5] || (_cache[5] = ($event: any) => (_ctx.focused = false))\n  }, [\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"linked-path-path\", { 'linked-path__focused-path': _ctx.focused }]),\n      style: _normalizeStyle({ strokeWidth: `${_ctx.PATH_STROKE_W}px` }),\n      d: _ctx.pathD,\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handlePathClick && _ctx.handlePathClick(...args))),\n      ref: \"pathRef\"\n    }, null, 14, _hoisted_1),\n    (_ctx.focused)\n      ? (_openBlock(), _createElementBlock(\"foreignObject\", {\n          key: 0,\n          transform: `translate(\n        ${_ctx.p[0]},\n        ${_ctx.p[1]}\n      )`,\n          style: {\"overflow\":\"visible\"}\n        }, [\n          _createElementVNode(\"div\", {\n            class: \"linked-path__toolbox\",\n            xmlns: \"http://www.w3.org/1999/xhtml\",\n            onClick: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"stop\"]))\n          }, [\n            _withDirectives((_openBlock(), _createElementBlock(\"button\", {\n              class: \"linked-path__toolbox-button\",\n              is: \"ui-button\",\n              onMousedown: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"])),\n              onClick: _cache[2] || (_cache[2] = _withModifiers(($event: any) => (_ctx.removePath(_ctx.pathId)), [\"prevent\"])),\n              title: \"Remove Link\",\n              \"data-type\": \"danger\"\n            }, [\n              _createVNode(_component_el_icon, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_Delete)\n                ]),\n                _: 1\n              })\n            ], 32)), [\n              [_directive_pingping, {remark: `[io-path] ${_ctx.from.vm.is} ${_ctx.from.attr} 到 ${_ctx.to.vm.is} ${_ctx.to.attr} 的连线 按下了删除按钮`}]\n            ])\n          ])\n        ], 8, _hoisted_2))\n      : _createCommentVNode(\"\", true)\n  ], 34))\n}","\nimport { PATH_STROKE_W } from '@/config/ui'\nimport gogoendLog from '@/plugins/log'\nimport { REMOVE_PATH_SYMBOL } from '@/store/canvasStuff'\nimport { computed, defineComponent, inject, PropType, ref } from 'vue'\n\nimport { OverwrittenIoNodeType } from '../../type'\n\nexport default defineComponent({\n  name: 'IoPath',\n  props: {\n    pathDArguments: {\n      type: Array as PropType<number[]>,\n      required: true\n    },\n    pathId: {\n      type: String,\n      required: true\n    },\n    from: {\n      type: Object as PropType<OverwrittenIoNodeType>,\n      required: true\n    },\n    to: {\n      type: Object as PropType<OverwrittenIoNodeType>,\n      required: true\n    }\n  },\n  setup(props) {\n    const pathD = computed(() => {\n      const dArgs = props.pathDArguments\n      return `\n      M ${dArgs[0]}, ${dArgs[1]}\n      C ${dArgs[2]}, ${dArgs[3]}, ${dArgs[4]}, ${dArgs[5]}, ${dArgs[6]}, ${dArgs[7]}`\n    })\n    const pathRef = ref<SVGPathElement|null>(null)\n\n    const focused = ref(false)\n    const p = computed(() => {\n      void pathD.value\n      void focused.value\n      const { x, y } = pathRef.value?.getPointAtLength(pathRef.value?.getTotalLength() / 2) || { x: 0, y: 0 }\n      return [x, y]\n    })\n\n    const removePath = inject(REMOVE_PATH_SYMBOL)!\n    const handlePathClick = (ev: MouseEvent) => {\n      gogoendLog.debug(ev)\n    }\n    const handlePathBlur = (ev: Event) => {\n      gogoendLog.debug(ev)\n    }\n\n    return {\n      PATH_STROKE_W,\n\n      focused,\n      pathRef,\n      pathD,\n      p,\n\n      removePath,\n      handlePathClick,\n      handlePathBlur\n    }\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=36397aac&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=36397aac&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-36397aac\"]])\n\nexport default __exports__","import gogoendLog from '@/plugins/log'\nimport { OverwrittenIoNodeType, Path, Port } from '@/views/AppMain/components/SvgCanvas/type'\n\nfunction checkLoop(path: Path) {\n  const { to, from } = path\n  let hasLoop = false\n  const innerLoop = (from: Port<OverwrittenIoNodeType>) => {\n    if (to.vm === from.vm) {\n      hasLoop = true\n      return\n    }\n    for (let i = 0; i < from.vm.relativePaths.in.length; i++) {\n      if (hasLoop) break\n      const item = from.vm.relativePaths.in[i]\n      innerLoop(item.from)\n    }\n  }\n  innerLoop(from)\n  return hasLoop\n}\n\nfunction checkDuplicateLink(path: Path) {\n  const { to, from } = path\n\n  const duplicatedLinks = to.vm.relativePaths.in.filter((path: Path) => {\n    // out port可以连出多条线，但in port只能连入一条线\n    return (\n      to.attr === path.to.attr && to.vm === path.to.vm\n    )\n  })\n\n  return duplicatedLinks.length > 0\n}\n\nexport function assertPortCanBeConnected(path: Path) {\n  // 在当前port元素上点击后即松开\n  if (path.from.vm === path.to.vm) {\n    throw new TypeError('Cannot link to self')\n  }\n  // 尝试连接类型（in、out）相同的端口\n  if (path.from.el?.dataset.portType === path.to.el?.dataset.portType) {\n    throw new TypeError('Cannot create link when the two ports have same direction')\n  }\n  // 发生了重复连接\n  if (checkDuplicateLink(path)) {\n    throw new TypeError('Cannot create duplicate link')\n  }\n  // 连接产生了环\n  if (checkLoop(path)) {\n    throw new TypeError('Cannot create link when loop is detected')\n  }\n  gogoendLog.debug(\n    path.to.vm.relativePaths.in[0]\n      ?.from.vm.relativePaths.in[0]\n      ?.from.vm.relativePaths.in\n  )\n}\n","import gogoendLog from '@/plugins/log'\nimport { shallowRef, onBeforeUnmount, onMounted, nextTick, getCurrentInstance } from 'vue'\nexport default function useLayoutCache() {\n  const elRect = shallowRef<null | DOMRectReadOnly>(null)\n  const vm = getCurrentInstance()!.proxy!\n\n  let ro: null | ResizeObserver = new ResizeObserver(([entry], observer) => {\n    // Do something to each entry\n    // and possibly something to the observer itself\n\n    elRect.value = entry.target.getBoundingClientRect()\n    gogoendLog.debug(elRect.value)\n  })\n  onMounted(() => {\n    ro!.observe(vm.$el)\n    onBeforeUnmount(() => {\n      ro!.disconnect()\n    })\n    ro = null\n  })\n\n  return {\n    elRect\n  }\n}\n","\nimport { computed, defineComponent, ref, provide, onBeforeUpdate, onMounted, watch, readonly, inject, shallowRef, nextTick, onUnmounted, getCurrentInstance, ShallowRef, InjectionKey } from 'vue'\nimport IoNode from './components/IoNode/index.vue'\nimport IoPath from './components/IoPath/index.vue'\n\nimport { Port, Path, Node, RelativePathForNode, SVG_CANVAS_RECT_SYMBOL } from './type'\nimport { getPortElType } from '@/utils'\nimport { assertPortCanBeConnected } from '@/utils/link-validator'\nimport { HANDLE_LENGTH, POINT_R } from '@/config/ui'\nimport {\n  ALL_LINKED_PATH_ON_CANVAS_SYMBOL,\n  ALL_NODES_ON_CANVAS_SYMBOL,\n  REMOVE_PATH_SYMBOL,\n  RELATIVE_PATH_MAP_INDEXED_BY_NODE_ID_SYMBOL,\n  ADD_RELATION_IN_MAP_INDEXED_BY_NODE_ID_SYMBOL,\n  ADD_PATH_SYMBOL,\n  NODE_REF_MAP_SYMBOL,\n  ADD_NODE_SYMBOL\n} from '@/store/canvasStuff'\nimport { DRAGGING_NODE_ICON_SYMBOL, GHOST_NODE_REF_SYMBOL } from '@/store/draggingNode'\nimport { uuid } from '@/utils/uuid'\n// eslint-disable-next-line vue/prefer-import-from-vue\nimport { hasOwn } from '@vue/shared'\n\nimport useLayoutCache from './hooks/useLayoutCache'\nimport { ProjectFile } from '@/schema/ProjectFile'\nimport LuLightTip from 'lu2/theme/edge/js/common/ui/LightTip'\nimport gogoendLog from '@/plugins/log'\nimport log from '@/plugins/log'\n\nexport default defineComponent({\n  name: 'SvgCanvas',\n  components: {\n    IoNode,\n    IoPath\n  },\n  setup() {\n    const canvasScrollEl = shallowRef<HTMLDivElement>()\n    provide('canvasScrollEl', canvasScrollEl)\n\n    const svgCanvasRect = useLayoutCache().elRect as ShallowRef<DOMRectReadOnly>\n    provide(SVG_CANVAS_RECT_SYMBOL, svgCanvasRect)\n\n    const linkedPaths = inject(ALL_LINKED_PATH_ON_CANVAS_SYMBOL)!\n    const addPath = inject(ADD_PATH_SYMBOL)!\n\n    const nodes = inject(ALL_NODES_ON_CANVAS_SYMBOL)!\n\n    const relativePathMapIndexedByNodeId = inject(RELATIVE_PATH_MAP_INDEXED_BY_NODE_ID_SYMBOL)!\n    const addRelationInMapIndexedByNodeId = inject(ADD_RELATION_IN_MAP_INDEXED_BY_NODE_ID_SYMBOL)!\n\n    const nodeRefMap = inject(NODE_REF_MAP_SYMBOL)!\n    const setNodeRefMap = (ref?: InstanceType<typeof IoNode>) => {\n      if (ref) {\n        nodeRefMap.value[ref.nodeId] = ref\n      }\n    }\n    onBeforeUpdate(() => { nodeRefMap.value = {} })\n\n    /**\n     * 鬼影路径参数\n     */\n    const ghostPathDArguments = ref([0, 0, 0, 0, 0, 0, 0, 0])\n    const ghostPathD = computed(() => {\n      const dArgs = ghostPathDArguments.value\n      return `\nM ${dArgs[0]}, ${dArgs[1]}\nC ${dArgs[2]}, ${dArgs[3]}, ${dArgs[4]}, ${dArgs[5]}, ${dArgs[6]}, ${dArgs[7]}`\n    })\n\n    const fromPort = ref<Port<InstanceType<typeof IoNode>>|null>(null)\n    const toPort = ref<Port<InstanceType<typeof IoNode>>|null>(null)\n    provide('fromPort', fromPort)\n    provide('toPort', toPort)\n    // const destnationVm = ref<InstanceType<typeof IoNode>>()\n\n    /**\n     * 处理鼠标点击起始/终止端口\n     * 点击后，将开始从端口发出鬼影路径\n     */\n    const handlePortStart = (\n      {\n        originEl,\n        vm\n      }:\n      {\n        ev:MouseEvent,\n        originEl: SVGCircleElement,\n        vm: InstanceType<typeof IoNode>\n      }\n    ) => {\n      const el = originEl\n      fromPort.value = {\n        vm,\n        attr: originEl.dataset?.feAttr ?? '',\n        el: originEl\n      }\n      const coord = [\n        el.getBoundingClientRect().x,\n        el.getBoundingClientRect().y\n      ]\n\n      if (getPortElType(el) === 'in') {\n        ghostPathDArguments.value = [\n          coord[0],\n          coord[1] + POINT_R,\n          coord[0] + HANDLE_LENGTH + POINT_R,\n          coord[1] + POINT_R,\n\n          coord[0] - HANDLE_LENGTH + POINT_R,\n          coord[1] + POINT_R,\n          coord[0],\n          coord[1] + POINT_R\n        ].map((p, i) => i % 2 === 0 ? p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left : p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top)\n      }\n      if (getPortElType(el) === 'out') {\n        ghostPathDArguments.value = [\n          coord[0] + 2 * POINT_R,\n          coord[1] + POINT_R,\n          coord[0] + HANDLE_LENGTH + POINT_R,\n          coord[1] + POINT_R,\n\n          coord[0] - HANDLE_LENGTH + POINT_R,\n          coord[1],\n          coord[0],\n          coord[1]\n        ].map((p, i) => i % 2 === 0 ? p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left : p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top)\n      }\n    }\n\n    /**\n     * 处理从端口发出路径后，鼠标移动时的一些逻辑\n     * 用于更新鬼影路径的逻辑\n     */\n    const handlePortMove = (\n      {\n        ev,\n        originEl\n      }:\n      {\n        ev:MouseEvent,\n        originEl: SVGCircleElement,\n        vm: InstanceType<typeof IoNode>\n      }\n    ) => {\n      if (getPortElType(originEl) === 'in') {\n        ghostPathDArguments.value = [\n          ev.pageX, ev.pageY, ev.pageX + HANDLE_LENGTH, ev.pageY,\n          ...ghostPathDArguments.value.slice(4)\n        ].map((p, i) => {\n          if (i <= 3) {\n            if (i % 2 === 0) {\n              return p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left\n            } else {\n              return p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top\n            }\n          } else {\n            return p\n          }\n        })\n      }\n      if (getPortElType(originEl) === 'out') {\n        ghostPathDArguments.value = [\n          ...ghostPathDArguments.value.slice(0, 4),\n          ev.pageX - HANDLE_LENGTH, ev.pageY, ev.pageX, ev.pageY\n        ].map((p, i) => {\n          if (i >= 4) {\n            if (i % 2 === 0) {\n              return p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left\n            } else {\n              return p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top\n            }\n          } else {\n            return p\n          }\n        })\n      }\n    }\n\n    /**\n     * 处理从端口发出路径后，连接到另一端口的逻辑\n     */\n    const handlePortConnect = (\n      {\n        ev,\n        originEl\n      }:\n      {\n        ev: MouseEvent,\n        originEl: SVGCircleElement,\n        vm: InstanceType<typeof IoPath>\n      }\n    ) => {\n      const el = ev.target as SVGGElement\n      const coord = [\n        el.getBoundingClientRect().x,\n        el.getBoundingClientRect().y\n      ]\n      let pathDArguments: number[] = []\n\n      let linkedPath!: Path\n      // 从输入接口出发，连到输出接口的逻辑 - 反向连接\n      if (getPortElType(originEl) === 'in') {\n        pathDArguments = [\n          coord[0] + 2 * POINT_R,\n          coord[1] + POINT_R,\n          coord[0] + HANDLE_LENGTH + POINT_R,\n          coord[1] + POINT_R,\n          ...ghostPathDArguments.value.slice(4)\n        ].map((p, i) => {\n          if (i <= 3) {\n            if (i % 2 === 0) {\n              return p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left\n            } else {\n              return p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top\n            }\n          } else {\n            return p\n          }\n        })\n        // 在存储路径时需要将to和from交换，因为连接的出发点是从输入接口，输入接口被存储为了fromPort\n        linkedPath = {\n          pathDArguments,\n          id: uuid(),\n          to: fromPort.value as Port<InstanceType<typeof IoNode>>,\n          from: toPort.value as Port<InstanceType<typeof IoNode>>\n        }\n      }\n      // 从输出接口出发，连到输入接口的逻辑 - 正向连接\n      if (getPortElType(originEl) === 'out') {\n        pathDArguments = [\n          ...ghostPathDArguments.value.slice(0, 4),\n          coord[0] - HANDLE_LENGTH + POINT_R,\n          coord[1] + POINT_R,\n          coord[0],\n          coord[1] + POINT_R\n        ].map((p, i) => {\n          if (i >= 4) {\n            if (i % 2 === 0) {\n              return p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left\n            } else {\n              return p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top\n            }\n          } else {\n            return p\n          }\n        })\n        linkedPath = {\n          pathDArguments,\n          id: uuid(),\n          from: fromPort.value as Port<InstanceType<typeof IoNode>>,\n          to: toPort.value as Port<InstanceType<typeof IoNode>>\n        }\n        log.log(`[svg-canvas] 建立了一条${linkedPath.from.vm.is} ${linkedPath.from.attr} 到 ${linkedPath.to.vm.is} ${linkedPath.to.attr} 的连线`)\n      }\n\n      try {\n        assertPortCanBeConnected(linkedPath)\n        addPath(linkedPath)\n\n        // 处理开始端口为out端口\n        if (getPortElType(originEl) === 'out') {\n          addRelationInMapIndexedByNodeId(\n            linkedPath,\n            fromPort,\n            toPort\n          )\n          toPort.value?.vm?.afterPathConnected?.()\n        } else {\n          // 处理开始端口为in端口\n          addRelationInMapIndexedByNodeId(\n            linkedPath,\n            toPort,\n            fromPort\n          )\n          fromPort.value?.vm?.afterPathConnected?.()\n        }\n      } catch (err) {\n        LuLightTip.error(\n          (err as Error).message\n        )\n        gogoendLog.error(err)\n      }\n      fromPort.value = null\n      toPort.value = null\n      ghostPathDArguments.value.fill(0)\n    }\n\n    /**\n     * 用于处理连线取消的逻辑\n     */\n    const handlePortCancel = () => {\n      log.log(`[svg-canvas] ${fromPort.value?.vm.is} ${fromPort.value?.attr} 到 ${toPort.value?.vm.is} ${toPort.value?.attr} 的连线已取消`)\n\n      gogoendLog.debug('canceled')\n      fromPort.value = null\n      toPort.value = null\n      ghostPathDArguments.value.fill(0)\n    }\n\n    /**\n     * 处理路径末端移动过程中，要连接的端口发生改变后的逻辑\n     */\n    const handleDestinationChange = ({ vm, originEl, ev }: {vm: InstanceType<typeof IoNode> | null, originEl: SVGCircleElement, ev: MouseEvent}) => {\n      toPort.value = {\n        vm: vm as InstanceType<typeof IoNode>,\n        attr: (ev.target as SVGCircleElement)?.dataset?.feAttr ?? '',\n        el: originEl\n      }\n    }\n\n    /**\n     * 处理节点移动\n     */\n    const handleNodeMove = (paths: RelativePathForNode) => {\n      paths.out.forEach(item => {\n        const coord = [\n          item.from.el?.getBoundingClientRect().x ?? 0,\n          item.from.el?.getBoundingClientRect().y ?? 0\n        ]\n        item.pathDArguments = [\n          coord[0] + 2 * POINT_R,\n          coord[1] + POINT_R,\n          coord[0] + HANDLE_LENGTH + POINT_R,\n          coord[1] + POINT_R,\n          ...item.pathDArguments.slice(4)\n        ].map((p, i) => {\n          if (i <= 3) {\n            if (i % 2 === 0) {\n              return p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left\n            } else {\n              return p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top\n            }\n          } else {\n            return p\n          }\n        })\n      })\n      paths.in.forEach(item => {\n        const coord = [\n          item.to.el?.getBoundingClientRect().x ?? 0,\n          item.to.el?.getBoundingClientRect().y ?? 0\n        ]\n        item.pathDArguments = [\n          ...item.pathDArguments.slice(0, 4),\n          coord[0] - HANDLE_LENGTH + POINT_R,\n          coord[1] + POINT_R,\n          coord[0],\n          coord[1] + POINT_R\n        ].map((p, i) => {\n          if (i >= 4) {\n            if (i % 2 === 0) {\n              return p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left\n            } else {\n              return p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top\n            }\n          } else {\n            return p\n          }\n        })\n      })\n    }\n\n    /**\n     * 鬼影节点参数\n     */\n    const ghostNodeRef = inject(GHOST_NODE_REF_SYMBOL)!\n\n    const ghostNodeType = inject(DRAGGING_NODE_ICON_SYMBOL)!\n    const ghostNodePosition = ref([0, 0])\n\n    const defaultRelativePath = readonly({\n      in: [],\n      out: []\n    })\n\n    const addNode = inject(ADD_NODE_SYMBOL)!\n\n    const loadCanvasStuffFromSerializedData = async(data: ProjectFile) => {\n      const {\n        nodes, nodeForms, links\n      } = data.stuff\n\n      Object.values(nodes)\n        .forEach(it => {\n          addNode(it)\n        })\n      // 等待节点都挂载后，再回填表单\n      await nextTick()\n      Object.entries(nodeForms).forEach(([nodeId, nodeFormValue]) => {\n        Object.keys(nodeFormValue).forEach((key: keyof typeof nodeFormValue) => {\n          // FIXME: 修正类型\n          if (\n            [\n              hasOwn(nodeRefMap.value[nodeId].nodeConfigRef.feAttrValue, key as any), // 仅回填节点定义中包含的字段\n              nodes[nodeId].is === 'feMerge' // 如果是feMerge节点，则全部回填 // TODO: 此处应该枚举出所有类似的元素\n            ].includes(true)\n          ) {\n            (nodeRefMap.value[nodeId].nodeConfigRef.feAttrValue as any)[key] = nodeFormValue[key]\n          }\n        })\n      })\n      // 等待节点都正确后，再创建连接\n      await nextTick()\n      Object.values(links)\n        .map(it => {\n          const newIt = window.structuredClone(it) as unknown as Path // 强转类型\n\n          newIt.from.vm = nodeRefMap.value[it.from.vmId]\n          newIt.from.el = newIt.from.vm.$el.querySelector(`[data-fe-attr=\"${it.from.attr}\"]`)!\n          const fromPortCoord = [\n            newIt.from.el!.getBoundingClientRect().x,\n            newIt.from.el!.getBoundingClientRect().y\n          ]\n\n          newIt.to.vm = nodeRefMap.value[it.to.vmId]\n          newIt.to.el = newIt.to.vm.$el.querySelector(`[data-fe-attr=\"${it.to.attr}\"]`)\n          const toPortCoord = [\n            newIt.to.el!.getBoundingClientRect().x,\n            newIt.to.el!.getBoundingClientRect().y\n          ]\n\n          newIt.pathDArguments = [\n            fromPortCoord[0] + 2 * POINT_R,\n            fromPortCoord[1] + POINT_R,\n            fromPortCoord[0] + HANDLE_LENGTH + POINT_R,\n            fromPortCoord[1] + POINT_R,\n\n            toPortCoord[0] - HANDLE_LENGTH + POINT_R,\n            toPortCoord[1] + POINT_R,\n            toPortCoord[0],\n            toPortCoord[1] + POINT_R\n          ].map((p, i) => i % 2 === 0 ? p + canvasScrollEl.value!.scrollLeft - svgCanvasRect.value.left : p + canvasScrollEl.value!.scrollTop - svgCanvasRect.value.top)\n\n          return newIt\n        })\n        .forEach(it => {\n          try {\n            assertPortCanBeConnected(it)\n            addPath(it)\n            addRelationInMapIndexedByNodeId(\n              it,\n              it.from,\n              it.to\n            )\n            toPort.value = it.to\n            fromPort.value = it.from\n            it.to.vm?.afterPathConnected?.()\n          } catch (err) {\n            gogoendLog.error(err)\n          }\n          fromPort.value = null\n          toPort.value = null\n        })\n    }\n\n    return {\n      canvasScrollEl,\n      svgCanvasRect,\n\n      ghostPathD,\n      ghostNodeRef,\n      ghostNodeType,\n      ghostNodePosition,\n\n      nodes,\n      setNodeRefMap,\n\n      linkedPaths,\n\n      handlePortStart,\n      handlePortMove,\n      handlePortConnect,\n      handlePortCancel,\n      handleDestinationChange,\n      handleNodeMove,\n\n      fromPort,\n      toPort,\n\n      defaultRelativePath,\n      relativePathMapIndexedByNodeId,\n\n      loadCanvasStuffFromSerializedData\n    }\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=e2e7568c&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=e2e7568c&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e2e7568c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, toDisplayString as _toDisplayString, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-804d09c2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"svg-canvas__overlay-tip\"\n}\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", { style: {\n      fontSize: '2em'\n    } }, \"🥴 Embarrassed! No nodes here.\", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"drag\", -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\n\nimport { ALL_NODES_ON_CANVAS_SYMBOL } from '@/store/canvasStuff'\nimport { CURRENT_PROJECT_SYMBOL, TRY_TO_OPEN_SAMPLE_PROJECT_SYMBOL } from '@/store/projectInfoState'\nimport { inject } from 'vue'\nimport samples from '@/config/samples'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SvgCanvasOverlayTip',\n  setup(__props) {\n\nconst currentProject = inject(CURRENT_PROJECT_SYMBOL)!\nconst nodes = inject(ALL_NODES_ON_CANVAS_SYMBOL)!\nconst tryToOpenSampleProject = inject(TRY_TO_OPEN_SAMPLE_PROJECT_SYMBOL)!\n\nreturn (_ctx: any,_cache: any) => {\n  return (Object.keys(_unref(nodes)).length === 0)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _hoisted_2,\n        _createElementVNode(\"p\", {\n          style: _normalizeStyle({\n      fontSize: '1.5em'\n    })\n        }, [\n          _createTextVNode(\" 👈 \"),\n          _hoisted_3,\n          _createTextVNode(\" To add a node, please \"),\n          _hoisted_4,\n          _createTextVNode(\" a node definition from the left panel, \"),\n          _hoisted_5,\n          _createTextVNode(\" then drop it HERE. \")\n        ], 4),\n        _createTextVNode(\" \" + _toDisplayString(_unref(currentProject)) + \" \", 1),\n        (!_unref(currentProject))\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              style: _normalizeStyle({\n        fontSize: '1.5em'\n      })\n            }, [\n              _createTextVNode(\" Are your new here? you can \"),\n              _createElementVNode(\"a\", {\n                href: \"javascript:;\",\n                onClick: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (_unref(tryToOpenSampleProject)(_unref(samples)[0].id)), [\"prevent\"])),\n                \"data-type\": \"primary\"\n              }, \"open the sample project\"),\n              _createTextVNode(\" and see how does the app work. \")\n            ], 4))\n          : _createCommentVNode(\"\", true)\n      ]))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./SvgCanvasOverlayTip.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SvgCanvasOverlayTip.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SvgCanvasOverlayTip.vue?vue&type=style&index=0&id=804d09c2&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-804d09c2\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-ffe3e260\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"node-library-panel\" }\nconst _hoisted_2 = { class: \"menu-list\" }\nconst _hoisted_3 = [\"onMousedown\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _directive_pingping = _resolveDirective(\"pingping\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.menuGroup, (group, index) => {\n      return (_openBlock(), _createElementBlock(\"div\", { key: index }, [\n        _createElementVNode(\"h4\", null, _toDisplayString(_ctx.menuGroup.title), 1),\n        _createElementVNode(\"ul\", _hoisted_2, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(group.children, (icon, index) => {\n            return _withDirectives((_openBlock(), _createElementBlock(\"li\", {\n              key: index,\n              onMousedown: (ev) => _ctx.handleIconMousedown(ev, icon)\n            }, [\n              _createTextVNode(_toDisplayString(icon.title), 1)\n            ], 40, _hoisted_3)), [\n              [_directive_pingping, {remark: `[node-library-panel] ${icon.title} 节点开始拖拽`}]\n            ])\n          }), 128))\n        ])\n      ]))\n    }), 128))\n  ]))\n}","\nimport { defineComponent, nextTick, inject, computed } from 'vue'\nimport mouseEventHelper from '@/utils/mouse-event-helper'\nimport { uuid } from '@/utils/uuid'\n\nimport fe from '@/views/AppMain/components/SvgCanvas/components/IoNode/fe-definition-config'\nimport { filterLibraryPanelWidth } from '@/config/ui'\n\nimport { DRAGGING_NODE_ICON_SYMBOL, GHOST_NODE_REF_SYMBOL } from '@/store/draggingNode'\nimport { ADD_NODE_SYMBOL } from '@/store/canvasStuff'\nimport { SVG_CANVAS_VM_SYMBOL } from '@/store/vmStore'\nimport gogoendLog from '@/plugins/log'\nimport log from '@/plugins/log'\n\nconst menuGroup = [\n  {\n    title: '组1',\n    children: Object.keys(fe).map(item => ({\n      title: item\n    }))\n  }\n]\n\nexport default defineComponent({\n  name: 'NodeLibraryPanel',\n  setup(props, { emit }) {\n    const svgCanvasVm = inject(SVG_CANVAS_VM_SYMBOL)!\n    const svgCanvasRect = computed(() => {\n      return svgCanvasVm.value.svgCanvasRect\n    })\n\n    const ghostNodeRef = inject(GHOST_NODE_REF_SYMBOL)!\n    const draggingNodeIcon = inject(DRAGGING_NODE_ICON_SYMBOL)!\n    const addNode = inject(ADD_NODE_SYMBOL)!\n\n    const handleIconMousedown = function(ev: MouseEvent, icon: any) {\n      mouseEventHelper(ev, {\n        start(ev, { originEl }) {\n          draggingNodeIcon.value = icon.title\n          nextTick(\n            () => ghostNodeRef.value!.$emit(\n              'update:position',\n              [ev.clientX + svgCanvasVm.value.$el.scrollLeft - svgCanvasRect.value.left, ev.clientY + svgCanvasVm.value.$el.scrollTop - svgCanvasRect.value.top]\n            )\n          )\n        },\n        move(ev, { originEl }) {\n          gogoendLog.debug(ghostNodeRef.value)\n          ghostNodeRef.value!.$emit(\n            'update:position',\n            [ev.clientX + svgCanvasVm.value.$el.scrollLeft - svgCanvasRect.value.left, ev.clientY + svgCanvasVm.value.$el.scrollTop - svgCanvasRect.value.top]\n          )\n          void 0\n        },\n        up(ev, { originEl }) {\n          const svgCanvasVmElRect = (svgCanvasVm.value?.$el as HTMLElement).getBoundingClientRect()\n          // TODO: 如何判断一个点有没有在矩形范围内？\n          if (\n            ev.clientX > svgCanvasVmElRect.x &&\n            ev.clientX < svgCanvasVmElRect.x + svgCanvasVmElRect.width &&\n            ev.clientY > svgCanvasVmElRect.y &&\n            ev.clientY < svgCanvasVmElRect.y + svgCanvasVmElRect.height\n          ) {\n            addNode({\n              is: icon.title,\n              id: uuid(),\n              position: [ev.clientX + svgCanvasVm.value.$el.scrollLeft - svgCanvasRect.value.left, ev.clientY + svgCanvasVm.value.$el.scrollTop - svgCanvasRect.value.top]\n            })\n            log.log(`[node-library-panel] ${icon.title} 节点已被放置到canvas上`)\n          } else {\n            log.log(`[node-library-panel] ${icon.title} 节点的创建过程已取消`)\n          }\n          draggingNodeIcon.value = null\n          void 0\n        }\n      })\n    }\n    return {\n      handleIconMousedown,\n      menuGroup,\n      filterLibraryPanelWidth\n    }\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=ffe3e260&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=ffe3e260&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ffe3e260\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, resolveComponent as _resolveComponent, createBlock as _createBlock, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d62e7784\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"stuff-config-panel\" }\nconst _hoisted_2 = { class: \"stuff-config-panel__title-bar\" }\nconst _hoisted_3 = { class: \"stuff-config-panel__main\" }\nconst _hoisted_4 = { key: 0 }\nconst _hoisted_5 = { key: 1 }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"Opus! 🫢\", -1))\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_form_item = _resolveComponent(\"form-item\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_ctx.focusingNode)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n            _createTextVNode(\" 👀 Editing - \" + _toDisplayString(_ctx.focusingNode?.is), 1)\n          ], 64))\n        : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n            _createTextVNode(\" 👈 Click a node, then configure it ! \")\n          ], 64))\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      (_ctx.focusingNode)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n            (\n            _ctx.formFieldConfig\n              &&\n              Object.values(_ctx.formFieldConfig.ports).some(it => [undefined, true].includes(it.showInConfigPanel))\n          )\n              ? (_openBlock(), _createElementBlock(\"form\", {\n                  key: 0,\n                  onSubmit: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"]))\n                }, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.formFieldConfig.ports, (port, key) => {\n                    return (_openBlock(), _createBlock(_component_form_item, {\n                      key: key,\n                      schema: port,\n                      \"field-id\": key,\n                      style: { marginBottom: '16px' }\n                    }, null, 8, [\"schema\", \"field-id\"]))\n                  }), 128))\n                ], 32))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                  _hoisted_6,\n                  _createTextVNode(\" No fields can be edited here.\"),\n                  _hoisted_7,\n                  _createTextVNode(\" Look around this node on the canvas, and create links between the available ports. \")\n                ]))\n          ]))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, mergeProps as _mergeProps, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4b07fcca\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_3 = [\"value\"]\nconst _hoisted_4 = [\"min\", \"max\", \"step\"]\n\nimport { FOCUSING_NODE_SYMBOL } from '@/store/focusState'\n// eslint-disable-next-line vue/prefer-import-from-vue\nimport { hasOwn } from '@vue/shared'\nimport { inject, unref, computed } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FormItem',\n  props: {\n  schema: {\n    type: Object\n  },\n  fieldId: {\n    type: String\n  }\n},\n  setup(__props) {\n\nconst props = __props\n\n\nconst fieldId = computed(() => props.fieldId!)\n\nconst [focusingNode] = inject(FOCUSING_NODE_SYMBOL)!\n\nconst feAttrValue = computed(() => {\n  return unref(focusingNode)?.nodeConfigRef?.feAttrValue ?? {}\n})\n\nconst foreignPortValue = computed(() => {\n  return unref(focusingNode)?.nodeConfigRef?.foreignPortValue ?? {}\n})\n\nconst fieldValueIsFromForeignPort = computed(() => {\n  return hasOwn(unref(foreignPortValue), fieldId.value)\n})\n\nconst resolveValueFromForeignPort = (foreignPortValue: string, fieldId: string) => {\n  return foreignPortValue\n}\n\nconst commonInputComponentAttrs = computed(() => {\n  return {\n    disabled: unref(fieldValueIsFromForeignPort),\n    value: unref(fieldValueIsFromForeignPort) ? resolveValueFromForeignPort(foreignPortValue.value[unref(fieldId)], unref(fieldId)) : feAttrValue.value[unref(fieldId)],\n    onChange: (ev: Event) => {\n      ev.stopPropagation()\n      feAttrValue.value[unref(fieldId)] = (ev.target as HTMLInputElement).value\n    }\n  }\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.schema?.showInConfigPanel !== false)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"label\", null, _toDisplayString(_unref(fieldId)), 1),\n        _hoisted_2,\n        (__props.schema?.type === 'text' || !__props.schema?.type)\n          ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n              (Array.isArray(__props.schema?.enum))\n                ? (_openBlock(), _createElementBlock(\"select\", _mergeProps({\n                    key: 0,\n                    is: \"ui-select\"\n                  }, _unref(commonInputComponentAttrs)), [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.schema.enum, (option) => {\n                      return (_openBlock(), _createElementBlock(\"option\", {\n                        key: (option && typeof option === 'object') ? option.value : option,\n                        value: (option && typeof option === 'object') ? option.value : option\n                      }, _toDisplayString((option && typeof option === 'object') ? option.label : option), 9, _hoisted_3))\n                    }), 128))\n                  ], 16))\n                : (_openBlock(), _createElementBlock(\"input\", _mergeProps({\n                    key: 1,\n                    is: \"ui-input\",\n                    type: \"text\",\n                    size: \"20\"\n                  }, _unref(commonInputComponentAttrs)), null, 16))\n            ], 64))\n          : _createCommentVNode(\"\", true),\n        (__props.schema?.type === 'color')\n          ? (_openBlock(), _createElementBlock(\"input\", _mergeProps({\n              key: 1,\n              is: \"ui-color\",\n              type: \"color-opacity\"\n            }, _unref(commonInputComponentAttrs)), null, 16))\n          : (__props.schema?.type === 'number')\n            ? (_openBlock(), _createElementBlock(\"input\", _mergeProps({\n                key: 2,\n                is: \"ui-input\",\n                type: \"number\",\n                size: \"20\"\n              }, _unref(commonInputComponentAttrs)), null, 16))\n            : (__props.schema?.type === 'range')\n              ? (_openBlock(), _createElementBlock(\"input\", _mergeProps({\n                  key: 3,\n                  is: \"ui-range\",\n                  type: \"range\",\n                  min: __props.schema.range[0],\n                  max: __props.schema.range[1],\n                  step: __props.schema.step ?? 1\n                }, _unref(commonInputComponentAttrs)), null, 16, _hoisted_4))\n              : _createCommentVNode(\"\", true)\n      ]))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./FormItem.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./FormItem.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./FormItem.vue?vue&type=style&index=0&id=4b07fcca&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4b07fcca\"]])\n\nexport default __exports__","\nimport { defineComponent, nextTick, inject, unref, computed, watch } from 'vue'\nimport { stuffConfigPanelWidth } from '@/config/ui'\nimport { uuid } from '@/utils/uuid'\n\nimport fe from '@/views/AppMain/components/SvgCanvas/components/IoNode/fe-definition-config'\nimport { FOCUSING_NODE_SYMBOL } from '@/store/focusState'\n\nimport FormItem from './components/FormItem.vue'\n\nexport default defineComponent({\n  name: 'StuffConfigPanel',\n  components: { FormItem },\n  setup(props, { emit }) {\n    const [focusingNode] = inject(FOCUSING_NODE_SYMBOL)!\n\n    const formFieldConfig = computed(() => {\n      if (\n        unref(focusingNode) && unref(focusingNode)?.is\n      ) {\n        return fe[unref(focusingNode)!.is]\n      } else {\n        return null\n      }\n    })\n\n    return {\n      stuffConfigPanelWidth,\n\n      focusingNode,\n      formFieldConfig\n    }\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=d62e7784&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=d62e7784&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d62e7784\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, vShow as _vShow, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-f096675a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"output-preview-panel__menu-bar\" }\nconst _hoisted_2 = { class: \"output-preview-panel__menu-bar__left-content\" }\nconst _hoisted_3 = { class: \"output-preview-panel__drag-move-handler\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"output-preview-panel__menu-bar-text\" }, \"Preview\", -1))\nconst _hoisted_5 = { class: \"output-preview-panel__menu-bar__right-content\" }\nconst _hoisted_6 = {\n  class: \"output-preview-panel__content\",\n  ref: \"filteredContentEl\"\n}\nconst _hoisted_7 = [\"src\"]\nconst _hoisted_8 = {\n  key: 1,\n  class: \"output-preview-panel__image-placeholder\"\n}\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_10 = { class: \"output-preview-panel__image__drag-is-hovering__tip\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"output-preview-panel__tools\" }, null, -1))\nconst _hoisted_12 = { class: \"output-preview-panel__se-resize-corner\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Rank = _resolveComponent(\"Rank\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_filter_def = _resolveComponent(\"filter-def\")!\n  const _directive_pingping = _resolveDirective(\"pingping\")!\n  const _directive_move = _resolveDirective(\"move\")!\n  const _directive_resize = _resolveDirective(\"resize\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"output-preview-panel\",\n    ref: _ctx.outputPreviewPanelRootEl\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n          _createVNode(_component_el_icon, {\n            size: 24,\n            color: \"#fff\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_Rank)\n            ]),\n            _: 1\n          })\n        ])), [\n          [_directive_pingping, {remark: '[output-preview-panel] 移动预览面板（左上角）'}],\n          [_directive_move]\n        ]),\n        _hoisted_4\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        (_ctx.sourceImageSrc)\n          ? _withDirectives((_openBlock(), _createElementBlock(\"button\", {\n              key: 0,\n              class: \"lu-ui__extend-small\",\n              is: \"ui-button\",\n              onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.removePreviewImage && _ctx.removePreviewImage(...args)))\n            }, [\n              _createTextVNode(\" Remove Preview Image \")\n            ])), [\n              [_directive_pingping, {remark: '[output-preview-panel] 移除示例图片'}]\n            ])\n          : _createCommentVNode(\"\", true),\n        (_ctx.sourceImageSrc)\n          ? _withDirectives((_openBlock(), _createElementBlock(\"button\", {\n              key: 1,\n              class: \"lu-ui__extend-small\",\n              is: \"ui-button\",\n              onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.saveFilteredImage && _ctx.saveFilteredImage(...args)))\n            }, [\n              _createTextVNode(\" Save as PNG \")\n            ])), [\n              [_directive_pingping, {remark: '[output-preview-panel] 另存为PNG'}]\n            ])\n          : _createCommentVNode(\"\", true)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _createVNode(_component_filter_def, { \"filter-el-id\": \"previewingFilter\" }),\n      _createElementVNode(\"div\", {\n        class: \"output-preview-panel__image-wrap\",\n        onDragstart: _cache[7] || (_cache[7] = _withModifiers(() => {}, [\"stop\",\"prevent\"])),\n        onDragover: _cache[8] || (_cache[8] = _withModifiers(($event: any) => (_ctx.dragIsHovering = true), [\"stop\",\"prevent\"])),\n        onDragleave: _cache[9] || (_cache[9] = _withModifiers(($event: any) => (_ctx.dragIsHovering = false), [\"stop\",\"prevent\"])),\n        onDrop: _cache[10] || (_cache[10] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.handleDropOnImageWrap && _ctx.handleDropOnImageWrap(...args)), [\"stop\",\"prevent\"]))\n      }, [\n        (_ctx.sourceImageSrc)\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 0,\n              class: \"output-preview-panel__image\",\n              src: _ctx.sourceImageSrc,\n              onError: _cache[2] || (_cache[2] = ($event: any) => (_ctx.sourceImageSrc = '')),\n              ref: \"sourceImageEl\"\n            }, null, 40, _hoisted_7))\n          : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n              _createElementVNode(\"div\", null, [\n                _createTextVNode(\" Drop your image here, then use it as the source image.\"),\n                _hoisted_9,\n                _createTextVNode(\" You can also \"),\n                _createElementVNode(\"input\", {\n                  ref: \"fileInputEl\",\n                  type: \"file\",\n                  style: {\n                display: 'block',\n                opacity: 0,\n                position: 'fixed',\n                visibility: 'hidden'\n              },\n                  onChange: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.handleFileInputChange && _ctx.handleFileInputChange(...args)))\n                }, null, 544),\n                _withDirectives((_openBlock(), _createElementBlock(\"button\", {\n                  class: \"lu-ui__extend-small\",\n                  is: \"ui-button\",\n                  \"data-type\": \"primary\",\n                  onClick: _cache[4] || (_cache[4] = () => { _ctx.fileInputEl.click() })\n                }, [\n                  _createTextVNode(\"choose a image\")\n                ])), [\n                  [_directive_pingping, {remark: '[output-preview-panel] 选择图片'}]\n                ]),\n                _createTextVNode(\", \"),\n                _withDirectives((_openBlock(), _createElementBlock(\"button\", {\n                  class: \"lu-ui__extend-small\",\n                  is: \"ui-button\",\n                  \"data-type\": \"primary\",\n                  onClick: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.showImageUrlInputDialog && _ctx.showImageUrlInputDialog(...args)))\n                }, [\n                  _createTextVNode(\"enter the url of the image\")\n                ])), [\n                  [_directive_pingping]\n                ]),\n                _createTextVNode(\"  or  \"),\n                _withDirectives((_openBlock(), _createElementBlock(\"button\", {\n                  class: \"lu-ui__extend-small\",\n                  is: \"ui-button\",\n                  \"data-type\": \"primary\",\n                  onClick: _cache[6] || (_cache[6] = \n//@ts-ignore\n(...args) => (_ctx.loadSampleImage && _ctx.loadSampleImage(...args)))\n                }, [\n                  _createTextVNode(\"use sample image\")\n                ])), [\n                  [_directive_pingping, {remark: '[output-preview-panel] 使用示例图片'}]\n                ]),\n                _createTextVNode(\". \")\n              ])\n            ])),\n        _withDirectives(_createElementVNode(\"div\", _hoisted_10, null, 512), [\n          [_vShow, _ctx.dragIsHovering]\n        ])\n      ], 32),\n      _hoisted_11\n    ], 512),\n    _withDirectives(_createElementVNode(\"div\", _hoisted_12, null, 512), [\n      [_directive_pingping, {remark: '[output-preview-panel] 调整预览面板大小（右下角）'}],\n      [_directive_resize]\n    ])\n  ], 512))\n}","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3b8b776a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"filter-def\" }\nconst _hoisted_2 = [\"id\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(), _createElementBlock(\"svg\", null, [\n      _createElementVNode(\"defs\", null, [\n        _createElementVNode(\"filter\", { id: _ctx.filterElId }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.renderOfOrderedAllDescendants, (render, index) => {\n            return (_openBlock(), _createBlock(_resolveDynamicComponent(render), { key: index }))\n          }), 128))\n        ], 8, _hoisted_2)\n      ])\n    ]))\n  ]))\n}","\nimport { computed, defineComponent, inject } from 'vue'\nimport { FOCUSING_NODE_SYMBOL } from '@/store/focusState'\n\nexport default defineComponent({\n  name: 'FeDef',\n  props: {\n    filterElId: {\n      type: String\n    }\n  },\n  setup() {\n    const [focusingNode] = inject(FOCUSING_NODE_SYMBOL)!\n    const renderOfOrderedAllDescendants = computed(\n      () => (focusingNode.value as any)?.renderOfOrderedAllDescendants ?? (() => null)\n    )\n\n    return {\n      focusingNode,\n      renderOfOrderedAllDescendants\n    }\n  }\n})\n","import { render } from \"./FilterDef.vue?vue&type=template&id=3b8b776a&scoped=true&ts=true\"\nimport script from \"./FilterDef.vue?vue&type=script&lang=ts\"\nexport * from \"./FilterDef.vue?vue&type=script&lang=ts\"\n\nimport \"./FilterDef.vue?vue&type=style&index=0&id=3b8b776a&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3b8b776a\"]])\n\nexport default __exports__","\nimport { defineComponent, nextTick, onUnmounted, ref, shallowRef, unref, watch } from 'vue'\nimport FilterDef from './components/FilterDef.vue'\nimport mouseEventHelper from '@/utils/mouse-event-helper'\n\nimport domtoimage from 'dom-to-image'\nimport LuLightTip from 'lu2/theme/edge/js/common/ui/LightTip'\nimport log from '@/plugins/log'\n\nexport default defineComponent({\n  name: 'OutputPreviewPanel',\n  components: { FilterDef },\n  directives: {\n    move: {\n      mounted(el) {\n        el.__vDragMainElToBeDragged__ = document.querySelector('.output-preview-panel')\n        const mouseStartHandler = (ev: MouseEvent) => mouseEventHelper(\n          ev,\n          {\n            start(ev) {\n              // 鼠标按下，记下此时坐标相对于当前元素的坐标\n              // TODO: 或许应当是鼠标相对要被拖动的元素的坐标。此处当前元素恰好在要被拖动的元素的左上方\n              // TODO: 最好实现一个通用版本的指令，以便复用\n              /**\n               * -------------------------\n               * |       ^               |\n               * |       |               |\n               * |<------*               |\n               * |        (x, y)         |\n               * |                       |\n               * -------------------------\n               */\n              const currentPosition = (el.getBoundingClientRect() as DOMRect)\n              el.__vDragClickedRelativePosition__ = [\n                ev.pageX - currentPosition?.left,\n                ev.pageY - currentPosition?.top\n              ]\n            },\n            move(ev) {\n              // 鼠标移动，使用屏幕坐标减去按下时保存的相对坐标，再移动，即可得到正确的位置\n              // 此时相对坐标不要重新算，因为鼠标移动距离与mousemove的触发时机没有关系\n              const newPosition = [\n                ev.pageX - el.__vDragClickedRelativePosition__[0],\n                ev.pageY - el.__vDragClickedRelativePosition__[1]\n              ]\n              el.__vDragMainElToBeDragged__.style.left = newPosition[0] + 'px'\n              el.__vDragMainElToBeDragged__.style.top = newPosition[1] + 'px'\n              checkAndCorrectPosition()\n            },\n            up() {\n              checkAndCorrectPosition()\n              log.log(\n                '[output-preview-panel] [输出预览面板] 当前位置及尺寸',\n                [\n                  el.__vDragMainElToBeDragged__.style.left,\n                  el.__vDragMainElToBeDragged__.style.top,\n                  el.__vDragMainElToBeDragged__.style.width,\n                  el.__vDragMainElToBeDragged__.style.height\n                ].map(it => parseInt(it))\n              )\n\n              delete el.__vDragClickedRelativePosition__\n            }\n          }\n        )\n\n        function checkAndCorrectPosition() {\n          // 鼠标抬起时，判断元素是否位于浮动窗口可视区域内。如果在可视区域外，将移回可视区域内\n          const mainElToBeDraggedRect = (el.__vDragMainElToBeDragged__! as HTMLElement).getBoundingClientRect()\n\n          if (mainElToBeDraggedRect.x <= 0) {\n                el.__vDragMainElToBeDragged__!.style.left = `0px`\n          } else if (mainElToBeDraggedRect.x + mainElToBeDraggedRect.width > window.innerWidth) {\n                el.__vDragMainElToBeDragged__!.style.left = `${window.innerWidth - mainElToBeDraggedRect.width}px`\n          }\n\n          if (mainElToBeDraggedRect.y <= 0) {\n                el.__vDragMainElToBeDragged__!.style.top = `0px`\n          } else if (mainElToBeDraggedRect.y + mainElToBeDraggedRect.height > window.innerHeight) {\n                el.__vDragMainElToBeDragged__!.style.top = `${window.innerHeight - mainElToBeDraggedRect.height}px`\n          }\n        }\n\n        window.addEventListener(\n          'resize',\n          checkAndCorrectPosition\n        )\n\n        el.addEventListener(\n          'mousedown',\n          mouseStartHandler\n        )\n        el.__vDragDispose__ = () => {\n          delete el.__vDragDispose__\n          delete el.__vDragMainElToBeDragged__\n          el.removeEventListener(\n            'mousedown',\n            mouseStartHandler\n          )\n          window.removeEventListener(\n            'resize',\n            checkAndCorrectPosition\n          )\n        }\n      },\n      unmounted(el) {\n        el.__vDragDispose__()\n      }\n    },\n    resize: {\n      mounted(el) {\n        el.__vResizeMainElToBeResized__ = document.querySelector('.output-preview-panel')\n        const mouseStartHandler = (ev: MouseEvent) => mouseEventHelper(\n          ev,\n          {\n            move(ev) {\n              const currentRect = (el.__vResizeMainElToBeResized__.getBoundingClientRect() as DOMRect)\n              const newSize = [\n                ev.pageX - currentRect.x,\n                ev.pageY - currentRect.y\n              ]\n              if (\n                currentRect.x + newSize[0] >= window.innerWidth\n              ) {\n                newSize[0] -= (ev.pageX - window.innerWidth)\n              }\n              if (\n                currentRect.y + newSize[1] > window.innerHeight\n              ) {\n                newSize[1] -= (ev.pageY - window.innerHeight)\n              }\n              if (currentRect.width >= window.innerWidth) {\n                newSize[0] = window.innerWidth\n              }\n              if (currentRect.height >= window.innerHeight) {\n                newSize[1] = window.innerWidth\n              }\n\n              el.__vResizeMainElToBeResized__.style.width = newSize[0] + 'px'\n              el.__vResizeMainElToBeResized__.style.height = newSize[1] + 'px'\n            },\n            up() {\n              log.log(\n                '[output-preview-panel] [输出预览面板] 当前位置及尺寸',\n                [\n                  el.__vResizeMainElToBeResized__.style.left,\n                  el.__vResizeMainElToBeResized__.style.top,\n                  el.__vResizeMainElToBeResized__.style.width,\n                  el.__vResizeMainElToBeResized__.style.height\n                ].map(it => parseInt(it))\n              )\n            }\n          }\n        )\n\n        el.addEventListener(\n          'mousedown',\n          mouseStartHandler\n        )\n        el.__vResizeDispose__ = () => {\n          delete el.__vResizeDispose__\n          delete el.__vResizeMainElToBeResized__\n          el.removeEventListener(\n            'mousedown',\n            mouseStartHandler\n          )\n        }\n      },\n      unmounted(el) {\n        el.__vResizeDispose__()\n      }\n    }\n  },\n  setup() {\n    const sourceImageSrc = ref()\n    watch(sourceImageSrc, (nVal, oVal) => {\n      URL.revokeObjectURL(oVal)\n    })\n    onUnmounted(() => {\n      URL.revokeObjectURL(unref(sourceImageSrc))\n    })\n\n    const loadSampleImage = () => {\n      sourceImageSrc.value = './demo/assets/rinkysplash.jpg'\n    }\n    const removePreviewImage = () => {\n      sourceImageSrc.value = ''\n    }\n\n    const outputPreviewPanelRootEl = ref()\n    const dragIsHovering = ref(false)\n    const handleDropOnImageWrap = (ev: DragEvent) => {\n      dragIsHovering.value = false\n      const newImageFile = ev.dataTransfer?.files[0]\n      if (!newImageFile) {\n        return\n      }\n      log.log('[output-preview-panel] [加载示例图片] 用户通过拖拽加载了示例图片')\n      sourceImageSrc.value = URL.createObjectURL(newImageFile)\n    }\n\n    const fileInputEl = shallowRef<HTMLInputElement>()\n    const handleFileInputChange = (ev: Event) => {\n      const newImageFile = (ev.target as HTMLInputElement).files?.[0]\n      if (!newImageFile) {\n        return\n      }\n      log.log('[output-preview-panel] [加载示例图片] 用户通过文件选择器加载了示例图片')\n      sourceImageSrc.value = URL.createObjectURL(newImageFile)\n    }\n    const showImageUrlInputDialog = () => {\n      let url: string | null = ''\n      while (url?.trim() === '') {\n        url = window.prompt(\n          'Enter the url of the your image'\n        ) as string\n      }\n      if (url === null) {\n        return Promise.reject(new Error('[output-preview-panel][输入图片url] 用户取消输入'))\n      }\n      log.log('[output-preview-panel][加载示例图片] 用户通过输入图片URL加载了示例图片')\n      sourceImageSrc.value = url\n    }\n\n    const filteredContentEl = ref<HTMLElement>()\n    const sourceImageEl = shallowRef<HTMLImageElement>()\n    const saveFilteredImage = async() => {\n      // FIXME: 最好根据 sourceImageEl 加载图片的状态来判断图片是否可以被导出\n      try {\n        if (!sourceImageSrc.value) {\n          LuLightTip.error('No image can be exported, please select a image.')\n          return\n        }\n        const clonedContentNode = filteredContentEl.value!.cloneNode(true)! as HTMLElement\n        const imageEl = clonedContentNode.querySelector('.output-preview-panel__image')! as HTMLImageElement\n\n        await new Promise((resolve, reject) => {\n          imageEl.addEventListener(\n            'load',\n            resolve,\n            {\n              once: true\n            }\n          )\n          imageEl.addEventListener(\n            'error',\n            reject,\n            {\n              once: true\n            }\n          )\n        })\n\n        imageEl.style.minWidth = imageEl.naturalWidth + 'px'\n        imageEl.style.minHeight = imageEl.naturalHeight + 'px'\n\n        const tempWrapperElForSnapshot = document.createElement('div')\n        tempWrapperElForSnapshot.append(clonedContentNode)\n        Object.assign(\n          tempWrapperElForSnapshot.style,\n          {\n            position: 'absolute',\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n            width: 0,\n            height: 0,\n            overflow: 'hidden'\n          }\n        )\n        document.body.append(tempWrapperElForSnapshot)\n\n        let dataUrl = ''\n        try {\n          dataUrl = await domtoimage.toPng(\n            clonedContentNode\n          )\n        } catch (err) {\n          log.log('[output-preview-panel][生成图片]', sourceImageSrc.value)\n          log.error('[output-preview-panel][生成图片] 生成图片过程发生错误，请稍后重试', err)\n          throw err\n        } finally {\n          tempWrapperElForSnapshot.remove()\n        }\n\n        const decodedData = atob((() => {\n          const urlSegs = dataUrl.split(',')\n          return urlSegs[urlSegs.length - 1]\n        })())\n\n        const uint8Arr = new Uint8Array(decodedData.length)\n        for (let i = 0; i < uint8Arr.length; i++) {\n          uint8Arr[i] = decodedData.charCodeAt(i)\n        }\n\n        const blob = new Blob([uint8Arr], { type: 'image/png' })\n        const url = URL.createObjectURL(blob)\n        window.open(\n          url,\n          '_blank'\n        )\n      } catch (err) {\n        LuLightTip.error('We encountered a error when generating the result image. Maybe the image is from other website and cannot be accessed by the app.')\n      }\n    }\n\n    return {\n      sourceImageSrc,\n      loadSampleImage,\n      removePreviewImage,\n\n      outputPreviewPanelRootEl,\n\n      dragIsHovering,\n      handleDropOnImageWrap,\n\n      showImageUrlInputDialog,\n\n      fileInputEl,\n      handleFileInputChange,\n\n      sourceImageEl,\n      filteredContentEl,\n      saveFilteredImage\n    }\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=f096675a&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=f096675a&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f096675a\"]])\n\nexport default __exports__","export const UNSAVED_PROJECT_NAME = 'Untitled'\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"about-content\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"a\", {\n  target: \"_blank\",\n  href: \"https://github.com/gogoend\"\n}, \"gogoend\", -1)\nconst _hoisted_4 = /*#__PURE__*/_createStaticVNode(\"<p> The project is inspired by the following project: </p><ul><li><a target=\\\"_blank\\\" href=\\\"https://github.com/poletaevvlad/svg-filter-editor\\\">poletaevvlad / svg-filter-editor</a></li><li><a target=\\\"_blank\\\" href=\\\"https://github.com/yoksel/svg-filters\\\">yoksel / svg-filters</a></li></ul><p> The program includes some source code from the following open source projects: </p><ul><li><a target=\\\"_blank\\\" href=\\\"https://github.com/vuejs/core\\\">vuejs / core</a></li><li><a target=\\\"_blank\\\" href=\\\"https://github.com/element-plus/element-plus\\\">dexie / Dexie.js</a></li><li><a target=\\\"_blank\\\" href=\\\"https://github.com/yued-fe/lulu\\\">yued-fe / lulu</a></li><li><a target=\\\"_blank\\\" href=\\\"https://github.com/element-plus/element-plus\\\">element-plus / element-plus</a></li><li><a target=\\\"_blank\\\" href=\\\"https://github.com/tsayen/dom-to-image\\\">tsayen / dom-to-image</a></li></ul><p> The sample image is downloaded from the website of <a target=\\\"_blank\\\" href=\\\"https://peach.blender.org/media-gallery/\\\"><i>Big Buck Bunny</i></a> - a movie is totally made with open source digital content creators. </p><p> Thanks to my employer, <a target=\\\"_blank\\\" href=\\\"https://www.aicloud.com/\\\">Beijing SinoVoice Technology Co.,Ltd.</a> (aka. <a target=\\\"_blank\\\" href=\\\"https://www.aicloud.com/\\\">北京捷通华声科技股份有限公司</a> in Chinese), which gives me a WLB life style to let me do my hobby after work. </p>\", 6)\n\nimport packageInfo from '../../../package.json'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AboutContent',\n  setup(__props) {\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"p\", null, [\n      _createTextVNode(\" SVG Filter Node Builder v\" + _toDisplayString(_unref(packageInfo).version) + \" \", 1),\n      _hoisted_2,\n      _createTextVNode(\" ©️2021-2022 \"),\n      _hoisted_3\n    ]),\n    _hoisted_4\n  ]))\n}\n}\n\n})","import script from \"./AboutContent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AboutContent.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import AboutContent from './AboutContent.vue'\n\nimport LuDialog from 'lu2/theme/edge/js/common/ui/Dialog'\nimport { App, createApp } from 'vue'\n\nexport function showAboutDialog() {\n  let app: App<Element> | null = null\n\n  new LuDialog({\n    title: 'About',\n    content: `<div class=\"about-dialog-dialog\" />`,\n    width: '480px',\n    buttons: [{\n      value: 'Close'\n    }],\n    async onShow() {\n      const el = this.querySelector('.about-dialog-dialog')! as HTMLDivElement\n      app = createApp(AboutContent)\n      app.mount(el)\n    },\n    onRemove() {\n      app!.unmount()\n      app = null\n    }\n  })\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, withDirectives as _withDirectives, vShow as _vShow, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-f7d30d52\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"menu-bar\" }\nconst _hoisted_2 = { class: \"menu-bar__left\" }\nconst _hoisted_3 = { class: \"seg-content menu-entry-list\" }\nconst _hoisted_4 = [\"onMouseenter\", \"onMouseleave\"]\nconst _hoisted_5 = {\n  class: \"submenu-list\",\n  style: {\n              position: 'absolute',\n              top: `100%`,\n              left: 0\n            }\n}\nconst _hoisted_6 = [\"onMouseenter\", \"onMouseleave\", \"onClick\"]\nconst _hoisted_7 = { key: 0 }\nconst _hoisted_8 = { class: \"menu-bar__center\" }\nconst _hoisted_9 = { class: \"seg-content\" }\nconst _hoisted_10 = { class: \"menu-bar__right\" }\nconst _hoisted_11 = { class: \"seg-content\" }\nconst _hoisted_12 = {\n  target: \"_blank\",\n  href: \"https://github.com/gogoend/svg-filter-graph-builder\"\n}\n\nimport { UNSAVED_PROJECT_NAME } from '@/config/project'\nimport { CURRENT_PROJECT_SYMBOL, TRY_TO_SHOW_OPEN_PROJECT_DIALOG_SYMBOL, SAVE_CURRENT_PROJECT_SYMBOL, SAVE_CURRENT_PROJECT_AS_SYMBOL, TRY_TO_CLOSE_CURRENT_PROJECT_SYMBOL, TRY_TO_OPEN_SAMPLE_PROJECT_SYMBOL } from '@/store/projectInfoState'\nimport { computed, inject, ref, UnwrapRef } from 'vue'\nimport LuLightTip from 'lu2/theme/edge/js/common/ui/LightTip'\nimport { showAboutDialog } from '@/components/AboutDialog'\nimport { PWA_BEFORE_INSTALL_WAITEE_SYMBOL, SHOW_PWA_INSTALL_DIALOG_SYMBOL } from '@/store/pwa'\n\nimport samples from '@/config/samples'\n\ntype SubMenuItem = UnwrapRef<typeof menuTemplate>[number]['subMenu'][number]\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TopMenuBar',\n  setup(__props) {\n\nconst activeMenuIndexedById = ref<Record<string, true>>({})\nconst handleMouseenter = (menuItem: SubMenuItem) => {\n  if (menuItem.disabled) { return }\n  activeMenuIndexedById.value[menuItem.id] = true\n}\nconst handleMouseleave = (menuItem: SubMenuItem) => {\n  if (menuItem.disabled) { return }\n  delete activeMenuIndexedById.value[menuItem.id]\n}\n\nconst saveCurrentProject = inject(SAVE_CURRENT_PROJECT_SYMBOL)!\nconst saveCurrentProjectAs = inject(SAVE_CURRENT_PROJECT_AS_SYMBOL)!\nconst closeAndNewProject = inject(TRY_TO_CLOSE_CURRENT_PROJECT_SYMBOL)!\nconst tryToShowOpenFileDialog = inject(TRY_TO_SHOW_OPEN_PROJECT_DIALOG_SYMBOL)!\n\nconst pwaBeforeInstallWaitee = inject(PWA_BEFORE_INSTALL_WAITEE_SYMBOL)!\nconst showPwaInstallDialog = inject(SHOW_PWA_INSTALL_DIALOG_SYMBOL)!\n\nconst tryToOpenSampleProject = inject(TRY_TO_OPEN_SAMPLE_PROJECT_SYMBOL)!\n\nconst menuTemplate = computed(() => [\n  {\n    id: 'File',\n    label: 'File',\n    subMenu: [\n      {\n        id: 'Open',\n        label: 'Open...',\n        onClick() {\n          tryToShowOpenFileDialog()\n        }\n      },\n      {\n        id: 'Save',\n        label: 'Save',\n        async onClick() {\n          await saveCurrentProject()\n          LuLightTip.success('Saved successfully', 'success')\n        }\n      },\n      {\n        id: 'Save As...',\n        label: 'Save As...',\n        async onClick() {\n          await saveCurrentProjectAs()\n          LuLightTip.success('Saved successfully', 'success')\n        }\n      },\n      {\n        id: 'Close',\n        label: 'Close',\n        onClick() {\n          closeAndNewProject()\n        }\n      },\n      {\n        id: 'Hr between close and install',\n        type: 'hr'\n      },\n      {\n        id: 'Install Desktop Icon',\n        label: 'Install Desktop Icon',\n        // TODO: 当用户自行通过浏览器右上角自带标识安装PWA后，怎样禁用此处的安装入口？\n        disabled: pwaBeforeInstallWaitee.value === null,\n        async onClick() {\n          showPwaInstallDialog()\n        }\n      }\n    ]\n  },\n  {\n    id: 'Sample',\n    label: 'Sample',\n    subMenu: samples.map(it => {\n      return {\n        id: it.id,\n        label: it.project.name,\n        onClick() {\n          tryToOpenSampleProject(it.id)\n        }\n      }\n    })\n  },\n  {\n    id: 'Help',\n    label: 'Help',\n    subMenu: [\n      // {\n      //   id: 'About',\n      //   label: 'About'\n      // },\n      {\n        id: 'SVG Filter specification on W3C',\n        label: 'SVG Filter specification on W3C',\n        onClick() {\n          window.open('https://www.w3.org/TR/filter-effects-1/')\n        }\n      },\n      {\n        id: 'SVG Filter documents on MDN',\n        label: 'SVG Filter documents on MDN',\n        onClick() {\n          window.open('https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter')\n        }\n      },\n      {\n        id: 'Hr between spec and contact',\n        type: 'hr'\n      },\n      {\n        id: 'Issue',\n        label: 'Issue',\n        onClick() {\n          window.open('https://github.com/gogoend/svg-filter-graph-builder/issues')\n        }\n      },\n      {\n        id: 'Contact @gogoend via mail',\n        label: 'Contact @gogoend via mail',\n        onClick() {\n          window.open('mailto:gogoend@qq.com')\n        }\n      },\n      {\n        id: 'About',\n        label: 'About',\n        onClick() {\n          showAboutDialog()\n        }\n      }\n    ]\n  }\n])\n\nconst currentProject = inject(CURRENT_PROJECT_SYMBOL)\n\nconst titleText = computed(() => {\n  const textSegment = ['SVG Filter Graph Builder']\n\n  if (currentProject?.value) {\n    textSegment.unshift(currentProject.value.project.name)\n  } else {\n    textSegment.unshift(UNSAVED_PROJECT_NAME)\n  }\n\n  return textSegment.join(' - ')\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_pingping = _resolveDirective(\"pingping\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"ul\", _hoisted_3, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(menuTemplate), (menu) => {\n          return (_openBlock(), _createElementBlock(\"li\", {\n            key: menu.id,\n            class: _normalizeClass([\"menu-entry-item\", {\n            'menu-entry-item__active': activeMenuIndexedById.value[menu.id]\n          }]),\n            onMouseenter: ($event: any) => (handleMouseenter(menu)),\n            onMouseleave: ($event: any) => (handleMouseleave(menu))\n          }, [\n            _createElementVNode(\"div\", null, _toDisplayString(menu.label), 1),\n            _withDirectives(_createElementVNode(\"ul\", _hoisted_5, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(menu.subMenu, (subMenu) => {\n                return _withDirectives((_openBlock(), _createElementBlock(\"li\", {\n                  key: subMenu.id,\n                  class: _normalizeClass([\"submenu-item\", {\n                'submenu-item--active': activeMenuIndexedById.value[subMenu.id],\n                'submenu-item--disabled': subMenu.disabled === true,\n                'submenu-item__is-hr': subMenu.type === 'hr'\n              }]),\n                  onMouseenter: ($event: any) => (handleMouseenter(subMenu)),\n                  onMouseleave: ($event: any) => (handleMouseleave(subMenu)),\n                  onMousedown: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"])),\n                  onClick: _withModifiers(() => {\n                if (subMenu.disabled) { return }\n                subMenu.onClick?.()\n                activeMenuIndexedById.value = {}\n              }, [\"prevent\"])\n                }, [\n                  (subMenu.type === 'hr')\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7))\n                    : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                        _createTextVNode(_toDisplayString(subMenu.label), 1)\n                      ], 64))\n                ], 42, _hoisted_6)), [\n                  [_directive_pingping, {remark: `[top-menu] ${subMenu.id} 菜单项被点击`}]\n                ])\n              }), 128))\n            ], 512), [\n              [_vShow, activeMenuIndexedById.value[menu.id]]\n            ])\n          ], 42, _hoisted_4))\n        }), 128))\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n        _createTextVNode(_toDisplayString(_unref(titleText)), 1)\n      ])), [\n        [_directive_pingping, {remark: `[top-menu-bar] 标题被点击`}]\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_10, [\n      _createElementVNode(\"div\", _hoisted_11, [\n        _withDirectives((_openBlock(), _createElementBlock(\"a\", _hoisted_12, [\n          _createTextVNode(\"GitHub\")\n        ])), [\n          [_directive_pingping, {remark: `[top-menu-bar] GitHub链接被点击`}]\n        ])\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./TopMenuBar.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TopMenuBar.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TopMenuBar.vue?vue&type=style&index=0&id=f7d30d52&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f7d30d52\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { vShow as _vShow, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"ping-ping\" }\n\nimport log from '@/plugins/log'\nimport { logsTable } from '../../../plugins/db/init-product-db'\nimport { onUnmounted } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PingPing',\n  setup(__props) {\n\nconst POLLING_INTERVAL = 10 * 1000\n\nconst logDestination = window.__sfgb_runtime_config__.logDestination\n\nlet stopPingFlag = false\nonUnmounted(() => {\n  stopPingFlag = true\n})\n\nconst setupPingTimer = () => {\n  log.debug('[日志] 开始收集')\n  setTimeout(async() => {\n    log.debug('[日志] 结束收集并准备发送')\n    // 每次发100条\n    let logs = await logsTable.limit(100).toArray()\n    // 记下本次要发的条目的id，之后发完就可以全删除了\n    const logIds = logs.map(it => it.id)\n\n    if (!logs.length) {\n      log.debug('[日志] 没有可以发送的日志')\n      !stopPingFlag && setupPingTimer()\n      return\n    }\n\n    logs = logs.map((it) => JSON.stringify(it))\n    const formData = new FormData()\n    formData.append(\n      'file',\n      new Blob(\n        [logs.join('\\n')]\n      )\n    )\n\n    try {\n      const res = await (await fetch(\n        logDestination,\n        {\n          body: formData,\n          method: 'post'\n        }\n      )).json()\n      if (res.code === 0) {\n        // 清理一下本地数据库中已经发出去的条目\n        logsTable.bulkDelete(logIds)\n      }\n    } catch (err) {\n      log.error(err)\n    }\n    !stopPingFlag && setupPingTimer()\n  }, POLLING_INTERVAL)\n}\n\nif (logDestination) {\n  setupPingTimer()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, null, 512)), [\n    [_vShow, false]\n  ])\n}\n}\n\n})","import script from \"./PingPing.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./PingPing.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","\nimport { defineComponent, inject, onMounted, VNodeProps } from 'vue'\nimport SvgCanvas from './components/SvgCanvas/index.vue'\nimport SvgCanvasOverlayTip from './components/SvgCanvasOverlayTip.vue'\nimport NodeLibraryPanel from './components/NodeLibraryPanel/index.vue'\nimport StuffConfigPanel from './components/StuffConfigPanel/index.vue'\nimport OutputPreviewPanel from './components/OutputPreviewPanel/index.vue'\nimport TopMenuBar from './components/TopMenuBar.vue'\nimport PingPing from './components/PingPing.vue'\nimport { filterLibraryPanelWidth, stuffConfigPanelWidth } from '@/config/ui'\nimport { topMenuBarHeight } from '../../config/ui'\nimport { SET_SVG_CANVAS_VM_SYMBOL } from '@/store/vmStore'\nimport log from '@/plugins/log'\n\nexport default defineComponent({\n  name: 'AppMain',\n  components: {\n    TopMenuBar,\n    SvgCanvas,\n    SvgCanvasOverlayTip,\n    NodeLibraryPanel,\n    StuffConfigPanel,\n    OutputPreviewPanel,\n    PingPing\n  },\n  setup() {\n    const setSvgCanvasVm = inject(SET_SVG_CANVAS_VM_SYMBOL)!\n\n    /**\n     * 用于初始化OutputPreviewPanel的位置。之后如有可能，建议从 IndexedDB 用户偏好设置存储的值中获取。\n     */\n    const handleOutputPreviewPanelMounted: VNodeProps['onVnodeMounted'] = ({ el }) => {\n      const outputPreviewPanelRect = (el! as HTMLElement).getBoundingClientRect()\n\n      el!.style.left = `${window.innerWidth - outputPreviewPanelRect.width}px`\n      el!.style.top = `${window.innerHeight - outputPreviewPanelRect.height}px`\n    }\n\n    onMounted(() => {\n      log.log('[Hello] 用户界面已加载', [window.__sfgb_runtime_config__, navigator.userAgent])\n    })\n\n    return {\n      setSvgCanvasVm,\n      handleOutputPreviewPanelMounted,\n\n      filterLibraryPanelWidth,\n      stuffConfigPanelWidth,\n      topMenuBarHeight\n    }\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=1029aca4&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1029aca4&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1029aca4\"]])\n\nexport default __exports__","\nimport { defineComponent } from 'vue'\nimport setupStore from './store'\nimport AppMain from './views/AppMain/index.vue'\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    AppMain\n  },\n  setup() {\n    setupStore()\n  }\n})\n","import { render } from \"./App.vue?vue&type=template&id=4d753cf0&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4d753cf0&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/svg-filter-graph-builder/svg-filter-graph-builder/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","type EventHandler = (...args: any[]) => any\n\nexport class EventDoer {\n  private listeners!: Record<string, EventHandler[]>\n\n  constructor() {\n    this.listeners = {}\n  }\n\n  on(type: string, callback: EventHandler) {\n    if (!(type in this.listeners)) {\n      this.listeners[type] = []\n    }\n    this.listeners[type].push(callback)\n  }\n  once(type: string, callback: EventHandler) {\n    if (!(type in this.listeners)) {\n      this.listeners[type] = []\n    }\n    const wrapedCallback = (...args: unknown[]) => {\n      callback.call(this, ...args)\n      this.off(type, wrapedCallback)\n    }\n    this.listeners[type].push(wrapedCallback)\n  }\n  off(type: string, callback: EventHandler) {\n    if (!(type in this.listeners)) return\n    const typeHandlers = this.listeners[type]\n    if (!callback) {\n      typeHandlers.length = 0\n      return\n    }\n    for (let i = 0; i < typeHandlers.length; i++) {\n      if (typeHandlers[i] === callback) {\n        typeHandlers.splice(i, 1)\n        return\n      }\n    }\n  }\n  emit(type: string, detail: unknown) {\n    if (!(type in this.listeners)) {\n      return\n    }\n    const typeHandlers = this.listeners[type].concat()\n\n    for (let i = 0; i < typeHandlers.length; i++) {\n      typeHandlers[i].call(this, detail)\n    }\n  }\n  getListeners(type: string) {\n    if (type) {\n      return this.listeners[type]\n    }\n    return this.listeners\n  }\n}\n\n","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered() {\n      console.log('Service worker has been registered.')\n    },\n    cached() {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound() {\n      console.log('New content is downloading.')\n    },\n    updated() {\n      console.log('New content is available; please refresh.')\n    },\n    offline() {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error(error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","import { Directive } from 'vue'\nimport log from '@/plugins/log'\n\nconst pingping: Directive = {\n  beforeMount(el, { value }, vnode) {\n    const clickHandler = (ev: MouseEvent) => {\n      if (value?.remark) {\n        log.log(value.remark)\n      } else {\n        log.log(`[用户界面] 用户按下了CSS类为“${(ev.target as HTMLElement).className}”的${(ev.target as HTMLElement).tagName}元素`)\n      }\n    }\n    //\n    el.addEventListener(\n      'mousedown',\n      clickHandler\n    )\n    el.__vPingpingDispose__ = () => {\n      delete el.__vPingpingDispose__\n      el.removeEventListener(\n        'mousedown',\n        clickHandler\n      )\n    }\n  },\n  unmounted(el) {\n    el.__vPingpingDispose__()\n  }\n}\n\nexport default pingping\n","import '@/plugins/lu2'\nimport '@/plugins/db'\nimport '@/plugins/error-handler'\nimport ElIconPlugin from '@/plugins/element-plus'\n\nimport { createApp } from 'vue'\nimport App from './App.vue'\n\nimport { EventDoer } from './utils/event-doer'\nimport gogoendLog from './plugins/log'\n\nimport './registerServiceWorker'\nimport runtimeConfig from '../public/runtime-config.json'\n\nimport pingping from './directives/pingping'\n\nfetch('./runtime-config.json')\n  .then(res => {\n    return res.json()\n  })\n  .then(res => {\n    window.__sfgb_runtime_config__ = res as typeof runtimeConfig\n  })\n  .then(() => {\n    const app = createApp(App)\n\n    // FIXME: proxy.$eventHub拿不到？？？\n    app.config.globalProperties.$eventHub = new EventDoer()\n\n    app.use(ElIconPlugin)\n    app.directive('pingping', pingping)\n\n    app.mount('#app')\n\n    app.config.warnHandler = (...args) => gogoendLog.warn('[Vue]', args[0], args[2])\n    app.config.errorHandler = (...args) => gogoendLog.error('[Vue]', args[0], args[2])\n  })\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_gogoend_svg_filter_graph_builder\"] = self[\"webpackChunk_gogoend_svg_filter_graph_builder\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4273); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["PRODUCT_NAME","packageNameSeg","packageInfo","length","LogLevel","LOG_LEVEL_WRITE_TO_DB","preProcessLogArguments","args","result","forEach","it","includes","push","description","toString","Error","message","stack","serializedObject","JSON","parse","stringify","err","gogoendLog","async","returnValue","console","log","DEBUG","logsTable","add","Number","Date","appTable","get","value","LOG","warn","WARNING","error","ERROR","gogoendDb","Dexie","version","stores","products","table","where","equals","toArray","then","res","id","name","buildVersion","catch","_lut","i","uuid","d0","Math","random","d1","d2","d3","toUpperCase","currentProductBb","createdTime","lastModifiedTime","toCollection","first","put","key","fileStorage","window","addEventListener","ev","preventDefault","reason","install","app","component","ElIcon","Object","entries","ElementPlusIconsVue","render","_ctx","_cache","$props","$setup","$data","$options","_component_app_main","_resolveComponent","_openBlock","_createBlock","ALL_NODES_ON_CANVAS_SYMBOL","Symbol","ADD_NODE_SYMBOL","REMOVE_NODE_SYMBOL","ALL_LINKED_PATH_ON_CANVAS_SYMBOL","RELATIVE_PATH_MAP_INDEXED_BY_NODE_ID_SYMBOL","REMOVE_PATH_SYMBOL","ADD_PATH_SYMBOL","ADD_RELATION_IN_MAP_INDEXED_BY_NODE_ID_SYMBOL","NODE_REF_MAP_SYMBOL","NODE_FORM_VALUE_TYPE_SYMBOL","LINKED_PATHS_FOR_SERIALIZE_SYMBOL","EMPTY_CANVAS_STUFF_SYMBOL","canvasStuff","$eventHub","appEventHub","getCurrentInstance","appContext","config","globalProperties","nodes","ref","provide","addNode","node","unlinkNode","nodeId","idOfPathsWillBeRemoved","relativePathMapIndexedByNodeId","in","map","out","pathId","removePath","removeNode","emit","nodeRefMap","nodeFormValueMap","computed","nodeRef","nodeConfigRef","feAttrValue","linkedPathsForSerialize","linkedPaths","addPath","path","from","vmId","vm","attr","to","targetIndex","findIndex","targetPath","splice","values","afterPathRemoved","addRelationInMapIndexedByNodeId","linkedPath","fromPort","toPort","unref","emptyCanvasStuff","keys","DRAGGING_NODE_ICON_SYMBOL","GHOST_NODE_REF_SYMBOL","draggingNode","draggingNodeIcon","ghostNodeRef","FOCUSING_NODE_SYMBOL","focusingNode","setFocusingNode","on","SVG_CANVAS_VM_SYMBOL","SET_SVG_CANVAS_VM_SYMBOL","vmCache","svgCanvasVm","shallowRef","setSvgCanvasVm","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_defineComponent","__name","props","handleConfirm","type","Function","required","handleCancel","setup","__props","fileList","selectedValue","getFilterFileListFromDb","_createElementBlock","_createElementVNode","onSubmit","_withModifiers","_withDirectives","$event","_Fragment","_renderList","file","index","_toDisplayString","project","_vModelSelect","_resolveDynamicComponent","default","_withCtx","is","disabled","onClick","_","__exports__","getSelectFileWaitee","resolvePromise","rejectPromise","waitee","Promise","resolve","reject","LuDialog","title","content","el","this","querySelector","createApp","FileList","selectedFileIdentifier","hide","mount","nextTick","footerElOfLuDialog","footerTemplateInFileVm","children","appendChild","onHide","unmount","remove","helloWorld","stuff","position","nodeForms","operator","radius","in2","mode","links","product","authorIds","lastModifierId","samples","SAVE_CURRENT_PROJECT_SYMBOL","SAVE_CURRENT_PROJECT_AS_SYMBOL","CURRENT_PROJECT_SYMBOL","SET_CURRENT_PROJECT_SYMBOL","TRY_TO_CLOSE_CURRENT_PROJECT_SYMBOL","TRY_TO_SHOW_OPEN_PROJECT_DIALOG_SYMBOL","TRY_TO_OPEN_SAMPLE_PROJECT_SYMBOL","projectInfoState","proxy","$","provides","currentProject","setOpeningProject","closeCurrentProject","tryToCloseCurrentProject","confirm","buttons","events","undefined","dialog","tryToShowOpenFileDialog","selectedProjectId","projectToOpen","loadCanvasStuffFromSerializedData","collectCurrentFilterProjectFileData","currentUserProfileId","Set","projectFileData","saveCurrentProject","currentProjectId","data","modify","saveCurrentProjectAs","projectName","trim","prompt","newProjectFileDataInfo","tryToOpenSampleProject","sample","sampleFileId","SHOW_PWA_INSTALL_DIALOG_SYMBOL","PWA_BEFORE_INSTALL_WAITEE_SYMBOL","pwa","pwaBeforeInstallWaitee","showPwaInstallDialog","userChoice","outcome","e","setupStore","focusState","vmStore","fn","_component_ping_ping","_component_top_menu_bar","_component_svg_canvas","_component_svg_canvas_overlay_tip","_component_node_library_panel","_component_stuff_config_panel","_component_output_preview_panel","_createVNode","style","_normalizeStyle","height","topMenuBarHeight","top","left","filterLibraryPanelWidth","width","stuffConfigPanelWidth","onVnodeMounted","vnode","right","handleOutputPreviewPanelMounted","xmlns","x","y","viewBox","_component_io_node","_component_io_path","ref_for","setNodeRefMap","onPortStart","handlePortStart","onPortMove","handlePortMove","onPortConnect","handlePortConnect","onPortCancel","handlePortCancel","onDestinationChange","handleDestinationChange","defaultRelativePath","onNodeMove","handleNodeMove","pathDArguments","d","ghostPathD","ghostNodeType","ghostNodePosition","relativePaths","_createCommentVNode","_hoisted_5","transform","_component_Delete","_component_el_icon","_directive_pingping","_resolveDirective","_normalizeClass","isFocused","onMousedown","handleNodeMousedown","handleNodeBodyClick","POINT_R","borderWidth","POINT_BORDER_W","setFeAttrEls","onMouseenter","handlePortMouseenter","InternalNodeImplement","_mergeProps","copySvgFilterCode","_createTextVNode","remark","copyCssRule","mouseEventHelper","handlers","start","move","up","originEl","target","handleTargetTouchEvent","document","removeEventListener","SourceGraphic","ports","SourceAlpha","feConvolveMatrix","showInConfigPanel","kernelMatrix","defaultValue","order","divisor","range","step","bias","targetX","targetY","edgeMode","enum","kernelUnitLength","preserveAlpha","feTurbulence","label","baseFrequency","numOctaves","stitchTiles","seed","feDropShadow","dx","dy","stdDeviation","feMerge","feOffset","feColorMatrixUsingMatrix","tag","showOnNode","join","matrixInFeColorMatrix","feColorMatrixUsingSaturate","feColorMatrixUsingHueRotate","feColorMatrixUsingLuminanceToAlpha","feTile","feDisplacementMap","scale","xChannelSelector","yChannelSelector","feImage","href","feBlend","feCompositeWithoutK","feCompositeWithK","k1","k2","k3","k4","feFlood","feGaussianBlur","feMorphology","feComponentTransfer","R","G","B","A","feFuncXUsingIdentity","feFuncXUsingTable","tableValues","feFuncXUsingLinearOrDiscrete","slope","intercept","feFuncXUsingGamma","amplitude","exponent","offset","StringLiteral","SVG_CANVAS_RECT_SYMBOL","getPortElType","dataset","portType","isPortEl","vnode2dom","rootEl","createElementNS","String","setAttribute","Array","isArray","child","append","getTopoOrder","paths","inDegree","Map","graph","fromVm","toVm","has","set","queue","cur","shift","toEnQueue","item","noop","_args","fe","r","inject","ioNodeEl","feAttrEls","onBeforeUpdate","allDescendants","orderedAllDescendants","filterThumbUrl","prefix","h","getVNodeFragment","template","outerHTML","encodeURIComponent","HANDLE_LENGTH","PATH_STROKE_W","defineComponent","useIoNode","foreignPortValue","newValueMap","p","mergedFeAttrValue","nodeAttrs","prototype","hasOwnProperty","call","afterPathConnected","_withScopeId","n","_pushScopeId","_popScopeId","parentVm","parent","find","removedPath","filter","readonly","_vModelText","lazy","arr","fill","childVNodeAttrMap","assign","IoNode","components","NormalNode","MergeNode","SourceNode","StringLiteralNode","MatrixInFeColorMatrixNode","ComponentTransferRootNode","ComponentTransferChildNode","svgCanvasRect","clickedRelativePosition","canvasScrollEl","currentPosition","getBoundingClientRect","pageX","scrollLeft","pageY","scrollTop","newPosition","handlePortMouseout","innerLoop","allInPaths","renderOfOrderedAllDescendants","TempComponent","tempVueApp","tempEl","svgFilterCode","navigator","clipboard","writeText","LuLightTip","cssText","focused","onFocus","onBlur","strokeWidth","pathD","handlePathClick","dArgs","pathRef","getPointAtLength","getTotalLength","handlePathBlur","checkLoop","hasLoop","checkDuplicateLink","duplicatedLinks","assertPortCanBeConnected","TypeError","useLayoutCache","elRect","ro","ResizeObserver","entry","observer","onMounted","observe","$el","onBeforeUnmount","disconnect","IoPath","ghostPathDArguments","feAttr","coord","slice","nodeFormValue","hasOwn","newIt","structuredClone","fromPortCoord","toPortCoord","fontSize","_unref","menuGroup","group","icon","handleIconMousedown","$emit","clientX","clientY","svgCanvasVmElRect","_hoisted_6","_hoisted_7","_component_form_item","formFieldConfig","some","port","schema","marginBottom","fieldId","fieldValueIsFromForeignPort","resolveValueFromForeignPort","commonInputComponentAttrs","onChange","stopPropagation","option","size","min","max","FormItem","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_component_Rank","_component_filter_def","_directive_move","_directive_resize","outputPreviewPanelRootEl","color","sourceImageSrc","removePreviewImage","saveFilteredImage","onDragstart","onDragover","dragIsHovering","onDragleave","onDrop","handleDropOnImageWrap","src","onError","display","opacity","visibility","handleFileInputChange","fileInputEl","click","showImageUrlInputDialog","loadSampleImage","_vShow","filterElId","FilterDef","directives","mounted","__vDragMainElToBeDragged__","mouseStartHandler","__vDragClickedRelativePosition__","checkAndCorrectPosition","parseInt","mainElToBeDraggedRect","innerWidth","innerHeight","__vDragDispose__","unmounted","resize","__vResizeMainElToBeResized__","currentRect","newSize","__vResizeDispose__","watch","nVal","oVal","URL","revokeObjectURL","onUnmounted","newImageFile","dataTransfer","files","createObjectURL","url","filteredContentEl","sourceImageEl","clonedContentNode","cloneNode","imageEl","once","minWidth","naturalWidth","minHeight","naturalHeight","tempWrapperElForSnapshot","createElement","bottom","overflow","body","dataUrl","domtoimage","decodedData","atob","urlSegs","split","uint8Arr","Uint8Array","charCodeAt","blob","Blob","open","UNSAVED_PROJECT_NAME","_createStaticVNode","showAboutDialog","AboutContent","onRemove","activeMenuIndexedById","handleMouseenter","menuItem","handleMouseleave","closeAndNewProject","menuTemplate","subMenu","titleText","textSegment","unshift","menu","onMouseleave","POLLING_INTERVAL","logDestination","__sfgb_runtime_config__","stopPingFlag","setupPingTimer","debug","setTimeout","logs","limit","logIds","formData","FormData","fetch","method","json","code","bulkDelete","TopMenuBar","SvgCanvas","SvgCanvasOverlayTip","NodeLibraryPanel","StuffConfigPanel","OutputPreviewPanel","PingPing","outputPreviewPanelRect","userAgent","AppMain","EventDoer","constructor","listeners","callback","wrapedCallback","off","typeHandlers","detail","concat","getListeners","register","ready","registered","cached","updatefound","updated","offline","pingping","beforeMount","clickHandler","className","tagName","__vPingpingDispose__","App","use","ElIconPlugin","directive","warnHandler","errorHandler","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","getter","__esModule","a","definition","o","defineProperty","enumerable","g","globalThis","obj","prop","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}